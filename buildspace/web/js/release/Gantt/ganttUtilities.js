$.gridify=function(a,g){var e={resizeZoneWidth:10};$.extend(e,g);var c=$("<div>").addClass("gdfWrapper");c.append(a);var d=a.clone();d.addClass("fixHead");d.find("tbody").remove();c.append(d);c.append(a);for(var b=d.find(".gdfColHeader"),h=a.find(".gdfColHeader"),f=0;f<b.length;f++)b.eq(f).data("fTh",h.eq(f));a.width(0);d.width(0);d.find("th.gdfColHeader.gdfResizable:not(.gdfied)").mouseover(function(){$(this).addClass("gdfColHeaderOver")}).bind("mouseout.gdf",function(){$(this).removeClass("gdfColHeaderOver");
$.gridify.columInResize||$("body").removeClass("gdfHResizing")}).bind("mousemove.gdf",function(b){if(!$.gridify.columInResize){var a=$(this);b=b.pageX-a.offset().left;a.width()-b<e.resizeZoneWidth?$("body").addClass("gdfHResizing"):$("body").removeClass("gdfHResizing")}}).bind("mousedown.gdf",function(b){var a=$(this);b=b.pageX-a.offset().left;a.width()-b<e.resizeZoneWidth&&($("body").unselectable(),$.gridify.columInResize=$(this),$(document).bind("mousemove.gdf",function(b){b=b.pageX-$.gridify.columInResize.offset().left;
$.gridify.columInResize.width(b);$.gridify.columInResize.data("fTh").width(b)}).bind("mouseup.gdf",function(){$(this).unbind("mousemove.gdf").unbind("mouseup.gdf").clearUnselectable();$("body").removeClass("gdfHResizing");delete $.gridify.columInResize}))}).addClass("gdfied unselectable").attr("unselectable","true");a.find("td.gdfCell:not(.gdfied)").each(function(){var b=$(this);if(b.is(".gdfEditable")){var a=$("<input type='text'>").addClass("gdfCellInput");a.val(b.text())}else a=$("<div>").addClass("gdfCellWrap"),
a.html(b.html());b.empty().append(a)}).addClass("gdfied");return c};
$.splittify={init:function(a,g,e,c){c=c||50;var d=$("<div>").addClass("splitterContainer"),b=$("<div>").addClass("splitElement splitBox1"),h=$("<div>").addClass("splitElement vSplitBar").attr("unselectable","on").html("|").css("padding-top",a.height()/2+"px"),f=$("<div>").addClass("splitElement splitBox2"),k=new function(b,a,c,d){this.element=b;this.firstBox=a;this.secondBox=c;this.splitterBar=d;this.firstBoxMinWidth=this.perc=0;this.resize=function(b){this.perc=b?b:this.perc;b=this.element.width();
var a=this.firstBox.get(0).scrollWidth,c=b*this.perc/100,c=c>this.firstBoxMinWidth?c:this.firstBoxMinWidth,c=c<a?c:a;this.firstBox.css({width:c});this.splitterBar.css({left:c});this.secondBox.css({left:c+this.splitterBar.width(),width:b-c-this.splitterBar.width()})}}(d,b,f,h);k.perc=c;b.append(g);f.append(e);d.append(b).append(f).append(h);a.append(d);g=a.innerWidth();c=g*c/100-h.width();e=b.get(0).scrollWidth;c=c>e?e:c;b.width(c).css({left:0});h.css({left:b.width()});f.width(g-c-h.width()).css({left:b.width()+
h.width()});h.bind("mousedown.gdf",function(a){$.splittify.splitterBar=$(this);var c=b.get(0).scrollWidth;$("body").unselectable().bind("mousemove.gdf",function(a){var d=$.splittify.splitterBar;a=a.pageX-d.parent().offset().left;var e=d.parent().width();a=a>k.firstBoxMinWidth?a:k.firstBoxMinWidth;a=a<c-10?a:c-10;d.css({left:a});b.width(a);f.css({left:a+d.width(),width:e-a-d.width()});k.perc=b.width()/k.element.width()*100}).bind("mouseup.gdf",function(){$(this).unbind("mousemove.gdf").unbind("mouseup.gdf").clearUnselectable();
delete $.splittify.splitterBar})});var l=!1;b.add(f).scroll(function(c){c=$(this);var d=c.scrollTop();c.is(".splitBox1")&&"splitBox2"!=l?(l="splitBox1",f.scrollTop(d)):c.is(".splitBox2")&&"splitBox1"!=l&&(l="splitBox2",b.scrollTop(d));f.find(".fixHead").css("top",d);b.find(".fixHead").css("top",d);a.stopTime("reset").oneTime(100,"reset",function(){l=""})});return k}};function incrementDateByWorkingDays(a,g){var e=new Date(a);e.incrementDateByWorkingDays(g);return e.getTime()}
function recomputeDuration(a,g){return(new Date(a)).distanceInWorkingDays(new Date(g))}Array.prototype.filter||(Array.prototype.filter=function(a,g){var e=this.length;if("function"!=typeof a)throw new TypeError;for(var c=[],d=0;d<e;d++)if(d in this){var b=this[d];a.call(g,b,d,this)&&c.push(b)}return c});
