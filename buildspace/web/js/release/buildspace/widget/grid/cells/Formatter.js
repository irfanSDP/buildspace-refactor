define("buildspace/widget/grid/cells/Formatter","dojo/_base/declare dojo/currency dojo/number dijit/form/Button dojo/_base/lang dojo/i18n!buildspace/nls/Common".split(" "),function(k,h,e,l,m,g){k=k("buildspace.widget.grid.cells.Formatter",null,{rowCountCellFormatter:function(a,b,c){a=this.grid.getItem(b);void 0!=a.type&&1>parseInt(String(a.type))&&c.customClasses.push("invalidTypeItemCell");void 0!=a.has_note&&"true"==a.has_note&&c.customClasses.push("hasNoteTypeItemCell");void 0!=a.version&&0<parseInt(String(a.version))&&
(void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==a.version?c.customClasses.push("hasCurrentAddendumTypeItemCell"):c.customClasses.push("hasAddendumTypeItemCell"));return parseInt(b)+1},disabledCellFormatter:function(a,b){return"Yes"==this.grid.getItem(b).disable?'<span style="color:#808080">'+a+"</span>":a},analyzerDescriptionCellFormatter:function(a,b){return(b=this.grid.getItem(b))&&0<parseInt(String(b.id))?a:'<span style="color:#FF0000">'+a+"</span>"},allCellFormatter:function(a,
b){return(a=this.grid.getItem(b))&&0<parseInt(String(a.id))?'<a href="#" onclick="return false;">'+g.all+"</a>":"&nbsp;"},removeCellFormatter:function(a,b){return(a=this.grid.getItem(b))&&0<parseInt(String(a.id))?'<a href="#" onclick="return false;">'+g.remove+"</a>":"&nbsp;"},deleteCellFormatter:function(a,b){a=this.grid.getItem(b);return 0<parseInt(String(a.id))?'<a href="#" onclick="return false;">'+g.delete+"</a>":"&nbsp;"},moveUpCellFormatter:function(a,b){return(a=this.grid.getItem(b))&&0<parseInt(String(a.id))?
'<a href="#" onclick="return false;">'+g.up+"</a>":"&nbsp;"},moveDownCellFormatter:function(a,b){return(a=this.grid.getItem(b))&&0<parseInt(String(a.id))?'<a href="#" onclick="return false;">'+g.down+"</a>":"&nbsp;"},selectedCellFormatter:function(a,b){a=(b=this.grid.getItem(b))&&0<parseInt(String(b.id))&&a?g.selected:g.select;return b&&0<parseInt(String(b.id))?'<a href="#" onclick="return false;">'+a+"</a>":"&nbsp;"},awardedCellFormatter:function(a,b){return(b=this.grid.getItem(b))&&0<parseInt(String(b.id))&&
a?'<span class="dijitReset dijitInline dijitIcon icon-16-container icon-16-checkmark2"></span>':"&nbsp;"},includedCellFormatter:function(a,b){var c=(b=this.grid.getItem(b))&&0<parseInt(String(b.id))&&a?g.included:g.include;a=a?"green":"red";return b&&0<parseInt(String(b.id))?'<a href="#" onclick="return false;" style="color: '+a+';">'+c+"</a>":"&nbsp;"},drillInCellFormatter:function(a,b){return(a=this.grid.getItem(b))&&0<parseInt(String(a.id))?'<a href="#" onclick="return false;">'+g.drillIn+"</a>":
"&nbsp;"},importRateButtonCellFormatter:function(a,b,c){a=this.grid.getItem(b);b=e.parse(a["rate-final_value"]);if(a&&0<parseInt(String(a.id))&&0!=b&&!isNaN(b)&&null!=b&&parseInt(String(a.type))!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER&&parseInt(String(a.type))!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N&&a.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID&&void 0!=a.recalculate_resources_library_status&&!a.recalculate_resources_library_status[0])return'<a href="#" onclick="return false;">'+
g.import+"</a>";c.customClasses.push("disable-cell");return"&nbsp;"},setAdminButtonCellFormatter:function(a,b,c){a=(b=this.grid.getItem(b))&&0<parseInt(String(b.id))&&a?g.yesCapital:g.noCapital;return b&&0<parseInt(String(b.id))?'<a href="#" onclick="return false;">'+a+"</a>":"&nbsp;"},recalculateBillCellFormatter:function(a,b){return(a=this.grid.getItem(b))&&0<parseInt(String(a.id))&&0<parseInt(String(a.level))&&parseInt(String(a.type))==buildspace.constants.TYPE_BILL&&buildspace.isRecalculateBillStatus(a.bill_status[0])?
'<a href="#" onclick="return false;">'+g.recalculate+"</a>":"&nbsp;"},recalculateSorCellFormatter:function(a,b){return(a=this.grid.getItem(b))&&0<parseInt(String(a.id))&&a.recalculate_resources_library_status[0]?'<a href="#" onclick="return false;">'+g.recalculate+"</a>":"&nbsp;"},treeCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=16*parseInt(String(b.level));a=null==a?"&nbsp":a;if(parseInt(String(b.type))==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||parseInt(String(b.type))==
buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)a="<b>"+a+"</b>";else if(parseInt(String(b.type))==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PC_RATE){var f='<table class="prime_cost_rate-table"><tr><td class="label">&nbsp;</td><td colspan="3">'+g.ratePerNo+'</td></tr><tr><td class="label">'+g.supplyRate+'</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+h.format(b.pc_supply_rate)+'</td><td></td></tr><tr><td class="label">'+
g.wastage+" ("+e.format(b.pc_wastage_percentage,{places:2})+'%)</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+h.format(b.pc_wastage_amount)+'</td><td></td></tr><tr><td class="label">'+g.labourForInstallation+'</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+h.format(b.pc_labour_for_installation)+'</td><td></td></tr><tr><td class="label">'+
g.otherCost+'</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+h.format(b.pc_other_cost)+'</td><td></td></tr><tr><td class="label">'+g.profit+" ("+e.format(b.pc_profit_percentage,{places:2})+'%)</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+h.format(b.pc_profit_amount)+'</td><td></td></tr><tr><td class="label" style="text-align:right;font-weight:bold;">'+
g.total+'&nbsp;&nbsp;</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;border-top: 1px solid #1D1D1D;border-bottom: 1px solid #1D1D1D;font-weight:bold;text-align:right;">'+h.format(b.pc_total)+"</td><td>&nbsp;</td></tr></table>";a=a+"<br /><br />"+f}void 0!=b.has_note&&"true"==b.has_note&&c.customClasses.push("hasNoteTypeItemCell");void 0!=b.version&&0<parseInt(String(b.version))&&(void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==
b.version?c.customClasses.push("hasCurrentAddendumTypeItemCell"):c.customClasses.push("hasAddendumTypeItemCell"));void 0!=b.type&&1>parseInt(String(b.type))?c.customClasses.push("invalidTypeItemCell"):a=void 0!=b.project_revision_deleted_at&&"false"!=String(b.project_revision_deleted_at).toLowerCase()&&0<String(b.project_revision_deleted_at).length?'<div class="treeNode" style="color:black; padding-left:'+d+'px;"><div class="treeContent"><strike>'+a+"&nbsp;</strike></div></div>":'<div class="treeNode" style="color:black; padding-left:'+
d+'px;"><div class="treeContent">'+a+"&nbsp;</div></div>";return a},addendumInfoCellFormatter:function(a,b,c){a=this.grid.getItem(b);b="";a&&void 0!=a.addendum_version&&void 0!=a.is_add_latest_rev&&parseInt(a.addendum_version)&&(b='<span class="badge '+(parseInt(a.is_add_latest_rev)?"bg-orange":"bg-blue-sky")+'">'+a.addendum_version+"</span>&nbsp;");return b},tenderAlternativeInfoCellFormatter:function(a,b,c){a=this.grid.getItem(b);b="";a&&void 0!=a.tender_alternative_count&&parseInt(a.tender_alternative_count)&&
(b='<span class="badge bg-blue-sky">'+a.tender_alternative_count+"</span>&nbsp;");return b},printPreviewTreeCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=16*b.level;a=null==a?"&nbsp":a;b.type&&"tradeItem"===b.type[0]?a='<span style="color: blue; font-weight: bold;">'+a+"</span>":b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N?a="<b>"+a+"</b>":
b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PC_RATE&&(c='<table class="prime_cost_rate-table"><tr><td class="label">&nbsp;</td><td colspan="3">'+g.ratePerNo+'</td></tr><tr><td class="label">'+g.supplyRate+'</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+h.format(b.pc_supply_rate)+'</td><td></td></tr><tr><td class="label">'+g.wastage+" ("+e.format(b.pc_wastage_percentage,{places:2})+'%)</td><td style="width:10px;text-align:center;">'+
buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+h.format(b.pc_wastage_amount)+'</td><td></td></tr><tr><td class="label">'+g.labourForInstallation+'</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+h.format(b.pc_labour_for_installation)+'</td><td></td></tr><tr><td class="label">'+g.otherCost+'</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+
h.format(b.pc_other_cost)+'</td><td></td></tr><tr><td class="label">'+g.profit+" ("+e.format(b.pc_profit_percentage,{places:2})+'%)</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;text-align:right;">'+h.format(b.pc_profit_amount)+'</td><td></td></tr><tr><td class="label" style="text-align:right;font-weight:bold;">'+g.total+'&nbsp;&nbsp;</td><td style="width:10px;text-align:center;">'+buildspace.currencyAbbreviation+'</td><td style="width:50px;border-top: 1px solid #1D1D1D;border-bottom: 1px solid #1D1D1D;font-weight:bold;text-align:right;">'+
h.format(b.pc_total)+"</td><td>&nbsp;</td></tr></table>",a=a+"<br /><br />"+c),a='<div class="treeNode" style="color:black; padding-left:'+d+'px;"><div class="treeContent">'+a+"&nbsp;</div></div>");b.deleted&&1==b.deleted[0]&&(a="<span style='text-decoration: line-through'>"+a+"</span>");return a},claimTreeCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=16*b.level;a=null==a?"&nbsp":a;if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)a=
"<b>"+a+"</b>";void 0!=b.has_note&&"true"==b.has_note&&c.customClasses.push("hasNoteTypeItemCell");return a='<div class="treeNode" style="color:black; padding-left:'+d+'px;"><div class="treeContent">'+a+"&nbsp;</div></div>"},postContractPrintPreviewTreeCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=16*b.level;a=null==a?"&nbsp":a;if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)a="<b>"+a+"</b>";void 0!=b.type&&
1>b.type?c.customClasses.push("invalidTypeItemCell"):a='<div class="treeNode" style="color:black; padding-left:'+d+'px;"><div class="treeContent">'+a+"&nbsp;</div></div>";return a},typeListTreeCellFormatter:function(a,b,c){b=this.grid.getItem(b);return a='<div class="treeNode" style="font-weight: '+(0<b.level?"normal":"bold")+";color:black; padding-left:"+16*b.level+'px;"><div class="treeContent">'+(null==a?"&nbsp":a)+"&nbsp;</div></div>"},typeListLevelFormatter:function(a,b,c){0===this.grid.getItem(b).level[0]&&
c.customClasses.push("disable-cell");return a},typeCellFormatter:function(a,b,c){b=this.grid.getItem(b);switch(a){case buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER:a=isNaN(parseInt(b.level))?1:parseInt(b.level)+1;a=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_TEXT+"&nbsp;"+a;break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N:a=isNaN(parseInt(b.level))?1:parseInt(b.level)+1;a=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N_TEXT+"&nbsp;"+a;break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_WORK_ITEM:a=
buildspace.widget.grid.constants.HIERARCHY_TYPE_WORK_ITEM_TEXT;break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_HTML_EDITOR:a=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_HTML_EDITOR_TEXT;break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PROVISIONAL:a=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PROVISIONAL_TEXT;break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY:a=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY_TEXT;
break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_NOT_LISTED:a=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_NOT_LISTED_TEXT;break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PC_RATE:a=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PC_RATE_TEXT;break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM:a=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_TEXT;break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE:a=
buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE_TEXT;break;case buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT:a=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT_TEXT;break;default:a=buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID_TEXT}void 0!=b.has_note&&"true"==b.has_note&&c.customClasses.push("hasNoteTypeItemCell");void 0!=b.version&&0<b.version&&(void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==b.version?
c.customClasses.push("hasCurrentAddendumTypeItemCell"):c.customClasses.push("hasAddendumTypeItemCell"));return a},formulaCurrencyCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);var d=this.field.replace("-value",""),f=b[d+"-final_value"][0];void 0!=b.type&&1>b.type&&c.customClasses.push("invalidTypeItemCell");a=isNaN(f)||0==f||null==f?"&nbsp;":h.format(f);void 0!=b[d+"-has_error"]&&b[d+"-has_error"][0]&&c.customClasses.push("cell-error");void 0!=b.has_note&&"true"==b.has_note&&c.customClasses.push("hasNoteTypeItemCell");
void 0!=b.version&&0<b.version&&(void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==b.version?c.customClasses.push("hasCurrentAddendumTypeItemCell"):c.customClasses.push("hasAddendumTypeItemCell"));a=void 0!=b[d+"-linked"]&&b[d+"-linked"][0]?void 0!=b[d+"-has_build_up"]&&b[d+"-has_build_up"][0]?'<span style="color:#42b449;"><strong>'+a+"</strong></span>":'<span style="color:#42b449;">'+a+"</span>":void 0!=b[d+"-has_build_up"]&&b[d+"-has_build_up"][0]?'<span style="color:#0000FF;"><b>'+
a+"</b></span>":b[d+"-has_formula"][0]?'<span style="color:#F78181;">'+a+"</span>":0<=f?a:'<span style="color:#FF0000">'+a+"</span>";if(b.type&&"tradeItem"===b.type[0])c.customClasses.push("disable-cell"),a="&nbsp;";else if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),a="&nbsp;";return a},formulaPrelimCurrencyCellFormatter:function(a,
b,c){b=this.grid.getItem(b);a=e.parse(a);fieldName=c.field.split("-");a=isNaN(a)||0==a||null==a?"&nbsp;":h.format(a);b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID?(c.customClasses.push("disable-cell"),a="&nbsp;"):!fieldName||fieldName!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_RECURRING&&fieldName!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_TIMEBASED&&
fieldName!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_WORKBASED||c.customClasses.push("recurring-cell");return a},prelimPercentFormatter:function(a,b,c){b=this.grid.getItem(b);var d=c.fieldName;if(b&&b.grand_total&&0==b.grand_total[0])a="&nbsp;";else if(isNaN(a)||0==a)a="&nbsp;";else{var f=e.format(a,{places:2})+"%";a=c.fieldName==buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_TIMEBASED||c.fieldName==buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_WORKBASED?
0<a?'<span style="color:blue;">'+f+"</span>":'<span style="color:#FF0000">'+f+"</span>":0<a?"<span>"+f+"</span>":'<span style="color:#FF0000">'+f+"</span>"}b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID?(c.customClasses.push("disable-cell"),val="&nbsp;"):!d||d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_RECURRING&&d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_TIMEBASED&&
d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_WORKBASED?!d||d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_PREVIOUSCLAIM&&d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_CURRENTCLAIM&&d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_UPTODATECLAIM||c.customClasses.push("disable-cell"):c.customClasses.push("recurring-cell");return a},prelimAmountFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);
var d=c.fieldName;if(isNaN(a)||0==a||null==a)var f="&nbsp;";else f=h.format(a),f=c.fieldName==buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_TIMEBASED||c.fieldName==buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_WORKBASED?0<a?'<span style="color:blue;">'+f+"</span>":'<span style="color:#FF0000">'+f+"</span>":0<a?"<span>"+f+"</span>":'<span style="color:#FF0000">'+f+"</span>";b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||
b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID?c.customClasses.push("disable-cell"):!d||d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_RECURRING&&d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_TIMEBASED&&d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_WORKBASED?!d||d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_PREVIOUSCLAIM&&d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_CURRENTCLAIM&&
d!=buildspace.apps.PostContract.ProjectStructureConstants.PRELIM_COLUMN_UPTODATECLAIM||c.customClasses.push("disable-cell"):c.customClasses.push("recurring-cell");return f},formulaNumberCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);a=this.field.replace("-value","");var d=b[a+"-final_value"][0],f=isNaN(d)||0==d||null==d?"&nbsp;":e.format(d,{places:2});a=void 0!=b[a+"-has_build_up"]&&b[a+"-has_build_up"][0]?'<span style="color:#0000FF;"><b>'+f+"</b></span>":void 0!=b[a+"-linked"]&&
b[a+"-linked"][0]?'<span style="color:#42b449;">'+f+"</span>":b[a+"-has_formula"][0]?'<span style="color:#F78181;">'+f+"</span>":0<=d?f:'<span style="color:#FF0000">'+f+"</span>";if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),a="&nbsp;";return a},recalculateCellFormatter:function(a,b,c){b=this.grid.getItem(b);c=b.bill_status;
return a?'<a href="#" onclick="return false;">'+g.recalculate+"</a>":"item"==b.id&&(c!=buildspace.constants.BILL_STATUS_RESOURCE_ANALYSIS_RECALCULATE_ITEM||c!=buildspace.constants.BILL_STATUS_SCHEDULE_OF_RATE_ANALYSIS_RECALCULATE_ITEM||c!=buildspace.constants.BILL_STATUS_SCHEDULE_OF_QUANTITY_RECALCULATE_ITEM)||"element"==b.id&&(c==buildspace.constants.BILL_STATUS_RESOURCE_ANALYSIS_RECALCULATE_BILL||c==buildspace.constants.BILL_STATUS_SCHEDULE_OF_RATE_ANALYSIS_RECALCULATE_BILL||c==buildspace.constants.BILL_STATUS_SCHEDULE_OF_QUANTITY_RECALCULATE_BILL)||
"bill"==b.id&&c==buildspace.constants.BILL_STATUS_OPEN?"&nbsp;":'<span style="color:#ee9f05">'+g.pending+"</span>"},currencyCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=e.parse(a);isNaN(d)||0==d||null==d?a="&nbsp;":(a=h.format(d),a=0<=d?a:'<span style="color:#FF0000">'+a+"</span>");if(b&&b.hasOwnProperty("type")&&b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),
a="&nbsp;";void 0!=b.type&&1>b.type&&c.customClasses.push("invalidTypeItemCell");return a},companyRateCurrencyCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);void 0!=b.type&&1>b.type&&c.customClasses.push("invalidTypeItemCell");b.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER&&b.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N&&b.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID||c.customClasses.push("disable-cell");isNaN(a)||0==a||null==a?a=
"&nbsp;":(c=e.format(a,{places:2}),a=0<=a?c:'<span style="color:#FF0000">'+c+"</span>");return a},numberCellFormatter:function(a,b){a=e.parse(a);isNaN(a)||0==a||null==a?a="&nbsp;":(b=e.format(a,{places:2}),a=0<=a?b:'<span style="color:#FF0000">'+b+"</span>");return a},unitIdCellFormatter:function(a,b,c){a=this.grid.getItem(b);b=a.uom_symbol;var d=c.field;void 0!=a.type&&1>a.type&&c.customClasses.push("invalidTypeItemCell");void 0!=a.has_note&&"true"==a.has_note&&c.customClasses.push("hasNoteTypeItemCell");
void 0!=a.version&&0<a.version&&(void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==a.version?c.customClasses.push("hasCurrentAddendumTypeItemCell"):c.customClasses.push("hasAddendumTypeItemCell"));void 0!=a[d+"-has_error"]&&a[d+"-has_error"][0]&&c.customClasses.push("cell-error");if(a.type&&"tradeItem"===a.type[0])c.customClasses.push("disable-cell"),b="&nbsp;";else if(void 0!=a.type&&1>a.type)c.customClasses.push("invalidTypeItemCell"),b="&nbsp;";else if(a.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||
a.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)c.customClasses.push("disable-cell"),b="&nbsp;";return b},rfqUnitCellFormatter:function(a,b,c){a=this.grid.getItem(b);b=a.uom;if(a.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||a.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)c.customClasses.push("disable-cell"),b="&nbsp;";void 0!=a.type&&1>a.type&&c.customClasses.push("invalidTypeItemCell");return b},printPreviewSignCellFormatter:function(a,b,c){a=this.grid.getItem(b);
if(void 0!=a.type&&1>a.type)c.customClasses.push("invalidTypeItemCell"),val="&nbsp;";else if(a.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||a.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)c.customClasses.push("disable-cell"),val="&nbsp;";return a.sign_symbol},signCellFormatter:function(a,b){return this.grid.getItem(b).sign_symbol},yesNoCellFormatter:function(a,b,c){b=this.grid.getItem(b);a="true"==a?g.yesCapital:g.noCapital;if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||
b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY)c.customClasses.push("disable-cell"),a="&nbsp;";void 0!=b.has_note&&"true"==b.has_note&&c.customClasses.push("hasNoteTypeItemCell");void 0!=b.version&&0<b.version&&(void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==b.version?c.customClasses.push("hasCurrentAddendumTypeItemCell"):c.customClasses.push("hasAddendumTypeItemCell"));
return a},linkedCellFormatter:function(a,b){b=this.grid.getItem(b);return void 0!=b.linked&&b.linked[0]?'<span style="color:#42b449;">'+a+"</span>":a},unitCellFormatter:function(a,b,c){return this.grid.getItem(b).uom_symbol},unEditableUnitCellFormatter:function(a,b,c){a=this.grid.getItem(b);c.customClasses.push("disable-cell");return a.uom_symbol},linkedUnitIdCellFormatter:function(a,b,c){a=this.grid.getItem(b);b=a.uom_symbol;if(a.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||a.type==
buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||a.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),b="&nbsp;";return void 0!=a.linked&&a.linked[0]?'<span style="color:#42b449;">'+b+"</span>":b},linkedNumberCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=e.parse(a);d=isNaN(d)||0==d||null==d?"&nbsp;":e.format(d,{places:2});a=void 0!=b.linked&&b.linked[0]?'<span style="color:#42b449;">'+d+"</span>":0>a?'<span style="color:#FF0000">'+
d+"</span>":d;if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),a="&nbsp;";return a},linkedCurrencyCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=e.parse(a);d=isNaN(d)||0==d||null==d?"&nbsp;":h.format(d);a=void 0!=b.linked&&b.linked[0]?'<span style="color:#42b449;">'+d+"</span>":0>a?'<span style="color:#FF0000">'+
d+"</span>":d;if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),a="&nbsp;";return a},linkedPercentageCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=e.parse(a);d=isNaN(d)||0==d||null==d?"&nbsp;":e.format(d,{places:2})+"%";a=void 0!=b.linked&&b.linked[0]?'<span style="color:#42b449;">'+d+"</span>":0>a?'<span style="color:#FF0000">'+
d+"</span>":d;if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),a="&nbsp;";return a},formulaPercentageCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);a=this.field.replace("-value","");var d=b[a+"-final_value"][0],f=isNaN(d)||0==d||null==d?"&nbsp;":e.format(d,{places:2})+"%";a=void 0!=b[a+"-has_build_up"]&&
b[a+"-has_build_up"][0]?'<span style="color:#0000FF;"><b>'+f+"</b></span>":void 0!=b[a+"-linked"]&&b[a+"-linked"][0]?'<span style="color:#42b449;">'+f+"</span>":b[a+"-has_formula"][0]?'<span style="color:#F78181;">'+f+"</span>":0<=d?f:'<span style="color:#FF0000">'+f+"</span>";void 0!=b.type&&1>b.type&&c.customClasses.push("invalidTypeItemCell");if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),
a="&nbsp;";return a},unEditableCurrencyCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);if(isNaN(a)||0==a||null==a)a="&nbsp;";else{var d=h.format(a);a=0<=a?d:'<span style="color:#FF0000">'+d+"</span>"}void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");b.deleted&&1==b.deleted[0]&&(a="<span style='text-decoration: line-through'>"+a+"</span>");return a},printPreviewTendererCurrencyCellFormatter:function(a,b,c){b=this.grid.getItem(b);
a=e.parse(a);var d=this.field.replace("-grand_total","");if(isNaN(a)||0==a||null==a)a="&nbsp;";else{var f=h.format(a);a=0<=a?f:'<span style="color:#FF0000">'+f+"</span>"}void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):b[d+"-lowest_cost"]&&b[d+"-lowest_cost"][0]?c.customClasses.push("lowest-cost-cell"):b[d+"-highest_cost"]&&b[d+"-highest_cost"][0]?(a='<span style="color:white;">'+a+"</span>",c.customClasses.push("highest-cost-cell")):c.customClasses.push("disable-cell");b.deleted&&
1==b.deleted[0]&&(a="<span style='text-decoration: line-through'>"+a+"</span>");return a},printPreviewTendererRateCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);tendererId=this.field.replace("-rate-value","");if(isNaN(a)||0==a||null==a)a="&nbsp;";else{var d=h.format(a);a=0<=a?d:'<span style="color:#FF0000">'+d+"</span>"}void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):b[tendererId+"-lowest_cost"]&&b[tendererId+"-lowest_cost"][0]?c.customClasses.push("lowest-cost-cell"):
b[tendererId+"-highest_cost"]&&b[tendererId+"-highest_cost"][0]?(a='<span style="color:white;">'+a+"</span>",c.customClasses.push("highest-cost-cell")):c.customClasses.push("disable-cell");b.deleted&&1==b.deleted[0]&&(a="<span style='text-decoration: line-through'>"+a+"</span>");return a},unEditableNumberCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);if(isNaN(a)||0==a||null==a)a="&nbsp;";else{var d=e.format(a,{places:2});a=0<=a?d:'<span style="color:#FF0000">'+d+"</span>"}void 0!=
b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");return a},unEditableNumberAndTextCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=e.parse(a);if(isNaN(d)||0==d||null==d){if("string"!=typeof a||0==a)a="&nbsp;"}else a=e.format(d,{places:2}),a=0<=d?a:'<span style="color:#FF0000">'+a+"</span>";void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");return a},unEditableIntegerCellFormatter:function(a,
b,c){b=this.grid.getItem(b);a=e.parse(a);if(isNaN(a)||0==a||null==a)a="&nbsp;";else{var d=parseInt(a);a=0<=a?d:'<span style="color:#FF0000">'+d+"</span>"}void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");return a},unEditablePercentageCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);if(isNaN(a)||0==a||null==a)a="&nbsp;";else{var d=e.format(a,{places:2})+"%";a=0<=a?'<span style="color:blue;">'+d+"</span>":'<span style="color:#FF0000">'+
d+"</span>"}void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");return a},editablePercentageCellFormatter:function(a,b,c){a=e.parse(a);b=this.grid.getItem(b);if(isNaN(a)||0==a||null==a)a="&nbsp;";else{var d=e.format(a,{places:2})+"%";a=0<=a?'<span style="color:blue;">'+d+"</span>":'<span style="color:#FF0000">'+d+"</span>"}b.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER&&b.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N&&
b.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID&&b.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY||c.customClasses.push("disable-cell");return a},elementClaimEditablePercentageCellFormatter:function(a,b,c){a=e.parse(a);b=this.grid.getItem(b);if(isNaN(a)||0==a||null==a)a="&nbsp;";else{var d=e.format(a,{places:2})+"%";a=0<=a?'<span style="color:blue;">'+d+"</span>":'<span style="color:#FF0000">'+d+"</span>"}void 0===b.total_per_unit?c.customClasses.push("disable-cell"):
"0.00000"==b.total_per_unit[0]&&c.customClasses.push("disable-cell");return a},unEditableCellFormatter:function(a,b,c){b=this.grid.getItem(b);void 0==a&&(a="");void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");return a},billQuantityCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);a=this.field.replace("-value","");var d=b[a+"-final_value"][0],f=isNaN(d)||0==d||null==d?"&nbsp;":e.format(d,{places:2});void 0!=b.has_note&&"true"==
b.has_note&&c.customClasses.push("hasNoteTypeItemCell");void 0!=b.version&&0<b.version&&(void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==b.version?c.customClasses.push("hasCurrentAddendumTypeItemCell"):c.customClasses.push("hasAddendumTypeItemCell"));a=void 0!=b[a+"-has_build_up"]&&b[a+"-has_build_up"][0]?'<span style="color:#0000FF;"><b>'+f+"</b></span>":void 0!=b[a+"-linked"]&&b[a+"-linked"][0]?'<span style="color:#42b449;">'+f+"</span>":void 0!=b[a+"-has_formula"]&&b[a+"-has_formula"][0]?
'<span style="color:#F78181;">'+f+"</span>":0<=d?f:'<span style="color:#FF0000">'+f+"</span>";d=this.field.split("-");if(void 0!=b.type&&1>b.type)c.customClasses.push("invalidTypeItemCell"),a="&nbsp;";else if(void 0!=b[d[0]+"-include"]&&"false"==b[d[0]+"-include"][0]||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY)c.customClasses.push("disable-cell"),
a=b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY?g.rateOnly:"&nbsp;";return a},postContractRemeasurementQuantityCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);var d=this.field.replace("-qty_per_unit",""),f=isNaN(a)||0==a||null==a?"&nbsp;":e.format(a,{places:2});void 0!=b.has_note&&"true"==b.has_note&&c.customClasses.push("hasNoteTypeItemCell");void 0!=b.version&&0<b.version&&(void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==b.version?c.customClasses.push("hasCurrentAddendumTypeItemCell"):
c.customClasses.push("hasAddendumTypeItemCell"));a=void 0!=b[d+"-has_build_up"]&&b[d+"-has_build_up"][0]?'<span style="color:#0000FF;"><b>'+f+"</b></span>":0<=a?f:'<span style="color:#FF0000">'+f+"</span>";b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY?(c.customClasses.push("disable-cell"),
a=b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY?g.rateOnly:"&nbsp;"):"omission"==d?c.customClasses.push("disable-cell"):b&&0<b.id[0]&&!b.include[0]&&c.customClasses.push("disable-cell");return a},postContractPreliminariesQuantityCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);var d=this.field.replace("-qty_per_unit",""),f=isNaN(a)||0==a||null==a?"&nbsp;":e.format(a,{places:2});void 0!=b.has_note&&"true"==b.has_note&&c.customClasses.push("hasNoteTypeItemCell");
void 0!=b.version&&0<b.version&&(void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==b.version?c.customClasses.push("hasCurrentAddendumTypeItemCell"):c.customClasses.push("hasAddendumTypeItemCell"));a=void 0!=b[d+"-has_build_up"]&&b[d+"-has_build_up"][0]?'<span style="color:#0000FF;"><b>'+f+"</b></span>":0<=a?f:'<span style="color:#FF0000">'+f+"</span>";c.customClasses.push("disable-cell");if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||
b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY)a=b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY?g.rateOnly:"&nbsp;";return a},claimAmountCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=e.parse(a);isNaN(d)||0==d||null==d?a="&nbsp;":(a=h.format(d),a=0<=d?a:'<span style="color:#FF0000">'+a+"</span>");d=e.parse(b.total_per_unit);(b.include&&0==b.include[0]||0>=d||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||
b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY)&&c.customClasses.push("disable-cell");return a},elementClaimAmountCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=e.parse(a);isNaN(d)||0==d||null==d?a="&nbsp;":(a=h.format(d),a=0<=d?a:'<span style="color:#FF0000">'+a+"</span>");void 0===b.total_per_unit?c.customClasses.push("disable-cell"):
"0.00000"==b.total_per_unit[0]&&c.customClasses.push("disable-cell");return a},claimRateLSCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=e.parse(a);isNaN(d)||0==d||null==d?a="&nbsp;":(a=h.format(d),a=0<=d?a:'<span style="color:#FF0000">'+a+"</span>");(b.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT&&b.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE||e.parse(b.up_to_date_percentage)||e.parse(b.current_percentage)||e.parse(b.prev_percentage))&&
c.customClasses.push("disable-cell");return a},editableClaimPercentageCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);if(isNaN(a)||0==a||null==a)a="&nbsp;";else{var d=e.format(a,{places:2})+"%";a=0<=a?'<span style="color:blue;">'+d+"</span>":'<span style="color:#FF0000">'+d+"</span>"}d=e.parse(b.total_per_unit);(b.include&&0==b.include[0]||0>=d||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==
buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY)&&c.customClasses.push("disable-cell");return a},claimQtyPerUnitCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);var d=isNaN(a)||0==a||null==a?"&nbsp;":e.format(a,{places:2});a=void 0!=b[this.field+"-has_build_up"]&&b[this.field+"-has_build_up"][0]?'<span style="color:#0000FF;"><b>'+d+"</b></span>":0<=a?d:'<span style="color:#FF0000">'+d+"</span>";void 0!=b.type&&
1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");return a},rfqQuantityCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);a=isNaN(a)||0==a||null==a?"&nbsp;":e.format(a,{places:2});if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)c.customClasses.push("disable-cell"),a="&nbsp;";void 0!=b.type&&1>b.type&&c.customClasses.push("invalidTypeItemCell");return a},rfqRemarkCellFormatter:function(a,
b,c){b=this.grid.getItem(b);var d=a;if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)c.customClasses.push("disable-cell"),d="&nbsp;";a&&(d='<div style="color:blue;">'+a+"</div>");return d},rfqSupplierRemarkCellFormatter:function(a,b,c){b=this.grid.getItem(b);if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)c.customClasses.push("disable-cell"),
a="&nbsp;";void 0!=b.type&&1>b.type&&c.customClasses.push("invalidTypeItemCell");return a},rateAfterMarkupCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);a=isNaN(a)?0:a;var d=0!=a?h.format(a):"&nbsp;";void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");return 0<=a?d:'<span style="color:#FF0000">'+d+"</span>"},reportRateAfterMarkupCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);a=isNaN(a)?0:a;var d=0!=a?h.format(a):
"&nbsp;";if(void 0!=b.type&&1>b.type)c.customClasses.push("invalidTypeItemCell");else if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),val="&nbsp;";return 0<=a?'<span style="color:#42b449"><strong>'+d+"</strong></span>":'<span style="color:#FF0000">'+d+"</span>"},itemTotalMarkupPercentageCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");
b=this.grid.getItem(b);a=e.parse(a);b=e.parse(b.grand_total_after_markup[0]);a=isNaN(a)?0:a;b=isNaN(b)?0:b;a=0!=a?(b-a)/a*100:0;b=0!=a?e.format(a,{places:2})+"%":"&nbsp;";return 0<=a?b:'<span style="color:#FF0000">'+b+"</span>"},itemTotalMarkupAmountCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");b=this.grid.getItem(b);a=e.parse(a);b=e.parse(b.grand_total_after_markup[0]);a=isNaN(a)?0:a;b=isNaN(b)?0:b;a=b-a;b=0!=a?h.format(a):"&nbsp;";return 0<=a?b:'<span style="color:#FF0000">'+
b+"</span>"},itemOverallTotalAfterMarkupCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");a=e.parse(a);b=isNaN(a)||0==a?"&nbsp;":h.format(a);return 0<=a?'<span style="color:blue;">'+b+"</span>":'<span style="color:#FF0000">'+b+"</span>"},elementOverallTotalAfterMarkupCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");this.grid.getItem(b);a=e.parse(a);a=isNaN(a)?0:a;b=0!=a?h.format(a):"&nbsp;";return 0<=a?'<span style="color:blue;">'+b+"</span>":'<span style="color:#FF0000">'+
b+"</span>"},elementTotalMarkupPercentageCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");b=this.grid.getItem(b);a=e.parse(a);b=e.parse(b.overall_total_after_markup[0]);a=isNaN(a)?0:a;b=isNaN(b)?0:b;a=0!=a?(b-a)/a*100:0;b=0!=a?e.format(a,{places:2})+"%":"&nbsp;";return 0<=a?b:'<span style="color:#FF0000">'+b+"</span>"},elementTotalMarkupAmountCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");b=this.grid.getItem(b);a=e.parse(a);b=e.parse(b.overall_total_after_markup[0]);
a=isNaN(a)?0:a;b=isNaN(b)?0:b;a=b-a;b=0!=a?h.format(a):"&nbsp;";return 0<=a?b:'<span style="color:#FF0000">'+b+"</span>"},itemTotalPerUnitCellFormatter:function(a,b,c){b=this.grid.getItem(b);a=e.parse(a);var d=isNaN(a)||0==a?"&nbsp;":h.format(a);value=isNaN(a)||0==a||null==a?"&nbsp;":0>a?'<span style="color:#FF0000">'+d+"</span>":0<=a?'<span style="color:blue;">'+d+"</span>":'<span style="color:#FF0000">'+d+"</span>";b.type&&void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");
return value},itemTotalCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");a=e.parse(a);b=isNaN(a)||0==a?"&nbsp;":h.format(a);return 0<=a?'<span style="color:blue;">'+b+"</span>":'<span style="color:#FF0000">'+b+"</span>"},elementTypeJobPercentageCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");c=c.field.split("-");b=this.grid.getItem(b);a=e.parse(a);c=e.parse(b[c[0]+"-element_sum_total"]);isNaN(a)||isNaN(c)||(a=0!=c?a/c*100:0);isNaN(a)||0==a?a="&nbsp;":(c=e.format(a,
{places:2})+"%",a=0<=a?'<span style="color:blue;">'+c+"</span>":'<span style="color:#FF0000">'+c+"</span>");return a},elementTotalPerUnitCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");a=e.parse(a);a=isNaN(a)?0:a;isNaN(a)||0==a||null==a?a="&nbsp;":(b=h.format(a),a=0<=a?'<span style="color:blue;">'+b+"</span>":'<span style="color:#FF0000">'+b+"</span>");return a},elementTotalCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");a=e.parse(a);a=isNaN(a)?0:a;isNaN(a)||
0==a||null==a?a="&nbsp;":(b=h.format(a),a=0<=a?'<span style="color:blue;">'+b+"</span>":'<span style="color:#FF0000">'+b+"</span>");return a},elementJobPercentageCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");b=this.grid.getItem(b);a=e.parse(a);b=e.parse(b.element_sum_total);isNaN(a)||isNaN(b)||(a=0!=b?a/b*100:0);isNaN(a)||0==a?a="&nbsp;":(b=e.format(a,{places:2})+"%",a=0<=a?'<span style="color:blue;">'+b+"</span>":'<span style="color:#FF0000">'+b+"</span>");return a},projectBreakdownJobPercentageCellFormatter:function(a,
b,c){c.customClasses.push("disable-cell");b=this.grid.getItem(b);a=e.parse(a);b=e.parse(b.bill_sum_total);isNaN(a)||isNaN(b)||(a=0!=b?a/b*100:0);isNaN(a)||0==a?a="&nbsp;":(b=e.format(a,{places:2})+"%",a=0<=a?'<span style="color:blue;">'+b+"</span>":'<span style="color:#FF0000">'+b+"</span>");return a},billItemAnalysisTotalCellFormatter:function(a,b,c){c.customClasses.push("disable-cell");b=this.grid.getItem(b);a=b.hasOwnProperty("rate-final_value")?e.parse(b["rate-final_value"][0]):0;b=b.hasOwnProperty("quantity")?
e.parse(b.quantity[0]):0;a=isNaN(a)?0:a;b=isNaN(b)?0:b;a*=b;b=0!=a?h.format(a):"&nbsp;";return 0<=a?b:'<span style="color:#FF0000">'+b+"</span>"},analyzerRateCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);a=this.field.replace("-value","");var d=b[a+"-final_value"][0];if(b["multi-rate"][0])a='<span style="color:#ee9f05;">MULTI&nbsp;&nbsp;&nbsp;</span>';else{var f=isNaN(d)||0==d||null==d?"&nbsp;":h.format(d);a=void 0!=b[a+"-linked"]&&b[a+"-linked"][0]?'<span style="color:#42b449;">'+
f+"</span>":b[a+"-has_formula"][0]?'<span style="color:#F78181;">'+f+"</span>":0<=d?f:'<span style="color:#FF0000">'+f+"</span>";if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),a="&nbsp;"}return a},unEditableAnalyzerRateCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);a=this.field.replace("-value","");
var d=b[a+"-final_value"][0];if(b["multi-rate"]&&b["multi-rate"][0])a='<span style="color:#ee9f05;">MULTI&nbsp;&nbsp;&nbsp;</span>';else{var f=isNaN(d)||0==d||null==d?"&nbsp;":h.format(d);a=b[a+"-linked"]&&void 0!=b[a+"-linked"]&&b[a+"-linked"][0]?'<span style="color:#42b449;">'+f+"</span>":b[a+"-has_formula"]&&b[a+"-has_formula"][0]?'<span style="color:#F78181;">'+f+"</span>":0<=d?f:'<span style="color:#FF0000">'+f+"</span>";if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==
buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)a="&nbsp;"}b.type&&void 0!=b.type&&1>b.type?c.customClasses.push("invalidTypeItemCell"):c.customClasses.push("disable-cell");return a},analyzerItemMarkupCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);a=this.field.replace("-value","");var d=b[a+"-final_value"][0];if(b["multi-item_markup"]&&b["multi-item_markup"][0])a='<span style="color:#ee9f05;">MULTI&nbsp;&nbsp;&nbsp;</span>';
else{var f=isNaN(d)||0==d||null==d?"&nbsp;":e.format(d,{places:2});a=b[a+"-linked"]&&void 0!=b[a+"-linked"]&&b[a+"-linked"][0]?'<span style="color:#42b449;">'+f+"</span>":b[a+"-has_formula"]&&b[a+"-has_formula"][0]?'<span style="color:#F78181;">'+f+"</span>":0<=d?f:'<span style="color:#FF0000">'+f+"</span>";if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),
a="&nbsp;"}b.type&&"tradeItem"===b.type[0]?(c.customClasses.push("disable-cell"),a="&nbsp;"):b.type&&void 0!=b.type&&1>b.type&&c.customClasses.push("invalidTypeItemCell");return a},analyzerWastageCellFormatter:function(a,b,c){b=this.grid.getItem(b);e.parse(a);a=this.field.replace("-value","");var d=b[a+"-final_value"][0];if(b["multi-wastage"][0])a='<span style="color:#ee9f05;">MULTI&nbsp;&nbsp;&nbsp;</span>',1>b.type&&c.customClasses.push("invalidTypeItemCell");else{var f=isNaN(d)||0==d||null==d?
"&nbsp;":e.format(d,{places:2});a=void 0!=b[a+"-linked"]&&b[a+"-linked"][0]?'<span style="color:#42b449;">'+f+"</span>":b[a+"-has_formula"][0]?'<span style="color:#F78181;">'+f+"</span>":0<=d?f:'<span style="color:#FF0000">'+f+"</span>";if(1>b.type)c.customClasses.push("invalidTypeItemCell");else if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)c.customClasses.push("disable-cell"),
a="&nbsp;"}return a},analysisTreeCellFormatter:function(a,b,c){b=this.grid.getItem(b);var d=16*b.level;a=null==a?"&nbsp":a;if(b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)a="<b>"+a+"</b>";1>b.type?c.customClasses.push("invalidTypeItemCell"):a='<div class="treeNode" style="padding-left:'+d+'px;"><div class="treeContent">'+a+"&nbsp;</div></div>";return a},menuCellFormatter:function(a,b,c){b=this.grid.getItem(b);c=16*
b.level;var d="black";b.is_app[0]&&(d="blue");return a='<div class="treeNode" style="color:'+d+"; padding-left:"+c+'px;"><div class="treeContent">'+(null==a?"&nbsp":a)+"&nbsp;</div></div>"},billRefCellFormatter:function(a,b,c){b=this.grid.getItem(b);void 0!=b.version&&0<b.version?void 0!=this.grid.currentBillVersion&&this.grid.currentBillVersion==b.version?c.customClasses.push("hasCurrentAddendumTypeItemCell"):c.customClasses.push("hasAddendumTypeItemCell"):b&&b.type&&1>b.type&&c.customClasses.push("invalidTypeItemCell");
return a},boolIconCellFormatter:function(a,b,c){return 1==a?'<span class="dijitReset dijitInline dijitIcon icon-16-container icon-16-checkmark2"></span>':'<span class="dijitReset dijitInline dijitIcon icon-16-container icon-16-cross"></span>'},downloadCellFormatter:function(a,b,c){a=this.grid.getItem(b);return 0<=a.id?'<a href="'+a.file_path+'" download>'+a.name+"</a>":null},attachmentsCellFormatter:function(a,b,c){a=this.grid.getItem(b);b=0<=a.id?g.attachments:"";0<a.attachments&&(b=a.attachments);
return'<span style="color:blue;">'+b+"</span>"}});buildspace.widget.grid.constants={HIERARCHY_TYPE_HEADER:buildspace.constants.HIERARCHY_TYPE_HEADER,HIERARCHY_TYPE_WORK_ITEM:buildspace.constants.HIERARCHY_TYPE_WORK_ITEM,HIERARCHY_TYPE_ITEM_HTML_EDITOR:buildspace.constants.HIERARCHY_TYPE_ITEM_HTML_EDITOR,HIERARCHY_TYPE_ITEM_PROVISIONAL:buildspace.constants.HIERARCHY_TYPE_ITEM_PROVISIONAL,HIERARCHY_TYPE_ITEM_RATE_ONLY:buildspace.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY,HIERARCHY_TYPE_ITEM_NOT_LISTED:buildspace.constants.HIERARCHY_TYPE_ITEM_NOT_LISTED,
HIERARCHY_TYPE_ITEM_PC_RATE:buildspace.constants.HIERARCHY_TYPE_ITEM_PC_RATE,HIERARCHY_TYPE_ITEM_LUMP_SUM:buildspace.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM,HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT:buildspace.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT,HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE:buildspace.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE,HIERARCHY_TYPE_HEADER_N:buildspace.constants.HIERARCHY_TYPE_HEADER_N,HIERARCHY_TYPE_NOID:buildspace.constants.HIERARCHY_TYPE_NOID,HIERARCHY_TYPE_HEADER_TEXT:buildspace.constants.HIERARCHY_TYPE_HEADER_TEXT,
HIERARCHY_TYPE_WORK_ITEM_TEXT:buildspace.constants.HIERARCHY_TYPE_WORK_ITEM_TEXT,HIERARCHY_TYPE_ITEM_HTML_EDITOR_TEXT:buildspace.constants.HIERARCHY_TYPE_ITEM_HTML_EDITOR_TEXT,HIERARCHY_TYPE_ITEM_PROVISIONAL_TEXT:buildspace.constants.HIERARCHY_TYPE_ITEM_PROVISIONAL_TEXT,HIERARCHY_TYPE_ITEM_RATE_ONLY_TEXT:buildspace.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY_TEXT,HIERARCHY_TYPE_ITEM_NOT_LISTED_TEXT:buildspace.constants.HIERARCHY_TYPE_ITEM_NOT_LISTED_TEXT,HIERARCHY_TYPE_ITEM_PC_RATE_TEXT:buildspace.constants.HIERARCHY_TYPE_ITEM_PC_RATE_TEXT,
HIERARCHY_TYPE_ITEM_LUMP_SUM_TEXT:buildspace.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_TEXT,HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT_TEXT:buildspace.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT_TEXT,HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE_TEXT:buildspace.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE_TEXT,HIERARCHY_TYPE_HEADER_N_TEXT:buildspace.constants.HIERARCHY_TYPE_HEADER_N_TEXT,HIERARCHY_TYPE_NOID_TEXT:buildspace.constants.HIERARCHY_TYPE_NOID_TEXT};return k});
