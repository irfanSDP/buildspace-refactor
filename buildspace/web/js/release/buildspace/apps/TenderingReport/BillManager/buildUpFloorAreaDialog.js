define("buildspace/apps/TenderingReport/BillManager/buildUpFloorAreaDialog","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojox/grid/enhanced/plugins/Menu dojox/grid/enhanced/plugins/Selector dojox/grid/enhanced/plugins/Rearrange buildspace/widget/grid/plugins/FormulatedColumn dojo/_base/event dojo/keys dojo/currency dijit/focus dojo/request dijit/PopupMenuItem buildspace/widget/grid/cells/Select buildspace/widget/grid/cells/Textarea buildspace/widget/grid/cells/FormulaTextBox dojo/when dojo/html dojo/dom dojo/dom-style buildspace/widget/grid/cells/Formatter ./buildUpFloorAreaSummary ./PrintPreviewFormDialog dojo/i18n!buildspace/nls/BuildUpFloorArea".split(" "),
function(g,k,x,y,z,A,l,m,B,n,C,D,p,E,F,G,H,I,J,K,q,r,t,u,c){var v=g("buildspace.apps.TenderingReport.BillManager.BuildUpFloorArea.grid",dojox.grid.EnhancedGrid,{billColumnSettingId:null,style:"border-top:none;",selectedItem:null,keepSelection:!0,rowSelector:"0px",addUrl:null,updateUrl:null,deleteUrl:null,pasteUrl:null,buildUpSummaryWidget:null,type:null,constructor:function(a){this.rearranger=l(this,{});this.formulatedColumn=m(this,{})},canSort:function(a){return!1},dodblclick:function(a){},updateTotalBuildUp:function(){this.buildUpSummaryWidget.refreshTotalFloorArea()}}),
w=g("buildspace.apps.TenderingReport.BillManager.BuildUpFloorAreaGrid",dijit.layout.BorderContainer,{style:"padding:0px;width:100%;height:100%;border:0px;",gutters:!1,billColumnSettingId:null,type:null,gridOpts:{},postCreate:function(){this.inherited(arguments);k.mixin(this.gridOpts,{billColumnSettingId:this.billColumnSettingId,region:"center",type:this.type});var a=this.grid=new v(this.gridOpts);this.addChild(new dijit.layout.ContentPane({style:"width:100%",content:a,region:"center"}))}});return g("buildspace.apps.TenderingReport.BillManager.BuildUpFloorAreaDialog",
dijit.Dialog,{style:"padding:0px;margin:0px;",title:c.appName,billId:0,billColumnSettingId:0,columnSettingForm:null,unit:null,buildRendering:function(){var a=this.createContent();a.startup();this.content=a;this.inherited(arguments)},postCreate:function(){q.set(this.containerNode,{padding:"0px",margin:"0px"});this.closeButtonNode.style.display="none";this.inherited(arguments)},_onKey:function(a){key=a.keyCode;key==n.ESCAPE&&dojo.stopEvent(a)},onHide:function(){this.columnSettingForm.refreshColumn();
this.destroyRecursive()},createContent:function(){var a=this,e=new dijit.layout.BorderContainer({style:"padding:0px;width:900px;height:450px;",gutters:!1}),d=new dijit.Toolbar({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;"});d.addChild(new dijit.form.Button({label:c.print,iconClass:"icon-16-container icon-16-print",style:"outline:none!important;",onClick:function(d){a.openPrintingDialog()}}));d.addChild(new dijit.ToolbarSeparator);d.addChild(new dijit.form.Button({label:c.close,
iconClass:"icon-16-container icon-16-close",style:"outline:none!important;",onClick:dojo.hitch(this,"hide")}));var b=new r,f=[{name:"No",field:"id",styles:"text-align:center;",width:"40px",formatter:b.rowCountCellFormatter},{name:c.description,field:"description",width:"auto"},{name:c.factor,field:"factor-value",width:"100px",styles:"text-align:right;",formatter:b.formulaNumberCellFormatter},{name:c.length,field:"length-value",width:"100px",styles:"text-align:right;",formatter:b.formulaNumberCellFormatter},
{name:c.width,field:"width-value",width:"100px",styles:"text-align:right;",formatter:b.formulaNumberCellFormatter},{name:c.total,field:"total",width:"100px",styles:"text-align:right;",formatter:b.numberCellFormatter},{name:c.sign,field:"sign",width:"70px",styles:"text-align:center;",formatter:b.signCellFormatter}],h=dojo.data.ItemFileWriteStore({url:"billBuildUpFloorArea/getBuildUpFloorAreaItemList/bill_column_setting_id/"+a.billColumnSettingId,clearOnClose:!0}),b=t({billId:a.billId,billColumnSettingId:a.billColumnSettingId,
container:e,columnSettingForm:a.columnSettingForm,buildUpGridStore:h}),f=w({region:"center",billColumnSettingId:a.billColumnSettingId,gridOpts:{store:h,structure:f,buildUpSummaryWidget:b}}),f=this.makeGridContainer(f,c.appName);e.addChild(d);e.addChild(b);e.addChild(f);return e},makeGridContainer:function(a,c){var d=this.billId,b=dijit.byId("billManager-buildUpFloorArea_"+d+"-stackContainer");b&&dijit.byId("billManager-buildUpFloorArea_"+d+"-stackContainer").destroyRecursive();var b=new dijit.layout.StackContainer({style:"width:100%;height:100%;border:0px;",
region:"center",id:"billManager-buildUpFloorArea_"+d+"-stackContainer"}),f=new dijit.layout.ContentPane({title:c,content:a});b.addChild(f);var f=new dijit.layout.StackController({region:"top",containerId:"billManager-buildUpFloorArea_"+d+"-stackContainer"}),f=new dijit.layout.ContentPane({style:"padding:0px;overflow:hidden;","class":"breadCrumbTrail",region:"top",content:f}),e=new dijit.layout.BorderContainer({style:"padding:0px;width:100%;height:100%;border:0px;",gutters:!1,region:"center"});e.addChild(b);
e.addChild(f);dojo.subscribe("billManager-buildUpFloorArea_"+d+"-stackContainer-selectChild","",function(a){var c=dijit.byId("billManager-buildUpFloorArea_"+d+"-stackContainer");if(c){var b=c.getChildren();a=dojo.indexOf(b,dijit.byId(a.id));for(a+=1;b.length>a;)c.removeChild(b[a]),b[a].destroyRecursive(!0),a+=1}});return e},openPrintingDialog:function(){var a=this,e=buildspace.dialog.indeterminateProgressBar({title:c.pleaseWait+"..."});e.show();return p.get("viewTendererReporting/getPrintingInformation",
{handleAs:"json"}).then(function(d){d=new u({title:c.printFloorArea+" ("+a.unit+")",printURL:"billBuildUpFloorAreaPrinting/printFloorAreaReport",exportURL:"billBuildUpFloorAreaPrinting/exportFloorAreaReport",billColumnSettingId:a.billColumnSettingId,_csrf_token:d._csrf_token});e.hide();return d.show()},function(a){return e.hide()})}})});
