define("buildspace/apps/TenderingReport/BillManager","dojo/_base/declare dojo/dom-style dojo/when dojo/request dojo/currency dojo/store/Memory dijit/layout/AccordionContainer dijit/layout/ContentPane dojox/grid/EnhancedGrid ./BillManager/BillPropertiesForm ./BillManager/BillGrid ./BillManager/buildUpGrid buildspace/apps/ProjectBuilder/BillManager/ScheduleOfQuantityGrid ./BillManager/buildUpQuantityGrid ./BillManager/buildUpRateSummary ./BillManager/buildUpQuantitySummary ./BillManager/itemHtmlEditorDialog ./BillManager/primeCostRateDialog ./BillManager/lumpSumPercentDialog buildspace/widget/grid/cells/Formatter dojo/aspect dojo/i18n!buildspace/nls/Tendering".split(" "),
function(p,P,y,z,D,t,Q,A,R,E,B,F,G,H,I,J,K,L,M,C,S,e){var N=p("buildspace.apps.TenderingReport.BillPropertiesContainer",dijit.layout.BorderContainer,{style:"padding:0px;width:100%;margin:0px;border:0px;height:100%;",gutters:!1,billId:null,explorer:null,postCreate:function(){this.inherited(arguments);if(this.explorer.rootProject.status_id!=buildspace.constants.STATUS_PRETENDER)var a=!0;a=this.billPropertiesForm=E({billId:this.billId,explorer:this.explorer,locked:a?a:!1});this.addChild(a)}}),O=p("buildspace.apps.TenderingReport.BillElementContainer",
dijit.layout.BorderContainer,{style:"padding:0px;border:0px;width:100%;height:100%;",gutters:!1,billId:null,rootProject:null,bqVersion:0,columnData:null,explorer:null,currentBQAddendumId:-1,currentBillLockedStatus:!1,currentBillVersion:0,currentPrintableVersion:0,selectedElementStore:[],selectedItemStore:[],elementItemStore:[],postCreate:function(){this.inherited(arguments);var a=this;a.createElementGrid();dojo.subscribe("tenderingReportBillGrid"+a.billId+"-stackContainer-selectChild","",function(e){var c=
dijit.byId("tenderingReportBillGrid"+a.billId+"-stackContainer");if(c){var b=c.getChildren();e=dojo.indexOf(b,e);e+=1;if(b.length>e)for(;b.length>e;){c.removeChild(b[e]);b[e].destroyDescendants();b[e].destroyRecursive();e+=1;var g=dijit.byId("add_resource_category_"+a.billId+"-btn");g&&g.destroy()}}})},createElementGrid:function(){this.selectedElementStore=new t({idProperty:"id"});this.selectedItemStore=new t({idProperty:"id"});this.elementItemStore=[];var a=dijit.byId("tenderingReportBillGrid"+this.billId+
"-stackContainer");a&&dijit.byId("tenderingReportBillGrid"+this.billId+"-stackContainer").destroyRecursive(!0);var a=this.stackContainer=new dijit.layout.StackContainer({style:"border:0px;width:100%;height:100%;",region:"center",id:"tenderingReportBillGrid"+this.billId+"-stackContainer"}),g=dojo.data.ItemFileWriteStore({url:"billManager/getElementList/id/"+this.billId,clearOnClose:!0,urlPreventCache:!0}),c=this;dojo.xhrGet({url:"billManager/getBillInfo",handleAs:"json",content:{id:this.billId}}).then(function(b){try{c.currentBQAddendumId=
b.project_revision_status.id;c.currentBillLockedStatus=b.project_revision_status.locked_status;c.currentBillVersion=b.project_revision_status.version;c.currentPrintableVersion=b.printable_project_revision_status.version;c.currentBillType=b.bill_type.type;var l=new B({stackContainerTitle:"Element",billId:c.billId,rootProject:c.rootProject,pageId:"element-page-"+c.billId,id:"tenderingReport-element-page-container-"+c.billId,gridOpts:{gridContainer:c,store:g,typeColumns:b.column_settings,markupSettings:b.markup_settings,
bqCSRFToken:b.bqCSRFToken,currentBQAddendumId:c.currentBQAddendumId,currentBillLockedStatus:c.currentBillLockedStatus,currentBillVersion:c.currentBillVersion,currentPrintableVersion:c.currentPrintableVersion,currentBillType:c.currentBillType,currentGridType:"element",onRowDblClick:function(a){a=this.getItem(a.rowIndex);0<a.id[0]&&null!==a.description[0]&&""!==a.description[0]&&c.createItemGrid(a,b,l)},singleCheckBoxSelection:function(a){var b=a.rowIndex;a=this.selection.selected[b];b=this.getItem(b);
this.removedIds=[];if(a)return this.gridContainer.selectedElementStore.put({id:b.id[0]}),this.getAffectedItemsByElement(b,"add");this.gridContainer.selectedElementStore.remove(b.id[0]);this.removedIds.push(b.id[0]);return this.getAffectedItemsByElement(b,"remove")},toggleAllSelection:function(a){var b=this,c=this.selection;b.removedIds=[];if(a)return c.selectRange(0,b.rowCount-1),b.store.fetch({onComplete:function(a){dojo.forEach(a,function(a,d){0<a.id&&b.gridContainer.selectedElementStore.put({id:a.id[0]})})}}),
b.getAffectedItemsByElement(null,"add");c.deselectAll();b.store.fetch({onComplete:function(a){dojo.forEach(a,function(a,d){0<a.id&&(b.gridContainer.selectedElementStore.remove(a.id[0]),b.removedIds.push(a.id[0]))})}});return b.getAffectedItemsByElement(null,"remove")},getAffectedItemsByElement:function(a,b){var c=this,k=[],f=buildspace.dialog.indeterminateProgressBar({title:e.pleaseWait+"..."});f.show();if("add"===b)a?k.push(a.id[0]):c.gridContainer.selectedElementStore.query().forEach(function(a){k.push(a.id)});
else for(var d in c.removedIds)k.push(c.removedIds[d]);z.post("tenderingReport/getAffectedItemsByElements",{handleAs:"json",data:{bill_id:c.billId,element_ids:JSON.stringify(c.gridContainer.arrayUnique(k))}}).then(function(a){for(var d in a)c.gridContainer.elementItemStore[d]||(c.gridContainer.elementItemStore[d]=new t({idProperty:"id"}));if("add"===b)for(d in a)for(var e in a[d])c.gridContainer.elementItemStore[d].put({id:a[d][e]}),c.gridContainer.selectedItemStore.put({id:a[d][e]});else for(d in a)for(e in c.gridContainer.selectedElementStore.remove(d),
a[d])c.gridContainer.elementItemStore[d].remove(a[d][e]),c.gridContainer.selectedItemStore.remove(a[d][e]);f.hide()},function(a){f.hide();console.log(a)})}}}),m=new dijit.layout.StackController({region:"top",containerId:"tenderingReportBillGrid"+c.billId+"-stackContainer"}),v=new dijit.layout.ContentPane({style:"padding:0px;overflow:hidden;",baseClass:"breadCrumbTrail",region:"top",id:"tenderingReportBillGrid"+c.billId+"-controllerPane",content:m});c.addChild(a);c.addChild(v)}catch(h){console.debug(h)}})},
createItemGrid:function(a,g,c){var b=this,l={options:[buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_TEXT,buildspace.widget.grid.constants.HIERARCHY_TYPE_WORK_ITEM_TEXT,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_HTML_EDITOR_TEXT,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PROVISIONAL_TEXT,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PC_RATE_TEXT,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY_TEXT,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_NOT_LISTED_TEXT,
buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_TEXT,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT_TEXT,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE_TEXT,buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID_TEXT],values:[buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER,buildspace.widget.grid.constants.HIERARCHY_TYPE_WORK_ITEM,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_HTML_EDITOR,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PROVISIONAL,
buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PC_RATE,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_NOT_LISTED,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT,buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE,buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID]},m={options:[buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_TEXT],
values:[buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER]},v=new dojo.data.ItemFileWriteStore({url:"billManager/getItemList/id/"+a.id+"/bill_id/"+b.billId,clearOnClose:!0}),h=dojo.xhrGet({url:"billManager/getUnits/billId/"+b.billId,handleAs:"json"}),n=buildspace.dialog.indeterminateProgressBar({title:e.pleaseWait+"..."});n.show();return y(h,function(h){n.hide();try{new B({stackContainerTitle:a.description,billId:b.billId,rootProject:b.rootProject,id:"tenderingReport-item-page-container-"+b.billId,
elementId:a.id,pageId:"item-page-"+b.billId,type:"tree",gridOpts:{gridContainer:b,store:v,escapeHTMLInData:!1,typeColumns:g.column_settings,markupSettings:g.markup_settings,elementGridStore:c,hierarchyTypes:l,hierarchyTypesForHead:m,unitOfMeasurements:h,currentBQAddendumId:b.currentBQAddendumId,currentBillLockedStatus:b.currentBillLockedStatus,currentBillVersion:b.currentBillVersion,currentBillType:b.currentBillType,currentGridType:"item",onRowDblClick:function(a){var f=a.cell.field,d=this.getItem(a.rowIndex),
g=this.store;if(d&&void 0!==d.project_revision_deleted_at&&d.project_revision_deleted_at[0])return!1;if("rate-value"==f&&0<d.id)d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_WORK_ITEM||d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_HTML_EDITOR||d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PROVISIONAL||d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY||d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_NOT_LISTED||d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM||
d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE&&b.rootProject.status_id==buildspace.constants.STATUS_PRETENDER?b.createBuildUpRateContainer(d,g):d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_PC_RATE?(new L({itemObj:d,billGridStore:g,elementGridStore:c,currentBillLockedStatus:b.currentBillLockedStatus,currentBillVersion:b.currentBillVersion,currentItemVersion:d.version[0]})).show():d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT&&
(new M({itemObj:d,billGridStore:g,elementGridStore:c,currentBillLockedStatus:b.currentBillLockedStatus,currentBillVersion:b.currentBillVersion,currentItemVersion:d.version[0]})).show();else{var u=!1,h=a.cell.billColumnSettingId,w=!1;f.match(/-quantity_per_unit-value/gi)?(u=buildspace.constants.QUANTITY_PER_UNIT_ORIGINAL,w=!0):f.match(/-quantity_per_unit_remeasurement-value/gi)&&(u=buildspace.constants.QUANTITY_PER_UNIT_REMEASUREMENT);if(u&&0<d.id&&"true"==d[h+"-include"][0]&&d.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER&&
d.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N&&d.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID&&d.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM&&d.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE&&d.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_RATE_ONLY)if(0<d.uom_id[0]){a=dojo.xhrPost({url:"billBuildUpQuantity/getDimensionColumnStructure",content:{uom_id:d.uom_id[0]},handleAs:"json"});var x=buildspace.dialog.indeterminateProgressBar({title:e.pleaseWait+
"..."});x.show();a.then(function(a){b.createBuildUpQuantityContainer(d,a,h,u,g,c,w);x.hide()})}else buildspace.dialog.alert(e.buildUpQtyAlert,e.pleaseSetUOM,60,300);"description"==f&&0<d.id&&(d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_ITEM_HTML_EDITOR||d.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_NOID)&&(new K({itemObj:d,billId:b.billId,billGridStore:g,currentBillLockedStatus:b.currentBillLockedStatus,currentBillVersion:b.currentBillVersion,currentItemVersion:d.version[0]})).show()}},
singleCheckBoxSelection:function(a){var b=a.rowIndex;a=this.selection.selected[b];b=this.getItem(b);this.removedIds=[];if(a)return this.gridContainer.selectedItemStore.put({id:b.id[0]}),this.getAffectedElementsByItems(b,"add");this.gridContainer.selectedItemStore.remove(b.id[0]);this.removedIds.push(b.id[0]);return this.getAffectedElementsByItems(b,"remove")},toggleAllSelection:function(a){var b=this,d=this.selection;b.removedIds=[];if(a)return d.selectRange(0,b.rowCount-1),b.store.fetch({onComplete:function(a){dojo.forEach(a,
function(a,d){0<a.id&&b.gridContainer.selectedItemStore.put({id:a.id[0]})})}}),b.getAffectedElementsByItems(null,"add");d.deselectAll();b.store.fetch({onComplete:function(a){dojo.forEach(a,function(a,d){0<a.id&&(b.gridContainer.selectedItemStore.remove(a.id[0]),b.removedIds.push(a.id[0]))})}});return b.getAffectedElementsByItems(null,"remove")},getAffectedElementsByItems:function(a,b){var d=this,c=[],g=buildspace.dialog.indeterminateProgressBar({title:e.pleaseWait+"..."});g.show();if("add"===b)d.gridContainer.selectedItemStore.query().forEach(function(a){c.push(a.id)});
else for(var f in d.removedIds)c.push(d.removedIds[f]);z.post("tenderingReport/getAffectedElementsByItems",{handleAs:"json",data:{bill_id:d.billId,item_ids:JSON.stringify(d.gridContainer.arrayUnique(c))}}).then(function(a){for(var c in a)d.gridContainer.elementItemStore[c]||(d.gridContainer.elementItemStore[c]=new t({idProperty:"id"}));var e=dijit.byId("tenderingReport-element-page-container-"+d.billId);if("add"===b)for(c in a){for(var f in a[c])d.gridContainer.elementItemStore[c].put({id:a[c][f]}),
d.gridContainer.selectedItemStore.put({id:a[c][f]});e.grid.store.fetchItemByIdentity({identity:c,onItem:function(a){if(a)return d.gridContainer.selectedElementStore.put({id:c}),e.grid.rowSelectCell.toggleRow(a._0,!0)}})}else for(c in a){d.gridContainer.selectedElementStore.remove(c);for(f in a[c])d.gridContainer.elementItemStore[c].remove(a[c][f]),d.gridContainer.selectedItemStore.remove(a[c][f]);e.grid.store.fetchItemByIdentity({identity:c,onItem:function(a){if(a&&0===d.gridContainer.elementItemStore[c].data.length)return d.gridContainer.selectedElementStore.remove(c),
e.grid.rowSelectCell.toggleRow(a._0,!1)}})}g.hide()},function(a){g.hide();console.log(a)})}}})}catch(k){console.debug(k)}},function(a){})},createBuildUpRateContainer:function(a,g){var c=this,b=buildspace.billCurrencyAbbreviation?buildspace.billCurrencyAbbreviation:buildspace.currencyAbbreviation,l=new dijit.layout.BorderContainer({style:"padding:0px;width:100%;height:100%;border:0px;outline:none;",gutters:!1}),m=new dijit.layout.AccordionContainer({id:"accordian_"+c.billId+"_"+a.id+"-container",region:"center",
style:"padding:0px;width:100%;height:100%;border:0px;outline:none;"}),v=dojo.xhrGet({url:"billBuildUpRate/resourceList/item_id/"+a.id,handleAs:"json"}),h=new C,n=dojo.xhrGet({url:"billBuildUpRate/getUnits",handleAs:"json"}),q=buildspace.dialog.indeterminateProgressBar({title:e.pleaseWait+"..."});q.show();n.then(function(k){y(v,function(f){if(0==f.length)m.addChild(new dijit.layout.ContentPane({title:e.emptyResourceCategoryTitle,style:"padding:0px;border:0px;",doLayout:!1,id:"accPane-empty_resource-"+
a.id,content:'<div style="text-align:center;"><p><h1>'+e.emptyResourceCategory+"</h1></p></div> "}));else{var d=new I({id:"buildUpRateSummary-"+a.id,itemId:a.id,container:l,billGridStore:g,_csrf_token:a._csrf_token,currentBillLockedStatus:c.currentBillLockedStatus});dojo.forEach(f,function(f){var g=new dojo.data.ItemFileWriteStore({url:"billBuildUpRate/getBuildUpRateItemList/bill_item_id/"+a.id+"/resource_id/"+f.id,clearOnClose:!0});try{var k=new F({resource:f,BQItem:a,gridOpts:{itemId:a.id,store:g,
buildUpSummaryWidget:d,structure:[{name:"No.",field:"id",width:"30px",styles:"text-align:center;",formatter:h.rowCountCellFormatter},{name:e.description,field:"description",width:"auto",formatter:h.linkedCellFormatter},{name:e.number,field:"number-value",width:"100px",styles:"text-align:right;",formatter:h.formulaCurrencyCellFormatter},{name:e.constant,field:"constant-value",width:"100px",styles:"text-align:right;",formatter:h.formulaCurrencyCellFormatter},{name:e.qty,field:"quantity-value",width:"70px",
styles:"text-align:right;",formatter:h.formulaNumberCellFormatter},{name:e.unit,field:"uom_id",width:"70px",styles:"text-align:center;",formatter:h.linkedUnitIdCellFormatter},{name:e.rate,field:"rate-value",width:"120px",styles:"text-align:right;",formatter:h.formulaCurrencyCellFormatter},{name:e.total,field:"total",width:"120px",styles:"text-align:right;",formatter:h.linkedCurrencyCellFormatter},{name:e.wastage+" (%)",field:"wastage-value",width:"70px",styles:"text-align:right;",formatter:h.formulaCurrencyCellFormatter},
{name:e.lineTotal,field:"line_total",width:"120px",styles:"text-align:right;",formatter:h.linkedCurrencyCellFormatter}],currentBillLockedStatus:c.currentBillLockedStatus}});m.addChild(new dijit.layout.ContentPane({title:f.name+'<span style="color:blue;float:right;">'+b+"&nbsp;"+D.format(f.total_build_up)+"</span>",style:"padding:0px;border:0px;",doLayout:!1,id:"accPane-"+f.id+"-"+a.id,content:k}))}catch(x){console.log(x)}});l.addChild(d)}l.addChild(m);if(f=dijit.byId("tenderingReportBillGrid"+c.billId+
"-stackContainer")){var k=document.createElement("div"),k=new dojox.layout.ContentPane({title:buildspace.truncateString(a.description,60)+" ("+e.buildUpRate+")",style:"padding:0px;border:0px;",id:"buildUpRatePage-"+a.id,executeScripts:!0},k);f.addChild(k);k.set("content",l);f.selectChild("buildUpRatePage-"+a.id)}q.hide()})})},createBuildUpQuantityContainer:function(a,g,c,b,l,m,v){var h=this,n,q=new dijit.layout.BorderContainer({style:"padding:0;margin:0;width:100%;height:100%;border:none;outline:none;",
gutters:!1}),k=new dijit.layout.TabContainer({nested:!0,style:"padding:0;border:none;margin:0;width:100%;height:100%;",region:"center"}),f=new C;l=dojo.xhrGet({url:"billBuildUpQuantity/getLinkInfo/id/"+a.id+"/bcid/"+c+"/t/"+b,handleAs:"json"});var d=new dojo.data.ItemFileWriteStore({url:"billBuildUpQuantity/getBuildUpQuantityItemList/bill_item_id/"+a.id+"/bill_column_setting_id/"+c+"/type/"+b,clearOnClose:!0}),t=[buildspace.constants.SIGN_POSITIVE_TEXT,buildspace.constants.SIGN_NEGATIVE_TEXT],u=[buildspace.constants.SIGN_POSITIVE,
buildspace.constants.SIGN_NEGATIVE],p=!1,w=buildspace.dialog.indeterminateProgressBar({title:e.pleaseWait+"..."});w.show();l.then(function(l){var m=[{name:"No.",field:"id",styles:"text-align:center;",width:"30px",formatter:f.rowCountCellFormatter},{name:e.description,field:"description",width:"auto",cellType:"buildspace.widget.grid.cells.Textarea"},{name:e.factor,field:"factor-value",width:"100px",styles:"text-align:right;",cellType:"buildspace.widget.grid.cells.FormulaTextBox",formatter:f.formulaNumberCellFormatter}];
dojo.forEach(g,function(a){m.push({name:a.title,field:a.field_name,width:"100px",styles:"text-align:right;",cellType:"buildspace.widget.grid.cells.FormulaTextBox",formatter:f.formulaNumberCellFormatter})});m.push({name:e.total,field:"total",width:"100px",styles:"text-align:right;",formatter:f.numberCellFormatter});m.push({name:e.sign,field:"sign",width:"70px",styles:"text-align:center;",cellType:"dojox.grid.cells.Select",options:t,values:u,formatter:f.signCellFormatter});var r=new J({itemId:a.id,
billColumnSettingId:c,type:b,hasLinkedQty:l.has_linked_qty,container:q,_csrf_token:a._csrf_token,disableEditingMode:!0});l.has_linked_qty&&(p=!0,n=G({title:e.scheduleOfQuantities,BillItem:a,billColumnSettingId:c,disableEditingMode:!0,stackContainerId:"tenderingReportBillGrid"+h.billId+"-stackContainer",gridOpts:{qtyType:b,buildUpSummaryWidget:r,store:new dojo.data.ItemFileWriteStore({url:"billBuildUpQuantity/getScheduleOfQuantities/id/"+a.id+"/bcid/"+c+"/type/"+b,clearOnClose:!0}),structure:[{name:"No.",
field:"id",width:"30px",styles:"text-align:center;",formatter:f.rowCountCellFormatter},{name:e.description,field:"description",width:"auto",formatter:f.treeCellFormatter},{name:e.type,field:"type",width:"70px",styles:"text-align:center;",formatter:f.typeCellFormatter},{name:e.unit,field:"uom_id",width:"70px",styles:"text-align:center;",formatter:f.unitIdCellFormatter},{name:e.qty,field:"quantity-value",width:"100px",styles:"text-align:right;",formatter:f.formulaNumberCellFormatter}]}}));k.addChild(new H({title:e.manualQtyItems,
billColumnSettingId:c,BillItem:a,type:b,disableEditingMode:!0,gridOpts:{store:d,structure:m,buildUpSummaryWidget:r}}));p&&k.addChild(n);q.addChild(k);q.addChild(r);if(l=dijit.byId("tenderingReportBillGrid"+h.billId+"-stackContainer"))r=document.createElement("div"),r=new dojox.layout.ContentPane({title:buildspace.truncateString(a.description,60)+" ("+e.buildUpQuantity+" - "+a.uom_symbol+")",id:"buildUpQuantityPage-"+a.id,content:q,style:"padding:0px;border:0px;",grid:p?n.grid:null,executeScripts:!0},
r),l.addChild(r),l.selectChild("buildUpQuantityPage-"+a.id);w.hide()})},reconstructBillContainer:function(){var a=dijit.byId("tenderingReportBillGrid"+this.billId+"-controllerPane"),e=dijit.byId("tenderingReportBillGrid"+this.billId+"-stackContainer");a.destroyRecursive(!0);e.destroyRecursive(!0);this.createElementGrid()},markedCheckBoxObject:function(a,e){var c=a.store;e.query().forEach(function(b){b.id!=buildspace.constants.GRID_LAST_ROW&&c.fetchItemByIdentity({identity:b.id,onItem:function(b){if(b)return a.rowSelectCell.toggleRow(b._0,
!0)}})})},arrayUnique:function(a){return a.reverse().filter(function(a,c,b){return-1===b.indexOf(a,c+1)}).reverse()}});return p("buildspace.apps.TenderingReport.BillManager",dijit.layout.TabContainer,{region:"center",rootProject:null,style:"padding:0px;border:0px;margin:0px;width:100%;height:100%;",billId:null,billLayoutSettingId:null,explorer:null,nested:!0,postCreate:function(){this.inherited(arguments);var a=O({id:"bill_element_container_"+this.rootProject.id+"-bill-"+this.billId,rootProject:this.rootProject,
billId:this.billId,bqVersion:0,explorer:this.explorer}),g=N({billId:this.billId,explorer:this.explorer});this.addChild(new A({style:"padding:0px;border:0px;width:100%;height:100%;",title:e.elementTradeList,content:a}));g.billPropertiesForm.billElementObj=a;this.addChild(new A({style:"padding:0px;border:0px;width:100%;height:100%;",title:e.billProperties,content:g}))}})});
