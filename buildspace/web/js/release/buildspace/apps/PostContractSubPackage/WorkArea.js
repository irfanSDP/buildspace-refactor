define("buildspace/apps/PostContractSubPackage/WorkArea","dojo/_base/declare ./ProjectProperties ./ProjectBreakdown ./ClaimRevisionSettingsForm ./Preliminaries/PreliminariesBillManager ./StandardBillManager ./VariationOrder ./MaterialOnSite dojo/i18n!buildspace/nls/PostContractSubPackage".split(" "),function(g,h,k,l,m,n,p,q,f){var r=g("buildspace.apps.PostContractSubPackage.ProjectRevisionContainer",dijit.layout.BorderContainer,{style:"padding:0px;width:100%;margin:0px;border:0px;height:100%;",gutters:!1,
projectId:null,rootProject:null,subPackage:null,workarea:null,postCreate:function(){this.inherited(arguments);var a=this.claimRevisionSettingsForm=l({projectId:this.projectId,rootProject:this.rootProject,subPackage:this.subPackage,workarea:this.workarea});this.addChild(a)}});return g("buildspace.apps.PostContractSubPackage.WorkArea",dijit.layout.TabContainer,{region:"center",style:"padding:0px;margin:0px;border:0px;width:100%;height:100%;",rootProject:null,subPackage:null,postCreate:function(){this.inherited(arguments);
var a=this,b=buildspace.dialog.indeterminateProgressBar({title:f.pleaseWait+"..."});b.show();dojo.xhrGet({url:"postContractSubPackage/mainInfoForm",content:{id:a.rootProject.id,sub_package_id:a.subPackage.id},handleAs:"json"}).then(function(c){b.hide();buildspace.currencyAbbreviation=buildspace.billCurrencyAbbreviation=c.currency;var d=new k({id:"main-project_breakdown",title:f.projectBreakdown,rootProject:a.rootProject,subPackage:a.subPackage,workArea:a});a.addChild(d);a.addChild(new h({title:f.projectProperties,
rootProject:a.rootProject,id:"projectProperties-"+a.rootProject.id,data:c}));a.addChild(new r({title:f.claimRevision,id:a.rootProject.id[0]+"-ProjectRevision",projectId:a.rootProject.id[0],rootProject:a.rootProject,subPackage:a.subPackage,workarea:a}));a.selectChild(d)})},createContentPaneTab:function(a,b,c,d,e){c=new dijit.layout.ContentPane({closable:d,id:a,style:"padding:0px;border:0px;margin:0px;overflow:hidden;",title:buildspace.truncateString(b,35),content:c});this.addChild(c);this.selectChild(c);
c.pane_info={name:b,type:e,id:a}},removeBillTab:function(){var a=this.getChildren(),b;for(b in a)"object"==typeof a[b].pane_info&&a[b].pane_info.type==buildspace.apps.PostContractSubPackage.ProjectStructureConstants.TYPE_BILL&&(this.removeChild(a[b]),a[b].destroy())},removeTabByType:function(a){var b=this.getChildren(),c;for(c in b)"object"==typeof b[c].pane_info&&b[c].pane_info.type==a&&(this.removeChild(b[c]),b[c].destroy())},initTab:function(a,b){var c=!1,d=this.getChildren(),e;for(e in d)"object"==
typeof d[e].pane_info&&d[e].pane_info.id==a.id+"-form_"+a.type&&(c=!0,this.selectChild(d[e]));c||this.makeTab(a,b,!0)},makeTab:function(a,b,c){var d,e;switch(parseInt(a.type)){case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_BILL:d=buildspace.apps.PostContract.getBillTypeText(a.bill_type);e=a.id+"-form_"+a.type;d=buildspace.truncateString(a.title,35)+" :: "+d;b=a.bill_type==buildspace.apps.PostContract.ProjectStructureConstants.BILL_TYPE_PRELIMINARY?new m(b):new n(b);break;case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_VARIATION_ORDER:b=
new p(b);e=a.id+"-form_"+a.type;d=a.title;break;case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_MATERIAL_ON_SITE:b=new q(b);e=a.id+"-form_"+a.type;d=a.title;break;default:b=null,e=a.id+"-form_"+a.type,d=buildspace.truncateString(a.title,35)}this.createContentPaneTab(e,d,b,c,a.type)}})});
