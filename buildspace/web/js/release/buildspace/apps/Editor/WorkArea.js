define("buildspace/apps/Editor/WorkArea",["dojo/_base/declare","./ProjectProperties","./ProjectBreakdown","dojo/i18n!buildspace/nls/Tendering"],function(g,h,k,f){return g("buildspace.apps.Editor.WorkArea",dijit.layout.TabContainer,{region:"center",style:"padding:0px;margin:0px;border:0px;width:100%;height:100%;",project:null,postCreate:function(){this.inherited(arguments);buildspace.currencyAbbreviation=buildspace.billCurrencyAbbreviation=this.project.currency;var a=new k({id:"main-project_breakdown",
title:f.projectBreakdown,project:this.project,workArea:this});this.addChild(a);this.addChild(new h({title:f.projectProperties,project:this.project,workArea:this,id:"projectProperties-"+this.project.id}));this.selectChild(a)},createContentPaneTab:function(a,b,c,d,e){c=new dijit.layout.ContentPane({closable:d,id:a,style:"padding:0px;border:0px;margin:0px;overflow:hidden;",title:buildspace.truncateString(b,35),content:c});this.addChild(c);this.selectChild(c);c.pane_info={name:b,type:e,id:a}},removeBillTab:function(){var a=
this.getChildren(),b;for(b in a)"object"==typeof a[b].pane_info&&a[b].pane_info.type==buildspace.apps.Editor.ProjectStructureConstants.TYPE_BILL&&(this.removeChild(a[b]),a[b].destroy())},initTab:function(a,b){var c=!1,d=this.getChildren(),e;for(e in d)"object"==typeof d[e].pane_info&&d[e].pane_info.id==a.id+"-form_"+a.type&&(c=!0,this.selectChild(d[e]));c||this.makeTab(a,b,!0)},removeTabByType:function(a){var b=this.getChildren(),c;for(c in b)"object"==typeof b[c].pane_info&&b[c].pane_info.type==
a&&(this.removeChild(b[c]),b[c].destroy())},makeTab:function(a,b,c){switch(parseInt(a.type)){case buildspace.apps.Editor.ProjectStructureConstants.TYPE_BILL:var d=buildspace.apps.Editor.getBillTypeText(a.bill_type);b=new buildspace.apps.Editor.BillManager(b);var e=a.id+"-form_"+a.type;d=buildspace.truncateString(a.title,35)+" :: "+d;break;default:b=null,e=a.id+"-form_"+a.type,d=buildspace.truncateString(a.title,35)}this.createContentPaneTab(e,d,b,c,a.type)}})});
