define("buildspace/apps/Editor/PrintFinalBQDialog","dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/when dojo/html dojo/dom dojo/keys dojo/dom-style dijit/form/Form dijit/_WidgetBase dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ValidationTextBox dijit/Menu dijit/Dialog dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem dijit/PopupMenuItem dojo/i18n!buildspace/nls/PrintBillDialog".split(" "),function(f,n,p,q,r,t,g,h,u,v,w,x,y,z,A,k,B,C,
D,E,d){var l=f("buildspace.apps.Editor.PrintFinalBQGrid",dojox.grid.EnhancedGrid,{project:null,withPrice:!0,region:"center",style:"border-top:none;",canSort:function(a){return!1},postCreate:function(){var a=this,b=this.project;this.inherited(arguments);this.on("RowClick",function(c){var e=a.getItem(c.rowIndex);c=c.cell.field;if(e&&!isNaN(parseInt(String(e.id)))&&"print"==c)switch(parseInt(String(e.type))){case buildspace.constants.TYPE_BILL:return window.open("finalBQPdf/"+String(e.id)+"/"+(a.withPrice?
"1":"0")+"/"+b._csrf_token,"_blank"),window.focus()}})},dodblclick:function(a){this.onRowDblClick(a)}}),m=f("buildspace.apps.ViewTenderer.PrintBillGrid.CellFormatter",null,{rowCountCellFormatter:function(a,b,c){return parseInt(b)+1},printCellFormatter:function(a,b){return(a=this.grid.getItem(b))&&!isNaN(parseInt(String(a.id)))?'<a href="javascript:void(0);">'+d.print+"</a>":null}});return f("buildspace.apps.Editor.PrintFinalBQDialog",k,{style:"padding:0px;margin:0px;",title:d.printBQ,project:null,
tenderAlternative:null,withPrice:!0,buildRendering:function(){var a=this.createContent();a.startup();this.content=a;this.inherited(arguments)},postCreate:function(){h.set(this.containerNode,{padding:"0px",margin:"0px"});this.closeButtonNode.style.display="none";this.inherited(arguments)},_onKey:function(a){a.keyCode==g.ESCAPE&&dojo.stopEvent(a)},onHide:function(){this.destroyRecursive()},createContent:function(){var a=new dijit.layout.BorderContainer({style:"padding:0px;width:800px;height:350px;",
gutters:!1}),b=new dijit.Toolbar({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;border:0px;"});b.addChild(new dijit.form.Button({label:d.close,iconClass:"icon-16-container icon-16-close",style:"outline:none!important;",onClick:dojo.hitch(this,"hide")}));a.addChild(b);var c=this.tenderAlternative?parseInt(String(this.tenderAlternative.id)):-1;b=new m;c=dojo.data.ItemFileWriteStore({url:"finalBQPrintList/"+this.project.id+"/"+c});a.addChild(l({project:this.project,withPrice:this.withPrice,
store:c,structure:[{name:"No.",field:"id",width:"30px",styles:"text-align:center;",formatter:b.rowCountCellFormatter},{name:d.description,field:"title",width:"auto"},{name:d.numberOfItems,field:"item_count",width:"120px",styles:"text-align:center;"},{name:"&nbsp;",field:"print",width:"80px",styles:"text-align:center;",formatter:b.printCellFormatter}]}));return a}})});
