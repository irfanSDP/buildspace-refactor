define("buildspace/apps/Editor/TenderAlternativeListDialog","dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/keys dojo/dom-style dojo/on dijit/form/Form dojox/form/manager/_Mixin dojox/form/manager/_NodeMixin dojox/form/manager/_ValueMixin dojox/form/manager/_DisplayMixin dijit/_WidgetBase dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ValidationTextBox dojox/grid/EnhancedGrid buildspace/widget/grid/cells/Formatter buildspace/widget/grid/Filter buildspace/apps/PageGenerator/GeneratorDialog buildspace/apps/Editor/PrintFinalBQDialog dojo/i18n!buildspace/nls/TenderAlternative".split(" "),
function(e,r,t,f,g,u,v,w,x,y,z,A,B,C,D,E,h,k,l,F,m,d){var n=e("buildspace.apps.Editor.TenderAlternativeListGrid",h,{style:"border-top:none;",containerDialog:null,project:null,workArea:null,type:"printPdf",opt:null,region:"center",postCreate:function(){this.inherited(arguments);var a=this.opt,b=this;this.on("RowClick",function(c){if((c=this.getItem(c.rowIndex))&&0<parseInt(String(c.id)))switch(b.type){case "printProjectSummary":b.printProjectSummaryPdf(c,a);break;case "printFinalBQ":b.openPrintFinalBQ(c,
a)}},!0)},canSort:function(a){return!1},printProjectSummaryPdf:function(a,b){window.open("tenderAlternativeProjectSummary/"+parseInt(String(a.id))+"/"+String(this.project._csrf_token)+"/"+b,"_blank");return window.focus()},openPrintFinalBQ:function(a,b){b=b.withPrice;(new m({title:d.printFinalBQ+" ("+(b?d.withPrice:d.withoutPrice)+")",project:this.project,tenderAlternative:a,withPrice:b})).show()}}),q=e("buildspace.apps.Editor.TenderAlternativeListGridContainer",dijit.layout.BorderContainer,{style:"padding:0px;width:100%;height:100%;",
containerDialog:null,project:null,workArea:null,type:"printPdf",opt:null,postCreate:function(){this.inherited(arguments);var a=new k;a=this.grid=new n({containerDialog:this.containerDialog,project:this.project,workArea:this.workArea,type:this.type,opt:this.opt,structure:[{name:"No.",field:"count",width:"30px",styles:"text-align:center;",formatter:function(b,c){return 0<b?b:""}},{name:d.description,field:"title",width:"auto",formatter:function(b,c){c=this.grid.getItem(c);var p=16*parseInt(String(c.level));
b=null==b?"&nbsp":b;parseInt(String(c.type))<buildspace.constants.TYPE_BILL&&(b="<b>"+b+"</b>");return'<div class="treeNode" style="padding-left:'+p+'px;"><div class="treeContent">'+b+"&nbsp;</div></div>"}},{name:d.overallTotal,field:"overall_total",width:"150px",styles:"text-align: right;",formatter:a.unEditableCurrencyCellFormatter}],store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"getTenderAlternatives/"+parseInt(String(this.project.id))})});this.addChild(a);this.addChild(new l({region:"top",
editableGrid:!1,grid:a,filterFields:[{title:d.description}]}))},save:function(){this.grid.save()}});return e("buildspace.apps.Editor.TenderAlternativeListDialog",dijit.Dialog,{style:"padding:0px;margin:0px;",project:null,workArea:null,type:"printPdf",opt:null,title:d.tenderAlternatives,buildRendering:function(){var a=this.createContent();a.startup();this.content=a;this.inherited(arguments)},postCreate:function(){g.set(this.containerNode,{padding:"0px",margin:"0px"});this.closeButtonNode.style.display=
"none";this.inherited(arguments)},_onKey:function(a){a.keyCode==f.ESCAPE&&dojo.stopEvent(a)},onHide:function(){this.destroyRecursive()},createContent:function(){var a=new dijit.layout.BorderContainer({style:"padding:0px;width:820px;height:380px;",gutters:!1}),b=new q({region:"center",containerDialog:this,project:this.project,workArea:this.workArea,type:this.type,opt:this.opt}),c=new dijit.Toolbar({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;"});c.addChild(new dijit.form.Button({label:d.close,
iconClass:"icon-16-container icon-16-close",style:"outline:none!important;",onClick:dojo.hitch(this,"hide")}));a.addChild(c);a.addChild(b);return a}})});
