define("buildspace/apps/Editor/BillManager/PrintBillDialog","dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/when dojo/html dojo/dom dojo/keys dojo/dom-style dojo/i18n!buildspace/nls/PrintBillDialog".split(" "),function(f,m,n,p,q,r,g,h,d){var k=f("buildspace.apps.Editor.BillManager.PrintBillGrid",dojox.grid.EnhancedGrid,{billId:0,region:"center",style:"border-top:none;",canSort:function(a){return!1},postCreate:function(){var a=this;a.inherited(arguments);this.on("RowClick",function(b){var c=
a.getItem(b.rowIndex);b=b.cell.field;if("printWithoutPrice"==b&&0<c.id)return window.open("BQPdf/"+c.id+"/"+c._csrf_token+"/0","_blank"),window.focus();if("printWithoutPrice"==b&&0==c.id)return window.open("BQSummary/"+a.billId+"/"+c._csrf_token+"/0","_blank"),window.focus();if("printWithPrice"==b&&0<c.id)return window.open("BQPdf/"+c.id+"/"+c._csrf_token+"/1","_blank"),window.focus();if("printWithPrice"==b&&0==c.id)return window.open("BQSummary/"+a.billId+"/"+c._csrf_token+"/1","_blank"),window.focus()})},
dodblclick:function(a){this.onRowDblClick(a)}}),l=f("buildspace.apps.Editor.BillManager.PrintBillGrid.CellFormatter",null,{rowCountCellFormatter:function(a,b,c){return parseInt(b)+1},descriptionCellFormatter:function(a,b){return 0==this.grid.getItem(b).id?d.summaryPage:a},printCellAddendumWithoutPriceFormatter:function(a,b){return 0<=this.grid.getItem(b).id?'<a href="javascript:void(0);">'+d.printWithoutPrice+"</a>":null},printCellAddendumWithPriceFormatter:function(a,b){return 0<=this.grid.getItem(b).id?
'<a href="javascript:void(0);">'+d.printWithPrice+"</a>":null}});return f("buildspace.apps.Editor.BillManager.PrintBillGridDialog",dijit.Dialog,{style:"padding:0px;margin:0px;",title:d.printBQ,billId:null,bqCSRFToken:null,buildRendering:function(){var a=this.createContent();a.startup();this.content=a;this.inherited(arguments)},postCreate:function(){h.set(this.containerNode,{padding:"0px",margin:"0px"});this.closeButtonNode.style.display="none";this.inherited(arguments)},_onKey:function(a){a.keyCode==
g.ESCAPE&&dojo.stopEvent(a)},onHide:function(){this.destroyRecursive()},createContent:function(){var a=this,b=new dijit.layout.BorderContainer({style:"padding:0px;width:800px;height:350px;",gutters:!1}),c=new dijit.Toolbar({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;border:0px;"});c.addChild(new dijit.form.Button({label:d.printAllWithoutPrice,iconClass:"icon-16-container icon-16-print",style:"outline:none!important;",onClick:function(){window.open("BQPrintAll/"+a.billId+
"/"+a.bqCSRFToken+"/0","_blank");return window.focus()}}));c.addChild(new dijit.ToolbarSeparator);c.addChild(new dijit.form.Button({label:d.printAllWithPrice,iconClass:"icon-16-container icon-16-print",style:"outline:none!important;",onClick:function(){window.open("BQPrintAll/"+a.billId+"/"+a.bqCSRFToken+"/1","_blank");return window.focus()}}));c.addChild(new dijit.ToolbarSeparator);c.addChild(new dijit.form.Button({label:d.close,iconClass:"icon-16-container icon-16-close",style:"outline:none!important;",
onClick:dojo.hitch(this,"hide")}));var e=new l,f=dojo.data.ItemFileWriteStore({url:"printList/"+this.billId}),e=k({billId:a.billId,store:f,structure:[{name:"No.",field:"id",width:"30px",styles:"text-align:center;",formatter:e.rowCountCellFormatter},{name:d.description,field:"description",width:"auto",formatter:e.descriptionCellFormatter},{name:d.numberOfItems,field:"item_count",width:"120px",styles:"text-align:center;"},{name:d.action,field:"printWithoutPrice",width:"120px",styles:"text-align:center;",
formatter:e.printCellAddendumWithoutPriceFormatter},{name:d.action,field:"printWithPrice",width:"120px",styles:"text-align:center;",formatter:e.printCellAddendumWithPriceFormatter}]});b.addChild(c);b.addChild(e);return b}})});
