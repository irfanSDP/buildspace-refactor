define("buildspace/apps/ViewTenderer/Builder","../../../dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/event dojo/keys dojo/on ./WorkArea ./PrintBillDialog dojo/when ./AssignContractorDialog buildspace/apps/Tendering/Builder dojo/i18n!buildspace/nls/ViewTenderer".split(" "),function(f,q,r,t,u,v,g,h,k,l,m,b){return f("buildspace.apps.ViewTenderer.Builder",dijit.layout.BorderContainer,{style:"padding:0px;width:100%;height:100%;",gutters:!1,project:null,tenderAlternative:null,type:null,
workarea:null,postCreate:function(){this.inherited(arguments);var a=this,c=this.project,d=this.tenderAlternative;toolbar=new dijit.Toolbar({region:"top",style:"padding:2px;border:none;width:100%;"});toolbar.addChild(new dijit.form.Button({label:b.backTo+" "+b.tendering,iconClass:"icon-16-container icon-16-directional_left",style:"outline:none!important;",onClick:dojo.hitch(this,"openBuilderWin",c)}));toolbar.addChild(new dijit.ToolbarSeparator);toolbar.addChild(new dijit.form.Button({label:b.tendererSetting,
iconClass:"icon-16-container icon-16-messenger",onClick:function(w){var n=dojo.xhrGet({url:"viewTenderer/tenderCompanyForm/id/"+a.project.id,handleAs:"json"}),e=buildspace.dialog.indeterminateProgressBar({title:b.pleaseWait+"..."});e.show().then(function(){k(n,function(p){e.hide();(new l({project:a.project,tenderAlternative:d,formValues:p,disableEditing:a.project.tendering_module_locked[0]})).show()})})}}));toolbar.addChild(new dijit.ToolbarSeparator);toolbar.addChild(new dijit.form.Button({label:b.printEstimationBQ,
iconClass:"icon-16-container icon-16-print",onClick:dojo.hitch(this,"printRates")}));c=this.workarea=new g({rootProject:c,tenderAlternative:d,type:this.type});c.startup();this.addChild(toolbar);this.addChild(c)},printRates:function(){(new h({projectId:this.project.id,tenderAlternative:this.tenderAlternative,title:b.printEstimationBQ,_csrf_token:this.project._csrf_token})).show()},openBuilderWin:function(a){this.kill();this.project=a;this.win=new buildspace.widget.Window({title:buildspace.truncateString(a.title,
100)+" ("+b.status+": "+String(a.status).toUpperCase()+")",onClose:dojo.hitch(this,"kill")});this.win.addChild(m({project:a}));this.win.show();this.win.startup()},kill:function(){"undefined"!=typeof this.win&&this.win.close()}})});
