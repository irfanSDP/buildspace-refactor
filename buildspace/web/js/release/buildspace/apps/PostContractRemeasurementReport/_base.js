define(["../../../dojo/_base/declare","dojo/when","buildspace/apps/PostContractReport/Builder","dojo/i18n!buildspace/nls/PostContractRemeasurement"],function(g,k,h,b){return g("buildspace.apps.PostContractRemeasurementReport",buildspace.apps._App,{win:null,type:null,opt:null,project:null,init:function(a){this.type=a.type;var c=this.project=a.project,e=this.opt=a.opt;a=new dijit.layout.BorderContainer({style:"padding:0;width:100%;height:100%;",gutters:!1,liveSplitters:!0});var d=this.win=new buildspace.widget.Window({title:b.postContractReport+
" > "+b.remeasureProvisional+" ("+b[e]+") - "+buildspace.truncateString(c.title,100),onClose:dojo.hitch(this,"kill")}),f=new dijit.Toolbar({region:"top",style:"outline:none!important;border-top:0px;padding:2px;overflow:hidden;"});f.addChild(new dijit.form.Button({label:b.backTo+" "+b.postContractReport,iconClass:"icon-16-container icon-16-directional_left",style:"outline:none!important;",onClick:dojo.hitch(this,"openBuilderWin",c)}));c=new buildspace.apps.PostContractRemeasurementReport.RemeasurementContainer({project:c,
region:"center",opt:e});c.startup();a.addChild(f);a.addChild(c);d.addChild(a);d.show();d.startup()},openBuilderWin:function(a){this.kill();this.project=a;this.opt=null;this.win=new buildspace.widget.Window({title:b.postContractReport+" > "+buildspace.truncateString(a.title,100)+" ("+b.status+"::"+a.status[0].toUpperCase()+")",onClose:dojo.hitch(this,"kill")});a=new h({project:a});this.win.addChild(a);this.win.show();this.win.startup()},kill:function(){"undefined"!=typeof this.win&&this.win.close()}})});
