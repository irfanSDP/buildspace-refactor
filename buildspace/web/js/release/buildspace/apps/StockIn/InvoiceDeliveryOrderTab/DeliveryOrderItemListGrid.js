(function(){define("buildspace/apps/StockIn/InvoiceDeliveryOrderTab/DeliveryOrderItemListGrid","dojo/_base/declare dojo/_base/lang dojox/grid/enhanced/plugins/Menu dojox/grid/enhanced/plugins/Rearrange buildspace/widget/grid/plugins/FormulatedColumn dojo/request dijit/focus dojo/i18n!../../../nls/StockIn".split(" "),function(m,q,r,n,p,t,u,g){return m("buildspace.apps.StockIn.InvoiceInformation.DeliveryOrderItemListingGrid",dojox.grid.EnhancedGrid,{style:"border-top:none;",keepSelection:!0,rowSelector:"0px",
region:"center",deliveryOrderContainer:null,invoice:null,invoiceId:-1,deliveryOrder:null,constructor:function(){this.rearranger=n(this,{});return this.formulatedColumn=p(this,{})},canSort:function(){return!1},canEdit:function(d,e){var c,a;a=this;if(void 0!==d)if(c=this.getItem(e),0<c.id[0]){if(c.type[0]===parseInt(buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER)||c.type[0]===parseInt(buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)){window.setTimeout(function(){a.edit.cancel();return a.focus.setFocusIndex(e,
d.index)},10);return}}else{window.setTimeout(function(){a.edit.cancel();return a.focus.setFocusIndex(e,d.index)},10);return}return this._canEdit},doApplyCellEdit:function(d,e,c){var a,b,h,f;f=this;a=this.getItem(e);b=a.stockInItemId;return d!==a[c][0]?(b={deliveryOrderId:f.deliveryOrder.id[0],qtyId:a.qtyId,stockInItemId:b,val:d,_csrf_token:a._csrf_token?a._csrf_token:null},h=buildspace.dialog.indeterminateProgressBar({title:g.savingData+". "+g.pleaseWait+"..."}),h.show(),b={url:"stockIn/updateDeliveryOrderItemQuantity",
content:b,handleAs:"json",load:function(b){var d,k,g,l;if(b.success)for(l=b.items,k=0,g=l.length;k<g;k++)b=l[k],f.updateStore(a,b);d=f.getCellByField(c);window.setTimeout(function(){return f.focus.setFocusIndex(e,d.index)},10);return h.hide()},error:function(a){return h.hide()}},dojo.xhrPost(b)):f.inherited(arguments)},updateStore:function(d,e){var c,a,b;a=this.store;b=[];for(c in e)d.hasOwnProperty(c)&&c!==a._getIdentifierAttribute()?b.push(a.setValue(d,c,e[c])):b.push(void 0);return b}})})}).call(this);
