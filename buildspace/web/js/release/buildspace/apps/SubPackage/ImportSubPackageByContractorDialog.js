(function(){define("buildspace/apps/SubPackage/ImportSubPackageByContractorDialog","dojo/_base/declare dojo/on dojo/_base/lang dojo/keys dojo/parser dijit/_WidgetBase dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Toolbar dijit/form/Button dijit/layout/BorderContainer dijit/form/ValidationTextBox dijit/form/SimpleTextarea dijit/registry dojo/dom-style dojo/dom-form dojo/request dojox/validate/web dijit/form/Select dijit/form/FilteringSelect dojo/store/Memory dojox/form/Manager dojo/text!./templates/subPackageContractorRatesImportDialogForm.html dojo/i18n!buildspace/nls/PostContract".split(" "),
function(f,g,v,l,w,m,n,p,q,r,x,t,y,z,A,h,B,C,D,E,F,G,H,u,e){var k;k=f("buildspace.apps.SubPackage.SubPackageContractorRatesImportForm",[m,n,p,q],{baseClass:"buildspace-form",subPackage:null,company:null,bill:null,templateString:u,region:"center",style:"overflow: auto;",formInfo:null,nls:e,dialogContainer:null,subPackageGrid:null,subContractorGridContainer:null,startup:function(){this.inherited(arguments);return this.createUploader()},createUploader:function(){var a;a=this;this.uploader=new dojox.form.Uploader({label:e.fileExcelImport,
uploadOnSelect:!0,style:"height:24px;",url:"subPackage/importExcelBillBySupplier/_csrf_token/"+a.formInfo._csrf_token+"/subPackageId/"+a.subPackage.id+"/billId/"+a.bill.id+"/companyId/"+a.company.id,name:"company_other_information[fileUpload]"});g(this.uploader,"Begin",function(b){a.pb=buildspace.dialog.indeterminateProgressBar({title:e.pleaseWait+"..."});return a.pb.show()});g(this.uploader,"Complete",function(b){a.pb.hide();return b.success?(a.subContractorGridContainer.grid.store.close(),a.subContractorGridContainer.grid.sort(),
a.subPackageGrid.store.close(),a.subPackageGrid.sort(),a.dialogContainer.hide()):buildspace.dialog.alert(e.error,"<div>"+b.errorMsg+"</div>",80,280)});this.subPackageImportFormUploader.appendChild(this.uploader.domNode);return this.uploader.startup()},clearInputErrorMsgs:function(){var a,b,c,d;c={name:null};d=[];for(b in c)a=this["error-"+b],a.innerHTML=c[b],d.push(h.set(a,"display","none"));return d}});return f("buildspace.apps.SubPackage.ImportSubPackageContractorRatesDialog",dijit.Dialog,{style:"padding:0px;margin:0px;width:400px;height:120px;",
subPackage:null,company:null,bill:null,formInfo:null,subPackageGrid:null,subContractorGridContainer:null,buildRendering:function(){var a;this.content=a=this.createContent();a.startup();return this.inherited(arguments)},postCreate:function(){h.set(this.containerNode,{padding:"0px",margin:"0px"});this.closeButtonNode.style.display="none";return this.inherited(arguments)},createContent:function(){var a,b,c,d;c=this;a=new t({style:"width:400px;height:120px;padding:0;margin:0;",gutters:!1});b=new k({subPackage:this.subPackage,
company:this.company,bill:this.bill,formInfo:this.formInfo,dialogContainer:c,subPackageGrid:c.subPackageGrid,subContractorGridContainer:c.subContractorGridContainer});d=new r({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;"});d.addChild(new dijit.form.Button({label:e.close,iconClass:"icon-16-container icon-16-close",onClick:function(){return c.hide()}}));a.addChild(d);a.addChild(b);return a},_onKey:function(a){if(a.keyCode===l.ESCAPE)return dojo.stopEvent(a)},onHide:function(){return this.destroyRecursive()}})})}).call(this);
