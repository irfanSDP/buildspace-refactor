define("buildspace/apps/SubPackage/BillPrintoutSetting/PrintBillDialog","dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/when dojo/html dojo/dom dojo/keys dojo/dom-style dojo/i18n!buildspace/nls/PrintBillDialog".split(" "),function(e,l,m,n,p,q,f,g,d){var h=e("buildspace.apps.SubPackage.BillPrintoutSetting.PrintSubPackageBillGrid",dojox.grid.EnhancedGrid,{subPackageId:-1,subContractorId:-1,region:"center",style:"border-top:none;",currentModuleName:null,canSort:function(a){return!1},postCreate:function(){var a=
this;a.inherited(arguments);this.on("RowClick",function(c){var b=a.getItem(c.rowIndex);c=c.cell.field;if("printWithoutPrice"==c&&0<b.id)return window.open("SubPackageBQPdf/"+a.subPackageId+"/"+b.id+"/"+b._csrf_token+"/0","_blank"),window.focus();if("printWithoutPrice"==c&&0==b.id)return window.open("SubPackageBQSummary/"+a.subPackageId+"/"+b._csrf_token+"/0","_blank"),window.focus();if("printWithPrice"==c&&0<b.id)return 0<this.subContractorId?window.open("SubPackageContractorBQPdf/"+a.subPackageId+
"/"+b.id+"/"+this.subContractorId+"/"+b._csrf_token+"/1","_blank"):window.open("SubPackageBQPdf/"+a.subPackageId+"/"+b.id+"/"+b._csrf_token+"/1","_blank"),window.focus();if("printWithPrice"==c&&0==b.id)return 0<this.subContractorId?window.open("SubPackageContractorBQSummary/"+a.subPackageId+"/"+this.subContractorId+"/"+b._csrf_token+"/1","_blank"):window.open("SubPackageBQSummary/"+a.subPackageId+"/"+b._csrf_token+"/1","_blank"),window.focus()})},dodblclick:function(a){this.onRowDblClick(a)}}),k=
e("buildspace.apps.SubPackage.BillPrintoutSetting.PrintBillGrid.CellFormatter",null,{rowCountCellFormatter:function(a,c,b){return parseInt(c)+1},descriptionCellFormatter:function(a,c){return 0==this.grid.getItem(c).id?d.summaryPage:a},printCellAddendumWithPriceFormatter:function(a,c){return 0<=this.grid.getItem(c).id?'<a href="javascript:void(0);">'+d.print+"</a>":null}});return e("buildspace.apps.SubPackage.BillPrintoutSetting.PrintSubPackageBillGridDialog",dijit.Dialog,{style:"padding:0px;margin:0px;",
title:d.printBQ,subContractorId:-1,bqCSRFToken:null,subPackage:null,buildRendering:function(){var a=this.createContent();a.startup();this.content=a;this.inherited(arguments)},postCreate:function(){g.set(this.containerNode,{padding:"0px",margin:"0px"});this.closeButtonNode.style.display="none";this.inherited(arguments)},_onKey:function(a){a.keyCode==f.ESCAPE&&dojo.stopEvent(a)},onHide:function(){this.destroyRecursive()},createContent:function(){var a=new dijit.layout.BorderContainer({style:"padding:0px;width:800px;height:350px;",
gutters:!1}),c=new dijit.Toolbar({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;border:0px;"});c.addChild(new dijit.form.Button({label:d.close,iconClass:"icon-16-container icon-16-close",style:"outline:none!important;",onClick:dojo.hitch(this,"hide")}));var b=new k,e=dojo.data.ItemFileWriteStore({url:"printSubPackage/getPrintList/id/"+this.subPackage.id}),b=h({subPackageId:this.subPackage.id,subContractorId:this.subContractorId,store:e,structure:[{name:"No.",field:"id",width:"30px",
styles:"text-align:center;",formatter:b.rowCountCellFormatter},{name:d.description,field:"description",width:"auto",formatter:b.descriptionCellFormatter},{name:d.action,field:"printWithPrice",width:"120px",styles:"text-align:center;",formatter:b.printCellAddendumWithPriceFormatter}]});a.addChild(c);a.addChild(b);return a}})});
