define("buildspace/apps/SubPackage/PushToPostContractDialog","dojo/_base/declare dojo/keys dojo/currency dojo/dom-style dijit/layout/ContentPane dojo/i18n!buildspace/nls/SubPackages".split(" "),function(e,f,g,h,k,b){return e("buildspace.apps.SubPackage.PushDialog",dijit.Dialog,{style:"padding:0px;margin:0px;",title:b.pushToPostContract,companyInfo:null,rootProject:null,subPackage:null,subPackageGrid:null,url:null,buildRendering:function(){var a=this.createContent();a.startup();this.content=a;this.inherited(arguments)},
postCreate:function(){h.set(this.containerNode,{padding:"0px",margin:"0px"});this.closeButtonNode.style.display="none";this.inherited(arguments)},_onKey:function(a){a.keyCode==f.ESCAPE&&dojo.stopEvent(a)},onHide:function(){this.destroyRecursive()},createContent:function(){var a=this,c=new dijit.layout.BorderContainer({style:"padding:0px;width:500px;height:200px;overflow:none;",gutters:!1}),d=new dijit.Toolbar({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;"});d.addChild(new dijit.form.Button({label:b.close,
iconClass:"icon-16-container icon-16-close",style:"outline:none!important;",onClick:dojo.hitch(this,"hide")}));d.addChild(new dijit.ToolbarSeparator);d.addChild(this.saveBtn=new dijit.form.Button({label:b.push,iconClass:"icon-16-container icon-16-indent",onClick:function(){a.doPublishToPostContract()}}));c.addChild(d);c.addChild(new k({content:'<table><tr><td style="font-weight:bold;text-align:right;padding:2px;vertical-align:top;">'+b.subContractor+" :</td><td>"+this.companyInfo.name+'</td></tr><tr><td style="font-weight:bold;text-align:right;padding:2px;vertical-align:top;">'+
b.address+" :</td><td><pre>"+this.companyInfo.address+'</pre></td></tr><tr><td style="font-weight:bold;text-align:right;padding:2px;vertical-align:top;">'+b.postcode+" :</td><td>"+this.companyInfo.postcode+'</td></tr><tr><td style="font-weight:bold;text-align:right;padding:2px;vertical-align:top;">'+b.country+" :</td><td>"+this.companyInfo.region+'</td></tr><tr><td style="font-weight:bold;text-align:right;padding:2px;vertical-align:top;">'+b.amount+" ("+this.companyInfo.currency+") :</td><td>"+g.format(this.companyInfo.amount)+
"</td></tr></table>",region:"center",style:"padding:5px;"}));return c},doPublishToPostContract:function(){var a=this,c=buildspace.dialog.indeterminateProgressBar({title:b.pleaseWait+"..."});c.show();dojo.xhrPost({url:"subPackage/pushToPostContract",content:{id:a.subPackage.id,pid:a.rootProject.id},handleAs:"json",load:function(b){a.subPackageGrid.store.save();a.subPackageGrid.store.close();a.subPackageGrid.sort();a.subPackageGrid.disableToolbarButtons(!0,["Add"]);a.hide();c.hide()},error:function(b){a.hide();
c.hide()}})}})});
