(function(){define("buildspace/apps/SubPackageReport/PrintPreviewDialog/PrintPreviewFormDialog","dojo/_base/declare dojo/_base/lang dojo/keys dojo/parser dijit/_WidgetBase dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Toolbar dijit/form/Button dijit/layout/BorderContainer dijit/form/ValidationTextBox dijit/form/RadioButton dijit/form/SimpleTextarea dijit/registry dojo/dom-style dojo/dom-form dojo/request dojo/json dojox/validate/web dojox/form/Manager dojo/text!./templates/printPreviewForm.html dojo/i18n!buildspace/nls/TenderingReport".split(" "),
function(f,w,l,x,m,n,p,q,r,g,t,y,z,A,B,u,C,D,h,E,F,v,e){var k;k=f("buildspace.apps.SubPackageReport.SupplierList.PrintPreviewForm",[m,n,p,q],{baseClass:"buildspace-form",templateString:v,region:"center",style:"overflow: auto;",default_title_input:null,subPackageId:-1,billId:null,printURL:null,exportURL:null,selectedRows:[],sortingType:null,_csrf_token:null,nls:e,dialogContainer:null,print:function(){var a,c,b;b=this.viewTendererReportingPrintForm;if(!b.validate())return!1;c=dojo.formToObject(b.id);
(b=document.getElementById("printingPreviewForm"))&&b.parentNode.removeChild(b);b=document.createElement("form");b.setAttribute("method","post");b.setAttribute("action",this.printURL);b.setAttribute("id","printingPreviewForm");b.setAttribute("target","formresult");a=document.createElement("input");a.setAttribute("name","printingPageTitle");a.setAttribute("value",c.fileName);a.setAttribute("type","hidden");b.appendChild(a);a=document.createElement("input");a.setAttribute("name","descriptionFormat");
a.setAttribute("value",c.descriptionFormat);a.setAttribute("type","hidden");b.appendChild(a);a=document.createElement("input");a.setAttribute("name","selectedRows");a.setAttribute("value",h.stringify(this.selectedRows));a.setAttribute("type","hidden");b.appendChild(a);0<this.subPackageId&&(a=document.createElement("input"),a.setAttribute("name","subPackageId"),a.setAttribute("value",this.subPackageId),a.setAttribute("type","hidden"),b.appendChild(a));0<this.billId&&(a=document.createElement("input"),
a.setAttribute("name","billId"),a.setAttribute("value",this.billId),a.setAttribute("type","hidden"),b.appendChild(a));this.sortingType&&(a=document.createElement("input"),a.setAttribute("name","sortingType"),a.setAttribute("value",this.sortingType),a.setAttribute("type","hidden"),b.appendChild(a));a=document.createElement("input");a.setAttribute("name","priceFormat");a.setAttribute("value",c.priceFormat);a.setAttribute("type","hidden");b.appendChild(a);a=document.createElement("input");a.setAttribute("name",
"printNoCents");a.setAttribute("value",c.printNoCents);a.setAttribute("type","hidden");b.appendChild(a);c=document.createElement("input");c.setAttribute("name","_csrf_token");c.setAttribute("value",this._csrf_token);c.setAttribute("type","hidden");b.appendChild(c);document.body.appendChild(b);window.open(null,"formresult");return b.submit()},"export":function(){var a,c,b;b=this.viewTendererReportingPrintForm;if(!b.validate())return!1;c=dojo.formToObject(b.id);(b=document.getElementById("printingPreviewForm"))&&
b.parentNode.removeChild(b);b=document.createElement("form");b.setAttribute("method","post");b.setAttribute("action",this.exportURL);b.setAttribute("id","printingPreviewForm");b.setAttribute("target","_self");a=document.createElement("input");a.setAttribute("name","printingPageTitle");a.setAttribute("value",c.fileName);a.setAttribute("type","hidden");b.appendChild(a);a=document.createElement("input");a.setAttribute("name","descriptionFormat");a.setAttribute("value",c.descriptionFormat);a.setAttribute("type",
"hidden");b.appendChild(a);a=document.createElement("input");a.setAttribute("name","selectedRows");a.setAttribute("value",h.stringify(this.selectedRows));a.setAttribute("type","hidden");b.appendChild(a);0<this.subPackageId&&(a=document.createElement("input"),a.setAttribute("name","subPackageId"),a.setAttribute("value",this.subPackageId),a.setAttribute("type","hidden"),b.appendChild(a));0<this.billId&&(a=document.createElement("input"),a.setAttribute("name","billId"),a.setAttribute("value",this.billId),
a.setAttribute("type","hidden"),b.appendChild(a));this.sortingType&&(a=document.createElement("input"),a.setAttribute("name","sortingType"),a.setAttribute("value",this.sortingType),a.setAttribute("type","hidden"),b.appendChild(a));a=document.createElement("input");a.setAttribute("name","priceFormat");a.setAttribute("value",c.priceFormat);a.setAttribute("type","hidden");b.appendChild(a);a=document.createElement("input");a.setAttribute("name","printNoCents");a.setAttribute("value",c.printNoCents);a.setAttribute("type",
"hidden");b.appendChild(a);c=document.createElement("input");c.setAttribute("name","_csrf_token");c.setAttribute("value",this._csrf_token);c.setAttribute("type","hidden");b.appendChild(c);document.body.appendChild(b);this.dialogContainer&&this.dialogContainer.hide();return b.submit()}});return f("buildspace.apps.SubPackageReport.PrePrintFormDialog",dijit.Dialog,{style:"padding:0px;margin:0px;width:480px;height:210px;",printURL:null,exportURL:null,selectedRows:[],type:null,subPackageId:-1,billId:null,
_csrf_token:null,buildRendering:function(){var a;this.content=a=this.createContent();a.startup();return this.inherited(arguments)},postCreate:function(){u.set(this.containerNode,{padding:"0px",margin:"0px"});this.closeButtonNode.style.display="none";return this.inherited(arguments)},createContent:function(a){var c,b,d;null==a&&(a=this);c=new t({style:"width:480px;height:210px;padding:0;margin:0;",gutters:!1});b=new k({default_title_input:a.title,dialogContainer:a,printURL:a.printURL,exportURL:a.exportURL,
selectedRows:a.selectedRows,_csrf_token:a._csrf_token,subPackageId:a.subPackageId,billId:a.billId,sortingType:a.type});d=new r({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;"});d.addChild(new g({label:e.print,iconClass:"icon-16-container icon-16-print",onClick:function(){return b.print()}}));d.addChild(new dijit.ToolbarSeparator);d.addChild(new g({label:e.exportToExcel,iconClass:"icon-16-container icon-16-spreadsheet",onClick:function(){return b["export"]()}}));d.addChild(new dijit.ToolbarSeparator);
d.addChild(new dijit.form.Button({label:e.close,iconClass:"icon-16-container icon-16-close",onClick:function(){return a.hide()}}));c.addChild(d);c.addChild(b);return c},_onKey:function(a){if(a.keyCode===l.ESCAPE)return dojo.stopEvent(a)},onHide:function(){return this.destroyRecursive()}})})}).call(this);
