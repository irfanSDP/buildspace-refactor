define("buildspace/apps/ProjectSummary/TableFooterForm","dojo/_base/declare dijit/form/Form dijit/_WidgetBase dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/TextBox dojo/text!./templates/TableFooterForm.html dojo/currency dojo/i18n!buildspace/nls/ProjectSummary".split(" "),function(d,e,f,m,g,h,n,k,l,b){return d("buildspace.apps.ProjectSummary.TableFooterForm",[e,f,g,h,dojox.form.manager._Mixin,dojox.form.manager._NodeMixin,dojox.form.manager._ValueMixin,dojox.form.manager._DisplayMixin],
{templateString:k,project:null,region:"bottom",style:"outline:none;padding-top:0;padding-left:0;padding-right:0;padding-bottom:10px;margin:0px;",baseClass:"buildspace-form",nls:b,formValues:[],totalCost:0,postCreate:function(){this.inherited(arguments);var a=this.formValues["project_summary_footer[second_row_text]"]?this.formValues["project_summary_footer[second_row_text]"]:"";this.firstRowTextNode.set("value",this.formValues["project_summary_footer[first_row_text]"]?this.formValues["project_summary_footer[first_row_text]"]:
"");this.secondRowTextNode.set("value",a);this.project.status_id!=buildspace.apps.ProjectSummary.ProjectStatus.STATUS_PRETENDER&&(this.firstRowTextNode.set("disabled",!0),this.secondRowTextNode.set("disabled",!0))},startup:function(){this.inherited(arguments);this.setFormValues(this.formValues);this.totalCostNode.innerHTML=l.format(this.totalCost)},submit:function(){var a=dojo.formToObject(this.id),c=buildspace.dialog.indeterminateProgressBar({title:b.saving+". "+b.pleaseWait+"..."});a.hasOwnProperty("project_summary_footer[first_row_text]")||
(a["project_summary_footer[first_row_text]"]=this.firstRowTextNode.get("value"));a.hasOwnProperty("project_summary_footer[second_row_text]")||(a["project_summary_footer[second_row_text]"]=this.secondRowTextNode.get("value"));a.pid=this.project.id;this.validate()&&(c.show(),dojo.xhrPost({url:"projectSummary/tableFooterUpdate",content:a,handleAs:"json",load:function(a){c.hide()},error:function(a){c.hide()}}))}})});
