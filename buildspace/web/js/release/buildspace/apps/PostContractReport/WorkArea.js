define("buildspace/apps/PostContractReport/WorkArea","dojo/_base/declare ./ProjectProperties ./ProjectBreakdown ./StandardBillManager ./ClaimRevisionSettingsForm ./ClaimCertificateContainer ./Preliminaries/PreliminariesBillManager ./VariationOrder ./MaterialOnSiteReport dojo/i18n!buildspace/nls/PostContract".split(" "),function(g,h,k,l,m,n,p,q,r,f){var t=g("buildspace.apps.PostContractReport.ProjectRevisionContainer",dijit.layout.BorderContainer,{style:"padding:0px;width:100%;margin:0px;border:0px;height:100%;",
gutters:!1,projectId:null,rootProject:null,workarea:null,postCreate:function(){this.inherited(arguments);var a=this.claimRevisionSettingsForm=m({projectId:this.projectId,rootProject:this.rootProject,workarea:this.workarea});this.addChild(a)}});return g("buildspace.apps.PostContractReport.WorkArea",dijit.layout.TabContainer,{region:"center",style:"padding:0px;margin:0px;border:0px;width:100%;height:100%;",rootProject:null,postCreate:function(){this.inherited(arguments);var a=this,b=buildspace.dialog.indeterminateProgressBar({title:f.pleaseWait+
"..."});b.show().then(function(){dojo.xhrGet({url:"tendering/mainInfoForm",content:{id:a.rootProject.id},handleAs:"json"}).then(function(c){b.hide();buildspace.currencyAbbreviation=buildspace.billCurrencyAbbreviation=c.currency;c=new h({title:f.projectProperties,rootProject:a.rootProject,id:"projectProperties-"+a.rootProject.id,data:c});var d=new k({id:"main-project_breakdown",title:f.projectBreakdown,rootProject:a.rootProject,workArea:a});a.addChild(d);a.addChild(c);var e;a.rootProject.post_contract_type_id==
buildspace.constants.POST_CONTRACT_TYPE_NORMAL?e=new t({title:f.claimRevision,id:a.rootProject.id[0]+"-ProjectRevision",projectId:a.rootProject.id[0],rootProject:a.rootProject,workarea:a}):a.rootProject.post_contract_type_id==buildspace.constants.POST_CONTRACT_TYPE_NEW&&(e=new n({title:f.claimCertificates,id:a.rootProject.id[0]+"-ClaimCertificateContainer",project:a.rootProject,workArea:a}));e&&a.addChild(e);a.selectChild(d)})})},createContentPaneTab:function(a,b,c,d,e){c=new dijit.layout.ContentPane({closable:d,
id:a,style:"padding:0px;border:0px;margin:0px;overflow:hidden;",title:buildspace.truncateString(b,35),content:c});this.addChild(c);this.selectChild(c);c.pane_info={name:b,type:e,id:a}},removeBillTab:function(){var a=this.getChildren(),b;for(b in a)"object"==typeof a[b].pane_info&&a[b].pane_info.type==buildspace.apps.PostContractReport.ProjectStructureConstants.TYPE_BILL&&(this.removeChild(a[b]),a[b].destroy())},removeTabByType:function(a){var b=this.getChildren(),c;for(c in b)"object"==typeof b[c].pane_info&&
b[c].pane_info.type==a&&(this.removeChild(b[c]),b[c].destroy())},initTab:function(a,b){var c=!1,d=this.getChildren(),e;for(e in d)"object"==typeof d[e].pane_info&&d[e].pane_info.id==a.id+"-form_"+a.type&&(c=!0,this.selectChild(d[e]));c||this.makeTab(a,b,!0)},makeTab:function(a,b,c){var d,e;if(void 0!=a.bill_type&&parseInt(a.bill_type[0])==buildspace.apps.PostContractReport.ProjectStructureConstants.BILL_TYPE_PRELIMINARY)d=buildspace.apps.PostContractReport.getBillTypeText(a.bill_type),b=new p(b),
e=a.id+"-form_"+a.type,d=buildspace.truncateString(a.title,35)+" :: "+d;else switch(parseInt(a.type)){case buildspace.apps.PostContractReport.ProjectStructureConstants.TYPE_BILL:d=buildspace.apps.PostContractReport.getBillTypeText(a.bill_type);b=new l(b);e=a.id+"-form_"+a.type;d=buildspace.truncateString(a.title,35)+" :: "+d;break;case buildspace.apps.PostContractReport.ProjectStructureConstants.TYPE_VARIATION_ORDER:b=new q(b);e=a.id+"-form_"+a.type;d=a.title;break;case buildspace.apps.PostContractReport.ProjectStructureConstants.TYPE_MATERIAL_ON_SITE:b=
new r(b);e=a.id+"-form_"+a.type;d=a.title;break;default:b=null,e=a.id+"-form_"+a.type,d=buildspace.truncateString(a.title,35)}this.createContentPaneTab(e,d,b,c,a.type)}})});
