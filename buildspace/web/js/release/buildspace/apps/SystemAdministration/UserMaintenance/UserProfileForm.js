(function(){define("buildspace/apps/SystemAdministration/UserMaintenance/UserProfileForm","dojo/_base/declare dojo/on dojo/_base/lang dojo/html dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/array dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/userProfileForm.html dojo/i18n!buildspace/nls/UserProfile".split(" "),function(d,k,l,m,n,p,q,r,e,f,g,a){var h=d("buildspace.apps.SystemAdministration.UserMaintenance.UserProfileForm",[e,f],{templateString:g,baseClass:"buildspace-form",region:"center",
style:"border:none;padding:5px;overflow:auto;",user:null,nls:a,constructor:function(b){b=this.user=b.user;this.imgPath=require.toUrl("images/profiles/"+b.profile_img)}});return d("buildspace.apps.SystemAdministration.UserMaintenance.UserProfileFormContainer",dijit.layout.BorderContainer,{region:"top",style:"padding:0px; width: 560px; height: 200px;",gutters:!1,user:null,userMaintenanceGrid:null,postCreate:function(){this.inherited(arguments);var b=new h({user:this.user});if(!this.user.is_super_admin){var c=
new dijit.Toolbar({region:"top",style:"outline:none!important;border-bottom: 1px solid #ccc;border-top:none;border-left:none;border-right:none;padding:2px;width:100%;"});c.addChild(new dijit.form.Button({label:a.disableAccessToBuildspacePro,iconClass:"icon-16-container icon-16-delete",style:"outline:none!important;",onClick:dojo.hitch(this,"disableAccessToBuildspace")}));this.addChild(c)}this.addChild(b)},disableAccessToBuildspace:function(){var b=buildspace.dialog.indeterminateProgressBar({title:a.pleaseWait+
"..."}),c=this;new buildspace.dialog.confirm(a.disableAccessToBuildspacePro,a.areYouSureToDisableAccessToBuildspacePro,80,320,function(){b.show().then(function(){dojo.xhrPost({url:"systemAdministration/disableAccessToBuildspace",content:{id:c.user.id,_csrf_token:c.user._csrf_token},handleAs:"json",load:function(a){b.hide();if(a.success&&(a=dijit.byId("userMaintenance-stackContainer"))){var d=a.getChildren(),e=dojo.indexOf(d,dijit.byId("userMaintenance-userList"));a.selectChild(d[e+1]);c.userMaintenanceGrid.refreshGrid()}},
error:function(){return b.hide()}})})},function(){})}})})}).call(this);
