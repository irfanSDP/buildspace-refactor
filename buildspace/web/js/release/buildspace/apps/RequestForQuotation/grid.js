(function(){define("buildspace/apps/RequestForQuotation/grid","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojox/grid/enhanced/plugins/Menu dojox/grid/enhanced/plugins/Selector dojox/grid/enhanced/plugins/Rearrange dojo/_base/event dojo/keys dijit/focus dojo/_base/html dojo/request/xhr dijit/PopupMenuItem dojo/request buildspace/widget/grid/cells/Textarea buildspace/widget/grid/cells/Formatter dojo/i18n!../../nls/RequestForQuotation".split(" "),function(f,l,m,n,p,q,g,h,r,t,k,
u,v,w,x,y,c){return f("buildspace.apps.RequestForQuotation.Grid",dojox.grid.EnhancedGrid,{style:"border-top:none;",keepSelection:!0,rowSelector:"0px",region:"center",requestForQuotationGridContainer:null,constructor:function(a){return this.rearranger=g(this,{})},canSort:function(a){return!1},noDataMessage:c.noRequestForQuotationAvailableInGrid,postCreate:function(){this.inherited(arguments);this.on("RowClick",function(a){return(a=this.getItem(a.rowIndex))&&0<a.id[0]?this.disableToolbarButtons(!1):
this.disableToolbarButtons(!0)});return this.on("RowContextMenu",function(a){var b;this.selection.clear();b=this.getItem(a.rowIndex);this.selection.setSelected(a.rowIndex,!0);this.contextMenu(a);return b&&0<b.id[0]?this.disableToolbarButtons(!1):this.disableToolbarButtons(!0)})},deleteRow:function(a){var b,e,d;e=this;a=this.getItem(a);b=buildspace.dialog.indeterminateProgressBar({title:c.deleting+". "+c.pleaseWait+"..."});b.show();d={url:"requestForQuotation/deleteRFQInformation",content:{rfqId:a.id,
_csrf_token:a._csrf_token},handleAs:"json",load:function(a){b.hide();return a.success?e.refreshGrid():console.log(a)},error:function(a){return b.hide()}};return new buildspace.dialog.confirm(c.deleteRFQTitle,c.deleteRFQMsg,80,320,function(){return dojo.xhrPost(d)},function(){return b.hide()})},refreshGrid:function(){this.store.save();this.store.close();return this.setStore(this.store)},contextMenu:function(a){var b,c,d;d=this.rowCtxMenu=new dijit.Menu;this.contextMenuItems(a);b={target:a.target};
c=this.getItem(a.rowIndex);d&&c&&(this.selection.isSelected(a.rowIndex)||a.rowNode&&k.hasClass(a.rowNode,"dojoxGridRowbar"))&&(d._openMyself(b),h.stop(a))},contextMenuItems:function(a){var b;b=this;if(0<this.getItem(a.rowIndex).id)return b.rowCtxMenu.addChild(new dijit.MenuItem({label:c.add,iconClass:"icon-16-container icon-16-add",onClick:function(){return b.requestForQuotationGridContainer.requestForQuotationDialogForm(-1)}})),b.rowCtxMenu.addChild(new dijit.MenuItem({label:c["delete"],iconClass:"icon-16-container icon-16-delete",
disabled:-1<a.rowIndex?!1:!0,onClick:function(){return b.deleteRow(a.rowIndex)}}))},disableToolbarButtons:function(a,b){return dijit.byId("deleteCompanyFromRequestForQuotation").set("disabled",a)}})})}).call(this);
