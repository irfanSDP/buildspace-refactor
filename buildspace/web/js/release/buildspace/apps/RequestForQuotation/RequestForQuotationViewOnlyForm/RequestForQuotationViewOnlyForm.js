(function(){define("buildspace/apps/RequestForQuotation/RequestForQuotationViewOnlyForm/RequestForQuotationViewOnlyForm","dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/on dojo/request dijit/_WidgetBase dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/html dojo/dom dojo/dom-attr dojo/keys dojo/dom-style dijit/layout/TabContainer dijit/layout/ContentPane dijit/layout/BorderContainer dijit/Toolbar dijit/form/FilteringSelect dijit/form/Select dijit/form/Button dojo/store/Memory dojox/form/Manager dojo/text!./templates/requestForQuotationViewOnlyForm.html dojo/i18n!../../../nls/RequestForQuotation".split(" "),
function(e,g,w,x,h,k,l,m,n,y,z,A,B,c,C,D,p,q,E,r,t,u,F,v,d){var f;f=e("buildspace.apps.RequestForQuotation.RequestForQuotationViewOnlyForm",[k,l,m,n],{baseClass:"buildspace-form",rfqId:-1,newRFQId:-1,typeId:-1,templateString:v,region:"center",style:"overflow: auto;",formInfo:null,rfqStatusSelections:null,nls:d,postCreate:function(){var a;this.inherited(arguments);a=new u({idProperty:"id",data:this.rfqStatusSelections});return(new r({name:"status",store:a,labelAttr:"name",maxHeight:-1,style:"width: 180px;padding:2px!important;",
selected:this.formInfo.status})).placeAt(this["statusSelect-"+this.rfqId])},startup:function(){this.inherited(arguments);this.toggleProjectInformationContainer();return this["rfqForm-"+this.rfqId].setFormValues(this.formInfo)},save:function(){var a,b;if(!this["rfqForm-"+this.rfqId].validate())return!1;a=dojo.formToObject(this["rfqForm-"+this.rfqId].id);b=buildspace.dialog.indeterminateProgressBar({title:d.pleaseWait+"..."});g.mixin(a,{rfqId:this.rfqId,_csrf_token:this.formInfo._csrf_token});b.show();
return h.post("requestForQuotation/updateRFQWorkareaInformation",{data:a,handleAs:"json"}).then(function(a){return b.hide()},function(a){return b.hide()})},toggleProjectInformationContainer:function(){if(this.formInfo.typeId===buildspace.constants.RFQ_TYPE_PROJECT)return c.set(this.projectNameContainer,"display","table-row"),c.set(this.projectSiteAddressContainer,"display","table-row");c.set(this.projectNameContainer,"display","none");return c.set(this.projectSiteAddressContainer,"display","none")}});
return e("buildspace.apps.RequestForQuotation.RequestForQuotationViewOnlyForm.RequestForQuotationViewOnlyContainer",p,{rfqId:-1,style:"padding:0px;margin:0px;width:100%;height:height:100%;",gutters:!1,data:null,postCreate:function(){var a,b;this.inherited(arguments);a=new f({rfqId:this.rfqId,formInfo:this.data.requestForQuotationForm,rfqStatusSelections:this.data.rfqStatusSelections,typeId:this.data.requestForQuotationForm.typeId});b=new q({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;"});
b.addChild(new t({label:d.save,iconClass:"icon-16-container icon-16-save",onClick:function(){return a.save()}}));this.addChild(b);return this.addChild(a)}})})}).call(this);
