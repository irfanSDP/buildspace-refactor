define("buildspace/apps/ProjectBuilder/WorkArea","dojo/_base/declare dojo/_base/connect ./ProjectProperties ./ProjectBreakdown buildspace/apps/TenderAlternative/TenderAlternativeContainer buildspace/apps/Location/ProjectStructureLocationCode/LocationCodeTabContainer dojo/i18n!buildspace/nls/ProjectBuilder".split(" "),function(k,p,l,m,h,n,f){return k("buildspace.apps.ProjectBuilder.WorkArea",dijit.layout.TabContainer,{region:"center",style:"padding:0px;margin:0px;border:0px;width:100%;height:100%;",
rootProject:null,postCreate:function(){this.inherited(arguments);var a=this,b=buildspace.dialog.indeterminateProgressBar({title:f.pleaseWait+"..."}),c=this.projectBreakdownTab=this.createProjectBreakdownTab(this.rootProject,!0);b.show().then(function(){dojo.xhrGet({url:"projectBuilder/mainInfoForm",content:{id:a.rootProject.id},handleAs:"json"}).then(function(d){b.hide();buildspace.currencyAbbreviation=buildspace.billCurrencyAbbreviation=d.currency;a.addChild(new l({title:f.projectProperties,rootProject:a.rootProject,
id:"projectProperties-"+a.rootProject.id,data:d}),1);parseInt(String(a.rootProject.has_tender_alternative))&&a.addChild(new h({title:f.tenderAlternatives,project:a.rootProject,id:a.rootProject.id+"-form_1337",projectBreakdownGrid:c.grid,workArea:a}),2);a.selectChild(c)})})},createProjectBreakdownTab:function(a,b){var c=dijit.byId("main-project_breakdown");c&&(this.removeChild(c),c.destroy());c=new m({id:"main-project_breakdown",title:f.projectBreakdown,rootProject:a,workArea:this});this.addChild(c,
0);b&&this.selectChild(c);return this.projectBreakdownTab=c},createContentPaneTab:function(a,b,c,d,e){c=new dijit.layout.ContentPane({closable:d,id:a,style:"padding:0px;border:0px;margin:0px;overflow:hidden;",title:buildspace.truncateString(b,35),content:c});this.addChild(c);this.selectChild(c);c.pane_info={name:b,type:e,id:a}},removeBillTab:function(){var a=this.getChildren(),b;for(b in a)"object"==typeof a[b].pane_info&&a[b].pane_info.type==buildspace.apps.ProjectBuilder.ProjectStructureConstants.TYPE_BILL&&
(this.removeChild(a[b]),a[b].destroy())},initTab:function(a,b,c){var d=!1,e=this.getChildren(),g;for(g in e)"object"==typeof e[g].pane_info&&e[g].pane_info.id==a.id+"-form_"+a.type&&(d=!0,this.selectChild(e[g]));d||this.makeTab(a,b,"undefined"===typeof c||c?!0:!1)},initLocationCodeContainerTab:function(){var a=this.rootProject.id+"-LocationContainerCodeTab",b=dijit.byId(a);b||(b=new n({title:f.defineLocations,closable:!0,rootProject:this.rootProject,id:a}),this.addChild(b));this.selectChild(b)},makeTab:function(a,
b,c){switch(parseInt(a.type)){case buildspace.apps.ProjectBuilder.ProjectStructureConstants.TYPE_BILL:var d=buildspace.apps.ProjectBuilder.getBillTypeText(a.bill_type);b=new buildspace.apps.ProjectBuilder.BillManager(b);var e=a.id+"-form_"+a.type;d=buildspace.truncateString(a.title,35)+" :: "+d;break;case buildspace.apps.ProjectBuilder.ProjectStructureConstants.TYPE_SUPPLY_OF_MATERIAL_BILL:b=new buildspace.apps.ProjectBuilder.SupplyOfMaterialBillManager(b);e=a.id+"-form_"+a.type;d=buildspace.truncateString(a.title,
35);break;case buildspace.apps.ProjectBuilder.ProjectStructureConstants.TYPE_SCHEDULE_OF_RATE_BILL:b=new buildspace.apps.ProjectBuilder.ScheduleOfRateBillManager(b);e=a.id+"-form_"+a.type;d=buildspace.truncateString(a.title,35);break;case 1337:return a=dijit.byId("main-project_breakdown"),b=new h({title:f.tenderAlternatives,project:this.rootProject,id:this.rootProject.id+"-form_1337",projectBreakdownGrid:a.grid,editable:b.editable,workArea:this}),this.addChild(b,2),this.selectChild(b),!0;default:b=
null,e=a.id+"-form_"+a.type,d=buildspace.truncateString(a.title,35)}this.createContentPaneTab(e,d,b,c,a.type)}})});
