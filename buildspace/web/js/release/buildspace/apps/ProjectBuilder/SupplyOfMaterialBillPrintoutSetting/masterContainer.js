(function(){define("dojo/_base/declare dijit/layout/BorderContainer dijit/layout/TabContainer dijit/Toolbar dijit/form/Button dojo/request dojo/dom dojo/dom-attr dojo/_base/lang dojo/i18n!buildspace/nls/PrintLayoutSetting".split(" "),function(p,n,q,r,t,h,u,v,w,d){return p("buildspace.apps.ProjectBuilder.SupplyOfMaterialBillPrintoutSetting",n,{somBillLayoutSettingId:1,region:"center",saveURL:"supplyOfMaterial/saveBillPrintOutSettings",style:"padding:0px;margin:0px;outline:none!important;height:100%;width:100%;",
gutters:!1,postCreate:function(){var c;c=this.layoutSettings=this.getSettings();return this.addChild(this.renderTabs(c))},renderTabs:function(c){var b,a,k,f,g,e,l,m,h;a=0;g=this;k=[];b=[];l={headStyling:{title:d.headStyling,nameSpace:"HeadStylingFormatForm",dataName:"headSettings",id:"headSettings-"+this.somBillLayoutSettingId},fontNumber:{title:d.fontNumFormat,nameSpace:"FontNumberFormatForm",dataName:"layoutSetting",id:"fontNumber-"+this.somBillLayoutSettingId},pageFormat:{title:d.pageFormat,nameSpace:"PageFormatForm",
dataName:"layoutSetting",id:"pageFormat-"+this.somBillLayoutSettingId},standardPhrase:{title:d.standardPhrases,nameSpace:"StandardPhrasesForm",dataName:"phrase",id:"standardPhrases-"+this.somBillLayoutSettingId},headerFooter:{title:d.headerFooter,nameSpace:"HeaderFooterForm",dataName:"phrase",id:"headerFooter-"+this.somBillLayoutSettingId}};m=new q({style:"padding:0px;margin:0px;outline:none!important;width:100%;height:100%;left:0px!important;",region:"center",nested:!0});for(h in l)e=l[h],f=0===
a?!0:!1,b[a]=new n({id:e.id,title:e.title,style:"padding:0px;margin:0px;outline:none!important;height:100%;width:100%;",gutters:!1,selected:f}),k[a]=new buildspace.apps.ProjectBuilder.SupplyOfMaterialBillPrintoutSetting[e.nameSpace]({somBillLayoutSettingId:g.somBillLayoutSettingId,data:c[e.dataName],region:"center",style:"overflow:auto;"}),f=new r({region:"top",style:"outline:none!important;margin:0px;padding:2px;overflow:hidden;"}),f.addChild(new t({label:d.save,iconClass:"icon-16-container icon-16-save",
formCounter:a,nameSpace:e.nameSpace,onClick:function(){var a;return(a=k[this.formCounter].validateForm())?g.postForm(a):new buildspace.dialog.dijitDialog({title:d.errorDialogTitle,content:d.validationMsg,style:"width: 340px;"})}})),b[a].addChild(f),b[a].addChild(k[a]),m.addChild(b[a]),a++;return m},getSettings:function(){var c;c=void 0;h.get("supplyOfMaterial/getBillPrintOutSettings/id/"+this.somBillLayoutSettingId,{sync:!0,handleAs:"json",preventCache:!0}).then(function(b){return c=b},function(b){return console.log(b)});
return c},postForm:function(c){var b;b=new buildspace.dialog.indeterminateProgressBar({title:"Processing..."});w.mixin(c,{_csrf_token:this.layoutSettings._csrf_token});b.show();return h.post(this.saveURL,{data:c,handleAs:"json"}).then(function(a){b.hide();return a.success?a.heads:new buildspace.dialog.dijitDialog({title:d.errorDialogTitle,content:a.error,style:"width: 340px;"})},function(a){b.hide();return new buildspace.dialog.dijitDialog({title:d.errorDialogTitle,content:d.serverErrorMsg,style:"width: 340px;"})})},
updateFormNewIdValue:function(c,b){var a,d,f,g,e;d="ReserveWordForm"===b?"word[id]":"content[id]";if(null!=c){e=[];for(f in c)a=c[f],g=u.byId(d+"["+f+"]"),e.push(v.set(g,"value",a));return e}}})})}).call(this);
