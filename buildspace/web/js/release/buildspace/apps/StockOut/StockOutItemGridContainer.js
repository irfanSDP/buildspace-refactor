(function(){define("buildspace/apps/StockOut/StockOutItemGridContainer","dojo/_base/declare dojo/_base/lang dojox/grid/enhanced/plugins/Selector dojox/grid/enhanced/plugins/Rearrange buildspace/widget/grid/Filter dijit/Toolbar dijit/form/Button dojo/_base/event dijit/layout/BorderContainer dojo/keys dijit/focus dojo/request buildspace/widget/grid/cells/Formatter dojo/i18n!../../nls/StockOut".split(" "),function(k,n,p,l,f,q,r,t,m,u,v,w,g,b){var h=k("buildspace.apps.StockOut.StockOutItemGrid",dojox.grid.EnhancedGrid,
{escapeHTMLInData:!1,style:"border-top:none;",keepSelection:!0,rowSelector:"0px",region:"center",gridContainer:null,stockOutWorkAreaContainer:null,constructor:function(a){return this.rearranger=l(this,{})},canSort:function(a){return!1},refreshGrid:function(){this.store.save();this.store.close();return this.setStore(this.store)}});return k("buildspace.apps.StockOut.StockOutItemGridContainer",m,{stockOutWorkAreaContainer:null,project:null,resource:null,resourceTrade:null,style:"height:100%;width:100%;padding:0;margin:0;",
gutters:!1,postCreate:function(){var a,d,c;this.inherited(arguments);c=this;a=new dojo.data.ItemFileWriteStore({url:"stockOut/getItemListingsWithDeliveryOrder/projectId/"+c.project.id[0]+"/resourceTradeId/"+c.resourceTrade.id[0],clearOnClose:!0,urlPreventCache:!0});d=new h({gridContainer:c,stockOutWorkAreaContainer:c.stockOutWorkAreaContainer,structure:c.getResourceItemGridLayout(),store:a,onRowDblClick:function(a){var b;c=this;b=a.cell.field;a=this.getItem(a.rowIndex);if(0>a.id[0])return!1;"total_cost"===
b?c.gridContainer.createViewTotalCostItemGridInDepthInformationGrid(a):"do_quantity"===b?c.gridContainer.createViewDeliveryOrderQuantityItemGridInDepthInformationGrid(a):"stock_out_quantity"===b&&c.gridContainer.createViewStockOutQuantityItemGridInDepthInformationGrid(a);return!1}});a=new f({region:"top",grid:d,editableGrid:!1,filterFields:[{description:b.description},{unit:b.unit}]});this.addChild(a);return this.addChild(d)},createViewTotalCostItemGridInDepthInformationGrid:function(a,d){var c,e;
null==d&&(d=this);c=new dojo.data.ItemFileWriteStore({url:"stockOut/getInvoiceCostingsByResourceItem/projectId/"+this.project.id[0]+"/resourceItemId/"+a.id[0],clearOnClose:!0,urlPreventCache:!0});e=new h({project:this.project,resourceItem:a,store:c,structure:d.getInvoiceGridLayout()});c=new dijit.layout.BorderContainer({style:"padding:0px;width:100%;height:100%;",baseClass:"form",gutters:!1,region:"center"});c.addChild(new f({region:"top",grid:e,editableGrid:!1,filterFields:[{invoice_no:b.invoiceNo},
{supplier_name:b.supplier},{issued_by:b.issued_by}]}));c.addChild(e);return d.stockOutWorkAreaContainer.makePane(this.resource,a.description[0],c)},createViewDeliveryOrderQuantityItemGridInDepthInformationGrid:function(a,d){var c,e;null==d&&(d=this);c=new dojo.data.ItemFileWriteStore({url:"stockOut/getDeliveryOrderCostingsByResourceItem/projectId/"+this.project.id[0]+"/resourceItemId/"+a.id[0],clearOnClose:!0,urlPreventCache:!0});e=new h({project:this.project,resourceItem:a,store:c,structure:d.getDeliveryOrderGridLayout()});
c=new dijit.layout.BorderContainer({style:"padding:0px;width:100%;height:100%;",baseClass:"form",gutters:!1,region:"center"});c.addChild(new f({region:"top",grid:e,editableGrid:!1,filterFields:[{invoice_no:b.invoiceNo},{delivery_order_no:b.doNo},{supplier_name:b.supplier}]}));c.addChild(e);return d.stockOutWorkAreaContainer.makePane(this.resource,a.description[0],c)},createViewStockOutQuantityItemGridInDepthInformationGrid:function(a,d){var c,e;null==d&&(d=this);c=new dojo.data.ItemFileWriteStore({url:"stockOut/getStockOutQtyByResourceItem/projectId/"+
this.project.id[0]+"/resourceItemId/"+a.id[0],clearOnClose:!0,urlPreventCache:!0});e=new h({project:this.project,resourceItem:a,store:c,structure:d.getStockOutGridLayout()});c=new dijit.layout.BorderContainer({style:"padding:0px;width:100%;height:100%;",baseClass:"form",gutters:!1,region:"center"});c.addChild(new f({region:"top",grid:e,editableGrid:!1,filterFields:[{running_number:b.stockOutNo},{creator_name:b.created_by}]}));c.addChild(e);return d.stockOutWorkAreaContainer.makePane(this.resource,
a.description[0],c)},getResourceItemGridLayout:function(){var a=new g;return[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:a.rowCountCellFormatter,noresize:!0},{name:b.description,field:"description",width:"auto",formatter:a.treeCellFormatter,noresize:!0},{name:b.unit,field:"uom_id",styles:"text-align: center;",width:"70px",formatter:a.unitIdCellFormatter,noresize:!0},{name:b.totalCostWithTax,field:"total_cost",styles:"text-align:right;color:blue;",width:"140px",formatter:a.unEditableCurrencyCellFormatter,
noresize:!0},{name:b.doQuantity,field:"do_quantity",styles:"text-align:right;color:blue;",width:"120px",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.stockOutQuantity,field:"stock_out_quantity",styles:"text-align:right;color:blue;",width:"120px",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.balanceQuantity,field:"balance_quantity",styles:"text-align:right;",width:"120px",formatter:a.unEditableCurrencyCellFormatter,noresize:!0}]},getInvoiceGridLayout:function(){var a=
new g;return[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:a.rowCountCellFormatter,noresize:!0},{name:b.invoiceNo,field:"invoice_no",styles:"text-align: center; color: red;",width:"140px",noresize:!0},{name:b.supplier,field:"supplier_name",styles:"text-align: center;",width:"auto",noresize:!0},{name:b.rate,field:"rates",styles:"text-align:right;",width:"75px",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.discount+" %",field:"discount_percentage",styles:"text-align:right;",
width:"75px",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.tax+" %",field:"tax_percentage",styles:"text-align:right;",width:"75px",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.quantity,field:"quantity",width:"90px",styles:"text-align: right;",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.totalWithoutTax,field:"total_without_tax",styles:"text-align:right;",width:"120px",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.totalWithTax,
field:"total",styles:"text-align:right;",width:"120px",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.issued_by,field:"issued_by",styles:"text-align:center;",width:"140px",noresize:!0},{name:b.invoiceDate,field:"invoice_date",styles:"text-align:center;",width:"160px",noresize:!0}]},getDeliveryOrderGridLayout:function(){var a=new g;return[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:a.rowCountCellFormatter,noresize:!0},{name:b.invoiceNo,field:"invoice_no",
styles:"text-align: center; color: red;",width:"140px",noresize:!0},{name:b.doNo,field:"delivery_order_no",styles:"text-align: center; color: red;",width:"140px",noresize:!0},{name:b.doQuantity,field:"quantity",width:"90px",styles:"text-align: right;",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.remarks,field:"remark",styles:"color: blue;",width:"380px",noresize:!0},{name:b.supplier,field:"supplier_name",styles:"text-align: center;",width:"auto",noresize:!0},{name:b.date_of_delivery_order,
field:"delivery_order_date",styles:"text-align:center;",width:"160px",noresize:!0}]},getStockOutGridLayout:function(){var a=new g;return[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:a.rowCountCellFormatter,noresize:!0},{name:b.stockOutNo,field:"running_number",styles:"text-align: center; color: red;",width:"160px",noresize:!0},{name:b.stockOutQuantity,field:"quantity",width:"90px",styles:"text-align: right;",formatter:a.unEditableCurrencyCellFormatter,noresize:!0},{name:b.created_by,
field:"creator_name",styles:"text-align: center;",width:"auto",noresize:!0},{name:b.stock_out_date,field:"stock_out_date",styles:"text-align:center;",width:"160px",noresize:!0}]}})})}).call(this);
