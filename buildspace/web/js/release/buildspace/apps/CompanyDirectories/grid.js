(function(){define("buildspace/apps/CompanyDirectories/grid","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojox/grid/enhanced/plugins/Menu dojox/grid/enhanced/plugins/Selector dojo/_base/event dojo/keys dijit/focus dojo/_base/html dojo/request/xhr dijit/PopupMenuItem dojo/request buildspace/widget/grid/cells/Textarea buildspace/widget/grid/cells/Formatter ./CompanyDirectoriesDialog dojo/i18n!../../nls/CompanyDirectories".split(" "),function(f,m,n,p,q,r,g,t,u,h,v,w,k,x,y,l,e){return f("buildspace.apps.CompanyDirectories.Grid",
dojox.grid.EnhancedGrid,{style:"border-top:none;",keepSelection:!0,rowSelector:"0px",region:"center",companyDirectoriesGridContainer:null,canSort:function(a){return!1},noDataMessage:e.noCompanyAvailableInGrid,postCreate:function(){this.inherited(arguments);this.on("RowClick",function(a){return(a=this.getItem(a.rowIndex))&&0<a.id[0]?this.disableToolbarButtons(!1):this.disableToolbarButtons(!0)});return this.on("RowContextMenu",function(a){var b;this.selection.clear();b=this.getItem(a.rowIndex);this.selection.setSelected(a.rowIndex,
!0);this.contextMenu(a);return b&&0<b.id[0]?this.disableToolbarButtons(!1):this.disableToolbarButtons(!0)})},onRowDblClick:function(a){if(0<this.getItem(a.rowIndex).id[0])return this.editExistingCompany(this.getItem(a.rowIndex))},editExistingCompany:function(a){var b,c;c=this;b=new buildspace.dialog.indeterminateProgressBar({title:e.processing+"..."});b.show();return k.get("companyDirectories/getCompanyInformation",{query:{companyId:a.id[0]},handleAs:"json"}).then(function(d){b.hide();return(new l({title:e.edit+
" ("+a.company_name+")",companyId:a.id[0],data:d,companyDirectoriesGrid:c})).show()},function(a){return b.hide()})},refreshGrid:function(){this.store.save();this.store.close();return this.setStore(this.store)},contextMenu:function(a){var b,c,d;d=this.rowCtxMenu=new dijit.Menu;this.contextMenuItems(a);b={target:a.target};c=this.getItem(a.rowIndex);d&&c&&(this.selection.isSelected(a.rowIndex)||a.rowNode&&h.hasClass(a.rowNode,"dojoxGridRowbar"))&&(d._openMyself(b),g.stop(a))},contextMenuItems:function(a){var b,
c;c=this;b=this.getItem(a.rowIndex);if(0<b.id)return c.rowCtxMenu.addChild(new dijit.MenuItem({label:e.edit,iconClass:"icon-16-container icon-16-edit",onClick:function(){return c.editExistingCompany(b)}}))},disableToolbarButtons:function(a,b){}})})}).call(this);
