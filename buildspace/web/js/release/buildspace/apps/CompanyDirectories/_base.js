(function(){define("dojo/_base/declare dojo/data/ItemFileWriteStore dojo/request dijit/layout/TabContainer dijit/layout/ContentPane dijit/layout/BorderContainer dijit/layout/StackController dijit/layout/StackContainer dijit/Toolbar dijit/form/Button ./grid ./CompanyDirectoriesDialog buildspace/widget/grid/cells/Formatter dojo/i18n!../../nls/CompanyDirectories buildspace/widget/grid/Filter".split(" "),function(e,p,f,q,r,g,t,u,h,v,k,l,m,b,n){return e("buildspace.apps.CompanyDirectories",buildspace.apps._App,
{init:function(a){this.win=new buildspace.widget.Window({title:b.appName,height:"300px",width:"450px",showMaximize:!1,iconClass:this.iconClass,onClose:dojo.hitch(this,"kill")});a=new dojo.data.ItemFileWriteStore({url:"companyDirectories/getCompanyListing",clearOnClose:!0,urlPreventCache:!0});a=this.companyDirectoriesGrid=new k({structure:this.getGridLayout(),store:a,companyDirectoriesGridContainer:this});var d=new h({region:"top",style:"outline:none!important;padding:0px;border-bottom:none;width:100%;"});
var c=this.mainContainer=new g({style:"padding:0px;width:100%;height:100%;",gutters:!1});c.addChild(new n({region:"top",grid:a,editableGrid:!1,filterFields:["company_name","registration_no","business_type","country","state"]}));c.addChild(d);c.addChild(a);this.win.addChild(c);this.win.show();return this.win.startup()},companyDirectoriesDialogForm:function(a){var d=this;var c=new buildspace.dialog.indeterminateProgressBar({title:b.processing+"..."});c.show();return f.get("companyDirectories/getCompanyInformation",
{query:{companyId:a},handleAs:"json"}).then(function(a){c.hide();return(new l({title:b.add,data:a,companyDirectoriesGrid:d.companyDirectoriesGrid})).show()},function(a){return c.hide()})},getGridLayout:function(){return[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:(new m).rowCountCellFormatter},{name:b.companyName,field:"company_name",width:"auto"},{name:b.registrationNo,field:"registration_no",width:"120px",styles:"text-align: center;"},{name:b.businessType,field:"business_type",
width:"120px",styles:"text-align: center;"},{name:b.country,field:"country",width:"120px",styles:"text-align: center;"},{name:b.state,field:"state",width:"120px",styles:"text-align: center;"}]},kill:function(){this.win&&"undefined"!=typeof this.win&&this.win.close()}})})}).call(this);
