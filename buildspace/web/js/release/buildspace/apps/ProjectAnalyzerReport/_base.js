define("../../../dojo/_base/declare dojo/when buildspace/apps/ProjectBuilderReport/Builder buildspace/apps/TenderingReport/Builder buildspace/apps/PostContractReport/Builder dojo/i18n!buildspace/nls/ProjectAnalyzer".split(" "),function(k,n,f,l,m,c){return k("buildspace.apps.ProjectAnalyzerReport",buildspace.apps._App,{win:null,type:null,opt:null,project:null,init:function(a){this.type=a.type;var b=this.project=a.project;a=this.opt=a.opt;var d=new dijit.layout.BorderContainer({style:"padding:0;width:100%;height:100%;",
gutters:!1,liveSplitters:!0}),f=this.getModuleName(),e=this.win=new buildspace.widget.Window({title:f+" > "+c.projectAnalyzer+" - "+buildspace.truncateString(b.title,100),onClose:dojo.hitch(this,"kill")}),h=new dijit.Toolbar({region:"top",style:"outline:none!important;border-top:0px;padding:2px;overflow:hidden;"});h.addChild(new dijit.form.Button({label:c.backTo+" "+f,iconClass:"icon-16-container icon-16-directional_left",style:"outline:none!important;",onClick:dojo.hitch(this,"openBuilderWin",b)}));
if(this.type==buildspace.constants.STATUS_TENDERING&&"scheduleOfRateAnalysis"==a)dojo.xhrGet({url:"projectAnalyzer/getContractors/id/"+b.id,handleAs:"json"}).then(function(a){g=new buildspace.apps.ProjectAnalyzerReport.ScheduleOfRateContainer({project:b,contractorList:a,region:"center"});g.startup();d.addChild(h);d.addChild(g);e.addChild(d);e.show();e.startup()});else{var g="scheduleOfRateAnalysis"==a?new buildspace.apps.ProjectAnalyzerReport.ScheduleOfRateContainer({project:b,region:"center"}):new buildspace.apps.ProjectAnalyzerReport.ResourceContainer({project:b,
region:"center",type:this.type});g.startup();d.addChild(h);d.addChild(g);e.addChild(d);e.show();e.startup()}},openBuilderWin:function(a){this.kill();this.project=a;this.opt=null;var b=this.getModuleName();this.win=new buildspace.widget.Window({title:b+" > "+buildspace.truncateString(a.title,100)+" ("+c.status+"::"+a.status[0].toUpperCase()+")",onClose:dojo.hitch(this,"kill")});switch(this.type){case buildspace.constants.STATUS_PRETENDER:a=new f({project:a});break;case buildspace.constants.STATUS_TENDERING:a=
new l({project:a});break;case buildspace.constants.STATUS_POSTCONTRACT:a=m({project:a});break;default:a=new f({project:a})}this.win.addChild(a);this.win.show();this.win.startup()},getModuleName:function(){var a;switch(this.type){case buildspace.constants.STATUS_PRETENDER:a=c.ProjectBuilderReport;break;case buildspace.constants.STATUS_TENDERING:a=c.tenderingReport;break;case buildspace.constants.STATUS_POSTCONTRACT:a=c.postContractReport;break;default:a=c.ProjectBuilderReport}return a},kill:function(){"undefined"!=
typeof this.win&&this.win.close()}})});
