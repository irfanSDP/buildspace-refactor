define("buildspace/apps/PostContract/SubProjectItemLink/GridContainer","dojo/_base/declare dojo/aspect dojox/grid/EnhancedGrid dojox/grid/enhanced/plugins/IndirectSelection buildspace/widget/grid/cells/Formatter dojo/i18n!buildspace/nls/PostContract".split(" "),function(g,l,m,x,k,d){var h=g("buildspace.apps.PostContract/SubProjectItemLink/Grid",m,{style:"border:none;",region:"center",keepSelection:!0,escapeHTMLInData:!1,canSort:function(){return!1},reload:function(){this.store.close();this._refresh()}}),
n=g("buildspace.apps.PostContract/SubProjectItemLink/TaggedItemGridContainer",dijit.layout.BorderContainer,{message:null,style:"background-color:white;border:none;padding:0px;overflow:hidden;",itemId:null,postCreate:function(){this.formatter=new k;var a=new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getTaggedSubProjectItemInfo/id/"+this.itemId});this.addChild(new dijit.layout.ContentPane({style:"background-color:white;border:none;padding:0px;overflow:hidden;",region:"top",
content:this.message}));this.addChild(new h({style:"background-color:white;border:none;padding:0px;overflow:hidden;",region:"center",store:a,structure:[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:this.formatter.rowCountCellFormatter},{name:d.description,field:"description",width:"auto",formatter:this.formatter.analysisTreeCellFormatter}]}))}}),t=g("buildspace.apps.PostContract/SubProjectItemLink/MainProjectItemGrid",dojox.grid.EnhancedGrid,{type:null,style:"border-top:none;",
rowSelector:"0px",region:"center",container:null,getSelectedItem:function(){return this.container.getSelectedItem()},canSort:function(a){return!1},postCreate:function(){var a=this;this.inherited(arguments);this.on("RowClick",function(b){var c=b.cell.field,e=this.getItem(b.rowIndex);"tag_item"==c&&(0<e.id&&e.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER&&e.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)&&(e.tagged_to[0]?(b=n({message:d.untagItemConfirmation+" "+d.currentSubProjectItemTag+
":",itemId:e.tagged_to}),buildspace.dialog.confirm(d.confirmation,b,250,800,function(){a.untagItem(e)})):a.tagItemCheck(e))},!0)},untagItem:function(a){var b=this,c=buildspace.dialog.indeterminateProgressBar({title:d.savingData+". "+d.pleaseWait+"..."});c.show().then(function(){dojo.xhrPost({url:"subProjectItemLink/untagBillItem",content:{_csrf_token:a._csrf_token,sub_project:b.container.subProject.id,main_project_item_id:a.id},handleAs:"json",load:function(a){a.success&&((a=dijit.byId(b.container.parent.subProjectContainer.id+
"-itemGrid"))&&a.reload(),b.reload());c.hide()},error:function(a){c.hide()}})})},tagItemCheck:function(a){var b=this,c=this.getSelectedItem();!c||1>c.id[0]?buildspace.dialog.alert(d.noItemSelectedAlert,d.pleaseSelectItemToTag+".",90,320):c.tagged_to[0]?(c=n({message:d.tagItemConfirmation+" "+d.willRemoveCurrentTag+" "+d.currentMainProjectItemTag+":",itemId:c.tagged_to[0]}),buildspace.dialog.confirm(d.confirmation,c,250,800,function(){b.tagItem(a)})):b.tagItem(a)},tagItem:function(a){var b=this,c=
this.getSelectedItem(),e=buildspace.dialog.indeterminateProgressBar({title:d.savingData+". "+d.pleaseWait+"..."});e.show().then(function(){dojo.xhrPost({url:"subProjectItemLink/tagBillItem",content:{_csrf_token:a._csrf_token,main_project_item_id:a.id,sub_project_item_id:c.id[0]},handleAs:"json",load:function(a){a.success&&((a=dijit.byId(b.container.parent.subProjectContainer.id+"-itemGrid"))&&a.reload(),b.reload());e.hide()},error:function(a){e.hide()}})})},reload:function(){this.store.close();this._refresh()}}),
p=g("buildspace.apps.PostContract/SubProjectItemLink/TaggedVariationOrderItemGridContainer",dijit.layout.BorderContainer,{message:null,style:"background-color:white;border:none;padding:0px;overflow:hidden;",itemId:null,postCreate:function(){this.formatter=new k;var a=new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getTaggedSubProjectVariationOrderItemInfo/id/"+this.itemId});this.addChild(new dijit.layout.ContentPane({style:"background-color:white;border:none;padding:0px;overflow:hidden;",
region:"top",content:this.message}));this.addChild(new h({style:"background-color:white;border:none;padding:0px;overflow:hidden;",region:"center",store:a,structure:[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:this.formatter.rowCountCellFormatter},{name:d.description,field:"description",width:"auto",formatter:this.formatter.analysisTreeCellFormatter}]}))}}),u=g("buildspace.apps.PostContract/SubProjectItemLink/MainProjectVariationOrderItemGrid",dojox.grid.EnhancedGrid,
{type:null,style:"border-top:none;",rowSelector:"0px",region:"center",container:null,getSelectedItem:function(){return this.container.getSelectedVariationOrderItem()},canSort:function(a){return!1},postCreate:function(){var a=this;this.inherited(arguments);this.on("RowClick",function(b){var c=b.cell.field,e=this.getItem(b.rowIndex);"tag_item"==c&&(0<e.id&&e.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER&&e.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)&&(e.tagged_to[0]?
(b=p({message:d.untagItemConfirmation+" "+d.currentSubProjectItemTag+":",itemId:e.tagged_to}),buildspace.dialog.confirm(d.confirmation,b,250,800,function(){a.untagItem(e)})):a.tagItemCheck(e))},!0)},untagItem:function(a){var b=this,c=buildspace.dialog.indeterminateProgressBar({title:d.savingData+". "+d.pleaseWait+"..."});c.show().then(function(){dojo.xhrPost({url:"subProjectItemLink/untagVariationOrderItem",content:{_csrf_token:a._csrf_token,sub_project:b.container.subProject.id,main_project_item_id:a.id},
handleAs:"json",load:function(a){a.success&&((a=dijit.byId(b.container.parent.subProjectContainer.id+"-variationOrderItemGrid"))&&a.reload(),b.reload());c.hide()},error:function(a){c.hide()}})})},tagItemCheck:function(a){var b=this,c=this.getSelectedItem();!c||1>c.id[0]?buildspace.dialog.alert(d.noItemSelectedAlert,d.pleaseSelectItemToTag+".",90,320):c.tagged_to[0]?(c=p({message:d.tagItemConfirmation+" "+d.willRemoveCurrentTag+" "+d.currentMainProjectItemTag+":",itemId:c.tagged_to[0]}),buildspace.dialog.confirm(d.confirmation,
c,250,800,function(){b.tagItem(a)})):b.tagItem(a)},tagItem:function(a){var b=this,c=this.getSelectedItem(),e=buildspace.dialog.indeterminateProgressBar({title:d.savingData+". "+d.pleaseWait+"..."});e.show().then(function(){dojo.xhrPost({url:"subProjectItemLink/tagVariationOrderItem",content:{_csrf_token:a._csrf_token,main_project_item_id:a.id,sub_project_item_id:c.id[0]},handleAs:"json",load:function(a){a.success&&((a=dijit.byId(b.container.parent.subProjectContainer.id+"-variationOrderItemGrid"))&&
a.reload(),b.reload());e.hide()},error:function(a){e.hide()}})})},reload:function(){this.store.close();this._refresh()}}),q=g("buildspace.apps.PostContract/SubProjectItemLink/SubProjectItemGrid",m,{style:"border:none;",region:"center",keepSelection:!0,selectionMode:"single",escapeHTMLInData:!1,canSort:function(){return!1},constructor:function(a){this.plugins={indirectSelection:{width:"20px",styles:"text-align:center;"}};this.inherited(arguments)},reload:function(){this.store.close();this._refresh()}}),
r=function(a,b,c){b=this.grid.getItem(b);var e=16*(b.level-1);a=null==a?"&nbsp":a;b.type==buildspace.apps.PostContract.ProjectStructureConstants.TYPE_ROOT&&!isNaN(b.id)&&(a="<b>"+a+"</b>");1>b.type?c.customClasses.push("invalidTypeItemCell"):a='<div class="treeNode" style="padding-left:'+e+'px;"><div class="treeContent">'+a+"&nbsp;</div></div>";return a},s=function(a,b,c){b=this.grid.getItem(b);c=16*b.level;var e="black";a=null==a?"&nbsp":a;b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER||
b.type==buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N?a="<b>"+a+"</b>":b.id!=buildspace.constants.GRID_LAST_ROW&&b.tagged_to[0]&&(e="#4c94e6");return'<div class="treeNode" style="color:'+e+"; padding-left:"+c+'px;"><div class="treeContent">'+a+"&nbsp;</div></div>"},v=g("buildspace.apps.PostContract/SubProjectItemLink/MainProjectContainer",dijit.layout.BorderContainer,{project:null,region:"bottom",style:"padding:0px;margin:0px;width:100%;height:50%;",gutters:!1,parent:null,subProject:null,
billGrid:null,variationOrderGridContainer:null,postCreate:function(){this.inherited(arguments);this.formatter=new k;this.stackContainer=this.createStackContainer();this.createBillGrid()},createStackContainer:function(){var a=this.id+"-MainProjectContainer-stackContainer",b=this.stackContainer=new dijit.layout.StackContainer({style:"border:0px;width:100%;height:100%;",region:"center",id:a});dojo.subscribe(a+"-selectChild","",function(b){var c=dijit.byId(a);if(c){var d=c.getChildren(),f=dojo.indexOf(d,
b),f=f+1;if(d.length>f)for(;d.length>f;)c.removeChild(d[f]),d[f].destroyDescendants(),d[f].destroyRecursive(),f+=1;var g=b.grid.selection.selectedIndex;b.grid.store.save();b.grid.store.close();var h=l.after(b.grid,"_onFetchComplete",function(){h.remove();-1<g&&(this.scrollToRow(g,!0),this.selection.setSelected(g,!0))});b.grid.sort()}});var c=new dijit.layout.StackController({region:"top",containerId:a}),c=new dijit.layout.ContentPane({style:"padding:0px;overflow:hidden;",baseClass:"breadCrumbTrail",
region:"top",content:c});this.addChild(b);this.addChild(c);return b},getBillGridStructure:function(){return[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:this.formatter.rowCountCellFormatter},{name:d.description,field:"description",width:"auto",formatter:r}]},getElementGridStructure:function(){return this.getBillGridStructure()},getItemGridStructure:function(){return[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:this.formatter.rowCountCellFormatter},
{name:d.description,field:"description",width:"auto",formatter:s},{name:d.tagItem,field:"tag_item",width:"100px",styles:"text-align:center;",formatter:function(a,b,c){a=this.grid.getItem(b);if(0<a.id&&a.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER&&a.type!=buildspace.widget.grid.constants.HIERARCHY_TYPE_HEADER_N)return'<a href="#" onclick="return false;">'+(a.tagged_to[0]?d.untagItem:d.tagItem)+"</a>";c.customClasses.push("disable-cell");return"&nbsp;"}}]},createBillGrid:function(){var a=
this,b=a.billGrid=new dijit.layout.BorderContainer({title:buildspace.truncateString(this.project.title,60),region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1,destroy:function(){a.billGrid=null}}),c=b.grid=h({structure:a.getBillGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getMainProjectBillList/sub_project/"+a.subProject.id+"/pid/"+a.project.id}),onRowDblClick:function(b){b=this.getItem(b.rowIndex);b.type==buildspace.apps.PostContract.ProjectStructureConstants.TYPE_BILL&&
0<b.id[0]?a.createElementGrid(b):b.type==buildspace.apps.PostContract.ProjectStructureConstants.TYPE_VARIATION_ORDER&&a.createVariationOrderGrid()}});b.addChild(c);this.stackContainer.addChild(b)},createElementGrid:function(a){var b=this;this.bill=a;var c=new dijit.layout.BorderContainer({title:buildspace.truncateString(a.description,60),region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1,item:a});a=c.grid=h({item:b.item,structure:b.getElementGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,
url:"subProjectItemLink/getMainProjectElementList/sub_project/"+b.subProject.id+"/pid/"+b.project.id+"/bill_id/"+a.id}),onRowDblClick:function(a){a=this.getItem(a.rowIndex);0<a.id[0]&&b.createItemGrid(a)}});c.addChild(a);this.stackContainer.addChild(c);this.stackContainer.selectChild(c)},createItemGrid:function(a){var b=new dijit.layout.BorderContainer({title:buildspace.truncateString(a.description,60),region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1});a=b.grid=t({container:this,
structure:this.getItemGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getMainProjectItemList/sub_project/"+this.subProject.id+"/pid/"+this.project.id+"/bill_id/"+this.bill.id+"/element_id/"+a.id})});b.addChild(a);this.stackContainer.addChild(b);this.stackContainer.selectChild(b)},createVariationOrderGrid:function(){var a=this,b=this.variationOrderGridContainer=new dijit.layout.BorderContainer({title:d.variationOrders,region:"center",style:"padding:0px;border:none;width:100%;height:100%;",
gutters:!1,destroy:function(){a.variationOrderGridContainer=null;var b=a.parent.subProjectContainer;b&&b.billGrid&&b.stackContainer.selectChild(b.billGrid)}}),c=b.grid=h({structure:a.getElementGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getMainProjectVariationOrderList/sub_project/"+a.subProject.id+"/pid/"+a.project.id}),onRowDblClick:function(b){b=this.getItem(b.rowIndex);0<b.id[0]&&a.createVariationOrderItemGrid(b)}});b.addChild(c);this.stackContainer.addChild(b);
this.stackContainer.selectChild(b);!this.parent.subProjectContainer.variationOrderGridContainer&&this.parent.subProjectContainer.billGrid&&(this.parent.subProjectContainer.stackContainer.selectChild(this.parent.subProjectContainer.billGrid),this.parent.subProjectContainer.createVariationOrderGrid())},createVariationOrderItemGrid:function(a){var b=new dijit.layout.BorderContainer({title:buildspace.truncateString(a.description,60),region:"center",style:"padding:0px;border:none;width:100%;height:100%;",
gutters:!1});a=b.grid=u({container:this,structure:this.getItemGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getMainProjectVariationOrderItemList/sub_project/"+this.subProject.id+"/pid/"+this.project.id+"/vo_id/"+a.id})});b.addChild(a);this.stackContainer.addChild(b);this.stackContainer.selectChild(b)},getSelectedItem:function(){return this.parent.getSelectedItem()},getSelectedVariationOrderItem:function(){return this.parent.getSelectedVariationOrderItem()},
close:function(){this.parentContainer.removeChild(this);return this.destroyRecursive()}}),w=g("buildspace.apps.PostContract/SubProjectItemLink/SubProjectContainer",dijit.layout.BorderContainer,{project:null,region:"center",style:"padding:0px;width:100%;height:100%;",gutters:!1,splitter:!0,parent:null,subProject:null,bill:null,billGrid:null,variationOrderGridContainer:null,postCreate:function(){this.inherited(arguments);this.formatter=new k;this.stackContainer=this.createStackContainer();this.subProject?
(this.createBillGrid(this.subProject),this.initMainProjectGrid(this.subProject)):this.createSubProjectGrid()},createStackContainer:function(){var a=this.id+"-SubProjectContainer-stackContainer",b=new dijit.layout.StackContainer({style:"border:0px;width:100%;height:100%;",region:"center",id:a});dojo.subscribe(a+"-selectChild","",function(b){var c=dijit.byId(a);if(c){var d=c.getChildren(),f=dojo.indexOf(d,b),f=f+1;if(d.length>f)for(;d.length>f;)c.removeChild(d[f]),d[f].destroyDescendants(),d[f].destroyRecursive(),
f+=1;var g=b.grid.selection.selectedIndex;b.grid.store.save();b.grid.store.close();var h=l.after(b.grid,"_onFetchComplete",function(){h.remove();-1<g&&(this.scrollToRow(g,!0),this.selection.setSelected(g,!0))});b.grid.sort()}});var c=new dijit.layout.StackController({region:"top",containerId:a}),c=new dijit.layout.ContentPane({style:"padding:0px;overflow:hidden;",baseClass:"breadCrumbTrail",region:"top",content:c});this.addChild(b);this.addChild(c);return b},getBillGridStructure:function(){return[{name:"No",
field:"id",width:"30px",styles:"text-align: center;",formatter:this.formatter.rowCountCellFormatter},{name:d.description,field:"description",width:"auto",formatter:r},{name:d.untaggedItems,field:"untagged_item_count",width:"90px",styles:"text-align: center;",formatter:this.formatter.unEditableIntegerCellFormatter}]},getElementGridStructure:function(){return this.getBillGridStructure()},getItemGridStructure:function(){return[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:this.formatter.rowCountCellFormatter},
{name:d.description,field:"description",width:"auto",formatter:s}]},getSubProjectGridStructure:function(){return[{name:"No",field:"id",width:"30px",styles:"text-align: center;",formatter:this.formatter.rowCountCellFormatter},{name:d.description,field:"title",width:"auto"}]},createSubProjectGrid:function(){var a=this,b=new dijit.layout.BorderContainer({title:d.subPackages,region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1}),c=b.grid=h({item:a.item,structure:a.getSubProjectGridStructure(),
store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getSubProjectList/pid/"+a.project.id}),onRowDblClick:function(b){b=this.getItem(b.rowIndex);0<b.id[0]&&(a.createBillGrid(b),a.initMainProjectGrid(b))}});b.addChild(c);b.grid=c;this.stackContainer.addChild(b)},createBillGrid:function(a){var b=this,c=this.billGrid=new dijit.layout.BorderContainer({title:buildspace.truncateString(a.title,60),region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1,
destroy:function(){b.billGrid=null;b.parent.removeMainProjectContainer()}}),d=c.grid=h({structure:b.getBillGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getSubProjectBillList/pid/"+a.id}),onRowDblClick:function(a){a=this.getItem(a.rowIndex);a.type==buildspace.apps.PostContract.ProjectStructureConstants.TYPE_BILL&&0<a.id[0]?b.createElementGrid(a):a.type==buildspace.apps.PostContract.ProjectStructureConstants.TYPE_VARIATION_ORDER&&b.createVariationOrderGrid()}});
this.subProject=a;c.addChild(d);this.stackContainer.addChild(c);1<this.stackContainer.getChildren().length&&this.stackContainer.selectChild(c)},createElementGrid:function(a){var b=this;this.bill=a;var c=new dijit.layout.BorderContainer({title:buildspace.truncateString(a.description,60),region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1});a=c.grid=h({structure:b.getElementGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getSubProjectElementList/pid/"+
this.subProject.id+"/bill_id/"+a.id}),onRowDblClick:function(a){a=this.getItem(a.rowIndex);0<a.id[0]&&b.createItemGrid(a)}});c.addChild(a);this.stackContainer.addChild(c);this.stackContainer.selectChild(c)},createItemGrid:function(a){var b=new dijit.layout.BorderContainer({title:buildspace.truncateString(a.description,60),region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1});a=b.grid=q({id:this.id+"-itemGrid",structure:this.getItemGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,
url:"subProjectItemLink/getSubProjectItemList/pid/"+this.subProject.id+"/bill_id/"+this.bill.id+"/element_id/"+a.id})});b.addChild(a);this.stackContainer.addChild(b);this.stackContainer.selectChild(b)},getSelectedItem:function(){var a=dijit.byId(this.id+"-itemGrid");return a&&(a=a.selection.getSelected(),0<a.length&&!isNaN(a[0].id[0]))?a[0]:null},getSelectedVariationOrderItem:function(){var a=dijit.byId(this.id+"-variationOrderItemGrid");return a&&(a=a.selection.getSelected(),0<a.length&&!isNaN(a[0].id[0]))?
a[0]:null},createVariationOrderGrid:function(){var a=this,b=this.variationOrderGridContainer=new dijit.layout.BorderContainer({title:d.variationOrders,region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1,destroy:function(){a.variationOrderGridContainer=null;var b=a.parent.mainProjectContainer;b&&b.billGrid&&b.stackContainer.selectChild(b.billGrid)}}),c=b.grid=h({structure:a.getElementGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getSubProjectVariationOrderList/pid/"+
this.subProject.id}),onRowDblClick:function(b){b=this.getItem(b.rowIndex);0<b.id[0]&&a.createVariationOrderItemGrid(b)}});b.addChild(c);this.stackContainer.addChild(b);this.stackContainer.selectChild(b);!this.parent.mainProjectContainer.variationOrderGridContainer&&this.parent.mainProjectContainer.billGrid&&(this.parent.mainProjectContainer.stackContainer.selectChild(this.parent.mainProjectContainer.billGrid),this.parent.mainProjectContainer.createVariationOrderGrid())},createVariationOrderItemGrid:function(a){var b=
new dijit.layout.BorderContainer({title:buildspace.truncateString(a.description,60),region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1});a=b.grid=q({id:this.id+"-variationOrderItemGrid",structure:this.getItemGridStructure(),store:new dojo.data.ItemFileWriteStore({clearOnClose:!0,url:"subProjectItemLink/getSubProjectVariationOrderItemList/pid/"+this.subProject.id+"/vo_id/"+a.id})});b.addChild(a);this.stackContainer.addChild(b);this.stackContainer.selectChild(b)},initMainProjectGrid:function(a){this.parent.addMainProjectContainer(a)},
close:function(){this.parentContainer.removeChild(this);return this.destroyRecursive()}});return g("buildspace.apps.PostContract.SubProjectItemLink.GridContainer",dijit.layout.BorderContainer,{region:"center",title:"",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1,grid:null,stackContainer:null,parentContainer:null,subProjectContainer:null,mainProjectContainer:null,project:null,bill:null,mainProject:null,subProject:null,postCreate:function(){this.inherited(arguments);var a=this,
b=buildspace.dialog.indeterminateProgressBar({title:d.processing+"..."});b.show().then(function(){dojo.xhrGet({url:"subProjectItemLink/getProjectsInformation",content:{pid:a.project.id},handleAs:"json",load:function(c){a.mainProject=c.mainProject;a.subProject=c.subProject;c=a.subProjectContainer=new w({project:a.mainProject,subProject:a.subProject,parent:a});a.addChild(c);b.hide()},error:function(a){b.hide()}})})},addMainProjectContainer:function(a){var b=dijit.byId(this.id+"-mainProjectContainer");
b||(b=this.mainProjectContainer=new v({id:this.id+"-mainProjectContainer",project:this.mainProject,subProject:a,parent:this}),this.addChild(b))},removeMainProjectContainer:function(){var a=dijit.byId(this.id+"-mainProjectContainer");a&&(this.removeChild(a),a.destroy(),this.mainProjectContainer=null)},getSelectedItem:function(){return this.subProjectContainer.getSelectedItem()},getSelectedVariationOrderItem:function(){return this.subProjectContainer.getSelectedVariationOrderItem()},close:function(){this.parentContainer.removeChild(this);
return this.destroyRecursive()}})});
