define("buildspace/apps/PostContract/WorkArea","dojo/_base/declare ./ProjectPropertiesTabContainer ./ProjectBreakdown ./StandardBillManager ./ClaimRevisionSettingsForm ./ClaimCertificateContainer ./Preliminaries/PreliminariesBillManager ./VariationOrder ./RequestForVariationClaim ./MaterialOnSite ./PostContractClaim ./DebitCreditNote/DebitCreditNoteContainer buildspace/apps/Location/ProjectStructureLocationCode/LocationCodeTabContainer buildspace/apps/PostContract/BudgetReport/GridContainer buildspace/apps/PostContract/SubProjectItemLink/GridContainer buildspace/apps/PostContract/SubPackageClaim/GridContainer dojo/i18n!buildspace/nls/PostContract".split(" "),
function(h,l,m,n,p,q,r,t,u,v,k,w,x,y,z,A,g){var B=h("buildspace.apps.PostContract.ProjectRevisionContainer",dijit.layout.BorderContainer,{style:"padding:0;width:100%;margin:0;border:none;height:100%;",gutters:!1,projectId:null,rootProject:null,workarea:null,postCreate:function(){this.inherited(arguments);this.claimRevisionSettingsForm=p({projectId:this.projectId,rootProject:this.rootProject,workarea:this.workarea});this.addChild(this.claimRevisionSettingsForm)}});return h("buildspace.apps.PostContract.WorkArea",
dijit.layout.TabContainer,{region:"center",style:"padding:0px;margin:0px;border:0px;width:100%;height:100%;",rootProject:null,hidden:[],locked:!1,claimCertificate:null,postCreate:function(){this.inherited(arguments);var a=this,b=buildspace.dialog.indeterminateProgressBar({title:g.pleaseWait+"..."});b.show().then(function(){dojo.xhrGet({url:"tendering/mainInfoForm",content:{id:a.rootProject.id},handleAs:"json"}).then(function(c){b.hide();buildspace.currencyAbbreviation=buildspace.billCurrencyAbbreviation=
c.currency;var f=a.projectBreakdown=new m({id:"main-project_breakdown",title:g.projectBreakdown,rootProject:a.rootProject,workArea:a,locked:a.locked,claimCertificate:a.claimCertificate});a.addChild(f);0>a.hidden.indexOf("Project Properties")&&a.addChild(new l({title:g.projectProperties,rootProject:a.rootProject,data:c}));a.rootProject.post_contract_type_id==buildspace.constants.POST_CONTRACT_TYPE_NORMAL?a.addChild(new B({title:g.claimRevision,id:a.rootProject.id[0]+"-ProjectRevision",projectId:a.rootProject.id[0],
rootProject:a.rootProject,workarea:a})):a.rootProject.post_contract_type_id==buildspace.constants.POST_CONTRACT_TYPE_NEW&&0>a.hidden.indexOf("Claim Certificate")&&a.addChild(new q({title:g.claimCertificates,id:a.rootProject.id[0]+"-ClaimCertificate",project:a.rootProject,workArea:a}));a.selectChild(f)})})},createContentPaneTab:function(a,b,c,f,d){c=new dijit.layout.ContentPane({closable:f,id:a,style:"padding:0px;border:0px;margin:0px;overflow:hidden;",title:buildspace.truncateString(b,35),content:c});
this.addChild(c);this.selectChild(c);c.pane_info={name:b,type:d,id:a}},initLocationCodeContainerTab:function(){var a=this.rootProject.id+"-LocationContainerCodeTab",b=dijit.byId(a);b||(b=new x({title:g.defineLocations,closable:!0,rootProject:this.rootProject,id:a}),this.addChild(b));this.selectChild(b)},initBudgetReportContainerTab:function(){var a=this.rootProject.id+"-BudgetReportTab",b=dijit.byId(a);b||(b=new y({title:g.budgetReport,closable:!0,project:this.rootProject,id:a}),this.addChild(b));
this.selectChild(b)},initSubProjectItemLinkContainerTab:function(){var a=this.rootProject.id+"-SubProjectItemLinkTab",b=dijit.byId(a);b||(b=new z({title:g.tagSubProjectItems,closable:!0,project:this.rootProject,id:a}),this.addChild(b));this.selectChild(b)},initSubPackageClaimsContainerTab:function(){var a=this.rootProject.id+"-SubPackageClaimsTab",b=dijit.byId(a);b||(b=new A({title:g.subPackageClaims,closable:!0,project:this.rootProject,id:a}),this.addChild(b));this.selectChild(b)},removeBillTab:function(){var a=
this.getChildren(),b;for(b in a)"object"==typeof a[b].pane_info&&(this.removeChild(a[b]),a[b].destroy())},removeTabByType:function(a){var b=this.getChildren(),c;for(c in b)"object"==typeof b[c].pane_info&&b[c].pane_info.type==a&&(this.removeChild(b[c]),b[c].destroy())},initTab:function(a,b){var c=!1,f=this.getChildren(),d;for(d in f)"object"==typeof f[d].pane_info&&f[d].pane_info.id==a.id+"-form_"+a.type&&(c=!0,this.selectChild(f[d]));c||this.makeTab(a,b,!0)},makeTab:function(a,b,c){var f=a.id+"-form_"+
a.type;if(void 0!=a.bill_type&&parseInt(a.bill_type[0])==buildspace.apps.PostContract.ProjectStructureConstants.BILL_TYPE_PRELIMINARY){var d=buildspace.apps.PostContract.getBillTypeText(a.bill_type);var e=new r(b);d=buildspace.truncateString(a.title,35)+" :: "+d}else if(isNaN(a.id))switch(d=a.title,parseInt(a.type)){case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_VARIATION_ORDER:e=new dijit.layout.BorderContainer({id:"variationOrderContainer",region:"center",style:"padding:0px;border:none;width:100%;height:100%;",
gutters:!1});b=new t(b);e.addChild(b);break;case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_REQUEST_FOR_VARIATION_CLAIM:e=new u(b);break;case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_MATERIAL_ON_SITE:e=new v(b);break;case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_POST_CONTRACT_CLAIM_MATERIAL_ON_SITE:e=new dijit.layout.BorderContainer({id:"importedMaterialOnSiteContainer",region:"center",style:"padding:0px;border:none;width:100%;height:100%;",gutters:!1});
b=new k(b);e.addChild(b);break;case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_ADVANCE_PAYMENT:case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_DEPOSIT:case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_PURCHASE_ON_BEHALF:case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_PERMIT:case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_KONGSIKONG:case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_WORK_ON_BEHALF:case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_WORK_ON_BEHALF_BACKCHARGE:case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_PENALTY:case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_WATER_DEPOSIT:e=
new k(b);break;case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_DEBIT_CREDIT_NOTE:e=new w(b);break;default:e=null,d=buildspace.truncateString(a.title,35)}else switch(parseInt(a.type)){case buildspace.apps.PostContract.ProjectStructureConstants.TYPE_BILL:d=buildspace.apps.PostContract.getBillTypeText(a.bill_type);d=buildspace.truncateString(a.title,35)+" :: "+d;e=new n(b);break;default:e=null,d=buildspace.truncateString(a.title,35)}this.createContentPaneTab(f,d,e,c,a.type)}})});
