define("dojo/_base/lang dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dijit/_Container dijit/Menu dijit/MenuSeparator".split(" "),function(m,g,h,k,l,n){return g("buildspace.ui.Panel",[h,k,l],{templateString:'<div class="desktopPanel" dojoAttachEvent="onmousedown:_onClick, oncontextmenu:_onRightClick"><div class="desktopPanel-start"><div class="desktopPanel-end"><div class="desktopPanel-middle" dojoAttachPoint="containerNode"></div></div></div></div>',span:1,opacity:1,thickness:24,locked:!1,
placement:"BL",getOrientation:function(){var a=this.placement.charAt(0);return"B"==a||"T"==a?"horizontal":"vertical"},_onClick:function(a){dojo.stopEvent(a)},_onRightClick:function(a){dojo.stopEvent(a)},uninitialize:function(){dojo.forEach(this.getChildren(),function(a){a.destroy()});this.window&&this.window.close()},_place:function(){var a=dijit.getViewport(),b={};if("T"==this.placement.charAt(0)||"B"==this.placement.charAt(0))this._makeHorizontal(),"R"==this.placement.charAt(1)&&(b.left=a.w-this.domNode.offsetWidth),
"L"==this.placement.charAt(1)&&(b.left=a.l),"C"==this.placement.charAt(1)&&(b.left=1!=this.span?(a.w-this.span*a.w)/2:a.l),"B"==this.placement.charAt(0)?b.top=a.h+a.t-this.domNode.offsetHeight:"T"==this.placement.charAt(0)&&(b.top=a.t);else{this._makeVertical();if("C"==this.placement.charAt(1)){if(1!=this.span){var f=dojo.style(this.domNode,"height");b.top=(a.h-f)/2}}else"B"==this.placement.charAt(1)?b.top=a.h+a.t-this.domNode.offsetHeight:b.top=a.t;"L"==this.placement.charAt(0)?b.left=a.l:b.left=
a.w+a.l-this.domNode.offsetWidth}var a={T:"Top",L:"Left",R:"Right",B:"Bottom"},c;for(c in a)dojo.removeClass(this.domNode,"desktopPanel"+a[c]);dojo.addClass(this.domNode,"desktopPanel"+a[this.placement.charAt(0)]);var d=0;dojo.query(".desktopPanel").forEach(dojo.hitch(this,function(a){a=dijit.byNode(a);a.id!=this.id&&(this.placement.charAt(0)!=a.placement.charAt(0)||1!=a.span&&1!=this.span?a.placement==this.placement&&(d+=a.thickness):d+=a.thickness)}));"L"==this.placement.charAt(0)||"T"==this.placement.charAt(0)?
b["horizontal"==this.getOrientation()?"top":"left"]+=d:b["horizontal"==this.getOrientation()?"top":"left"]-=d;c={};for(var e in b)c[e]={end:b[e],unit:"px"};dojo.animateProperty({node:this.domNode,properties:c,duration:750}).play();dojo.forEach(this.getChildren(),function(a){a.resize()})},resize:function(){var a=dijit.getViewport();dojo.style(this.domNode,"horizontal"==this.getOrientation()?"width":"height",this.span*a["horizontal"==this.getOrientation()?"w":"h"]+"px");dojo.style(this.domNode,"vertical"==
this.getOrientation()?"width":"height",this.thickness+"px");dojo.forEach(this.getChildren(),function(a){a.resize()})},_makeVertical:function(){dojo.removeClass(this.domNode,"desktopPanelHorizontal");dojo.addClass(this.domNode,"desktopPanelVertical");this.resize()},_makeHorizontal:function(){dojo.removeClass(this.domNode,"desktopPanelVertical");dojo.addClass(this.domNode,"desktopPanelHorizontal");this.resize()},lock:function(){this.locked=!0;dojo.forEach(this.getChildren(),function(a){a.lock()})},
unlock:function(){this.locked=!1;dojo.forEach(this.getChildren(),function(a){a.unlock()})},dump:function(){var a=[],b=dojo.style(this.domNode,"width"),f=dojo.style(this.domNode,"height");dojo.forEach(this.getChildren(),dojo.hitch(this,function(c){var d=dojo.style(c.domNode,"left"),e=dojo.style(c.domNode,"top"),d="horizontal"==this.getOrientation()?d:e,d=d/("horizontal"==this.getOrientation()?b:f);a.push({settings:c.settings,pos:d,declaredClass:c.declaredClass})}));return a},restore:function(a){var b=
this;dojo.style(this.domNode,"horizontal"==this.getOrientation()?"width":"height");dojo.forEach(a,dojo.hitch(this,function(a){require([a.declaredClass],function(c){c=new c({settings:a.settings,pos:a.pos});b.locked?c.lock():c.unlock();b.addChild(c);c.startup()})}))},startup:function(){dojo.setSelectable(this.domNode,!1);dojo.style(this.domNode,"top",-this.thickness+"px");dojo.style(this.domNode,"opacity",this.opacity);dojo.isIE&&dojo.connect(this.domNode,"onresize",this,"_place");dojo.connect(window,
"onresize",this,"_place");this._place()}})});
