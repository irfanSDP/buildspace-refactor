define("buildspace/ui/applets/UserProfileForm","dojo/_base/declare dojo/on dojo/dom-form dojo/html dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/array dojox/form/Manager dijit/form/Form dojox/form/Uploader dojox/form/uploader/plugins/Flash dijit/_WidgetBase dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!../templates/userProfileForm.html dojo/text!../templates/userProfilePasswordForm.html dojo/i18n!buildspace/nls/UserProfile".split(" "),function(d,g,u,v,k,
h,e,w,x,y,z,A,l,m,n,p,q,B,f){var r=d("buildspace.apps.applets.UserProfileForm",[l,m,n,p],{templateString:q,baseClass:"buildspace-form",region:"center",style:"border:none;padding:5px;overflow:hidden;",data:null,nls:f,constructor:function(b){this.imgPath=require.toUrl("images/profiles/"+buildspace.user.profileImg);this.user=b.data},postCreate:function(){this.inherited(arguments);var b=this,a=new dojox.form.Uploader({label:b.nls.changeProfilePic,uploadOnSelect:!0,url:"default/uploadMyProfileImage",styles:"padding: 5px;",
name:"sf_guard_user_profile[profile_photo]"});g(a,"Begin",function(c){b.pb=buildspace.dialog.indeterminateProgressBar({title:f.pleaseWait+"..."});c=b["error-profile_photo"];c.innerHTML=null;e.set(c,"display","none");b.pb.show()});g(a,"Complete",function(c){b.pb.hide();var a=b["error-profile_photo"];c.success?(a.innerHTML=null,e.set(a,"display","none"),h.set(b.profilePhotoHolder,"src",c.imgURL),a=k.byId("toolTipUserProfilePic"),h.set(a,"src",c.imgURL),buildspace.user.profileImg=c.imgName):(a.innerHTML=
c.errorMsgs.profile_photo,e.set(a,"display","block"))});this.myProfileImageUploader.appendChild(a.domNode)}}),t=d("buildspace.apps.applets.UserProfileFormContainer",dijit.layout.BorderContainer,{region:"top",style:"padding:0px;margin:0px;width:560px;height:200px;overflow:hidden;",gutters:!1,data:null,myProfileDialogBox:null,postCreate:function(){this.inherited(arguments);var b=new r({data:this.data}),a=new dijit.Toolbar({region:"top",style:"outline:none!important;border-bottom: 1px solid #ccc;border-top:none;border-left:none;border-right:none;padding:2px;width:100%;"});
a.addChild(new dijit.form.Button({label:f.close,iconClass:"icon-16-container icon-16-close",style:"outline:none!important;",onClick:dojo.hitch(this.myProfileDialogBox,"hide")}));this.addChild(a);this.addChild(b)}});return d("buildspace.apps.applets.UserProfileContainer",dijit.layout.BorderContainer,{region:"top",style:"padding:0px;margin:0px;width:600px;height:240px;overflow:hidden;",gutters:!1,data:null,myProfileDialogBox:null,postCreate:function(){this.inherited(arguments);this.addChild(new t({data:this.data,
myProfileDialogBox:this.myProfileDialogBox}))}})});
