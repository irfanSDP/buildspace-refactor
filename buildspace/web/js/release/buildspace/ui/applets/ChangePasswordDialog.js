define("buildspace/ui/applets/ChangePasswordDialog","dojo/_base/declare dojox/form/Manager dijit/form/Form dijit/_WidgetBase dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/html dojo/dom dojo/keys dojo/dom-style dojo/text!./../templates/changePasswordForm.html dojo/i18n!buildspace/nls/Common".split(" "),function(e,r,f,g,t,h,k,l,u,m,n,p,a){var q=e("buildspace.ui.applets.ChangePasswordForm",[f,g,h,k,dojox.form.manager._Mixin,dojox.form.manager._NodeMixin,dojox.form.manager._ValueMixin,
dojox.form.manager._DisplayMixin],{templateString:p,dialogWidget:null,region:"center",style:"outline:none;",baseClass:"buildspace-form",nls:a,formValues:[],startup:function(){this.inherited(arguments);this.setFormValues(this.formValues)},postCreate:function(){this.inherited(arguments)},submit:function(){var c=this,b=dojo.formToObject(this.id),d=buildspace.dialog.indeterminateProgressBar({title:a.pleaseWait+"..."}),b={url:"default/defaultPasswordUpdate",content:b,handleAs:"json",load:function(a){dojo.query('[id^="error-"]').forEach(function(a){a.innerHTML=
""});if(1==a.success)c.dialogWidget.hide();else{a=a.errors;for(var b in a)c["error-"+b]&&l.set(c["error-"+b],a[b])}d.hide()},error:function(a){d.hide()}};this.validate()&&(d.show(),dojo.xhrPost(b))}});return e("buildspace.ui.applets.ChangePasswordDialog",dijit.Dialog,{style:"padding:0px;margin:0px;",title:a.changeDefaultPassword,formValues:[],buildRendering:function(){var a=this.createContent();a.startup();this.content=a;this.inherited(arguments)},postCreate:function(){n.set(this.containerNode,{padding:"0px",
margin:"0px"});this.closeButtonNode.style.display="none";this.inherited(arguments)},_onKey:function(a){a.keyCode==m.ESCAPE&&dojo.stopEvent(a)},onHide:function(){this.destroyRecursive()},signout:function(){buildspace.dialog.confirm(a.signout,'<div class="icon-24-container icon-24-poweroff" style="float:left;width:32px;"></div><div>'+a.wantToSignOut+"</div>",60,280,function(){window.location.href="logout"})},createContent:function(){var c=new dijit.layout.BorderContainer({style:"padding:0px;margin:0px;width:450px;height:230px;overflow:hidden;",
gutters:!1}),b=new dijit.Toolbar({region:"top",style:"outline:none!important;padding:2px;overflow:hidden;border-right:0px;border-left:0px;border-top:0px;"}),d=new q({dialogWidget:this,formValues:this.formValues}),e=new dijit.layout.ContentPane({content:'<div class="yellow-cell" style="padding:4px;">'+a.pleaseChangeDefaultPassword+"</div>",style:"top:30px!important;padding:5px;margin:0px;overflow:hidden;text-align:center;",region:"top"});b.addChild(new dijit.form.Button({label:a.save,iconClass:"icon-16-container icon-16-save",
style:"outline:none!important;",onClick:function(a){d.submit()}}));b.addChild(new dijit.ToolbarSeparator);b.addChild(new dijit.form.Button({label:a.signout,iconClass:"icon-16-container icon-16-close",style:"outline:none!important;",onClick:dojo.hitch(this,"signout")}));c.addChild(b);c.addChild(e);c.addChild(d);return c}})});
