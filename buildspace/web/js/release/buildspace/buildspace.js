define("buildspace/buildspace","dojo/dom dojo/html dojox/html/entities dijit/Dialog dijit/Tooltip dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/string dojo/on dojo/aspect dojo/keys dojo/_base/lang dojo/_base/fx dojo/fx/easing dojo/parser dojo/number dojo/_base/window dojo/window dojo/data/ItemFileReadStore dojox/data/AndOrWriteStore dojo/i18n!buildspace/nls/Common buildspace/app buildspace/ui buildspace/dialog buildspace/grid buildspace/widget/Window".split(" "),function(n,
v,w,H,r,p,I,J,t,K,q,L,M,x,y,N,O,z,A,P,B,Q,e){buildspace.startup=function(a,c){function b(){clearTimeout(g);k||(g=setTimeout(f,18E5))}function d(){k=!1;clearInterval(l);b()}function f(){k=!0;buildspace.dialog.alert("Confirmation","<div>"+e.idleMsg+", <br>"+e.continueUsingBuildspace+'<br><br>(<span id="bs_interval_value"></span> '+e.secLeft+" "+e.beforeAutoSignOut+")</div>",80,280,d);var h=30;l=setInterval(function(){dojo.byId("bs_interval_value").innerHTML=--h;if(0>=h){switch(a){case "Editor":var m=
"logout/"+c.pid;break;case "MasterCostData":case "CostData":m="logout/"+c.id;break;default:m="logout"}window.location.href=m;clearInterval(l)}},1E3)}dojo.forEach("BuildSpace"!=a?["buildspace.app","buildspace.dialog"]:["buildspace.app","buildspace.ui","buildspace.dialog"],function(h){u(h,"init",{loadAppList:"BuildSpace"==a});u(h,"draw")});C(c,a);var g,l,k=!1;q(document.body,"mousemove",b);q(document.body,"keydown",b);q(document.body,"click",b);b()};var C=function(a,c){D("Buildspace");E(a,c)},E=function(a,
c){var b=new PxLoader;dojo.forEach([{directory:"buildspace/resources/themes/Buildspace/images",filename:"cloth_alike.png"},{directory:"buildspace/resources/themes/Buildspace/icons",filename:"buildspace-green.png"},{directory:"buildspace/resources/themes/Buildspace/icons/16x16",filename:"16-16-icon-sprites.png"},{directory:"buildspace/resources/themes/Buildspace/icons/24x24",filename:"24-24-icon-sprites.png"},{directory:"buildspace/resources/themes/Buildspace/icons/64x64",filename:"64-64-icon-sprites.png"},
{directory:"buildspace/resources/themes/Buildspace/icons/120x120",filename:"120-120-icon-sprites.png"},{directory:"buildspace/resources/themes/Buildspace/images",filename:"breadcrumb_arrow.gif"},{directory:"buildspace/resources/themes/Buildspace/images",filename:"separator.png"},{directory:"buildspace/resources/themes/Buildspace/icons",filename:"tooltipConnectorUp.png"}],function(d){b.addImage(require.toUrl(d.directory+"/"+d.filename))});b.addCompletionListener(function(d){F(a,c);dijit.Tooltip.defaultPosition=
["below","above"];"BuildSpace"==c&&(new r({connectId:["buildspace-start_menu-btn"],label:e.clickHereToBegin}),new r({connectId:["eproject-link"],label:e.goToBuildspaceEProject}))});b.start()};buildspace.startLoading=function(a){var c=n.byId("loadingOverlay");"none"==p.get(c,"display")&&(a=t.getMarginBox(a||A.body()),t.setMarginBox(c,a),p.set(n.byId("loadingOverlay"),{display:"block",opacity:1}))};var F=function(a,c){y.fadeOut({node:n.byId("loadingOverlay"),duration:1E3,onEnd:function(b){var d=buildspace.intervals.siteLoader;
d&&clearInterval(d);if(a){d=!1;switch(c){case "Editor":d=!0;var f="buildspace-BQ-Editor";var g="Editor";var l="BQ Editor";var k={pid:a.pid};break;case "MasterCostData":d=!0;f="buildspace-MasterCostData";g="MasterCostData";l="Master Cost Data";k={id:a.id,data:a};break;case "CostData":d=!0;f="buildspace-CostData";g="CostData";l="Project Cost Data";k={id:a.id,data:a};break;case "BuildSpace":for(var h in a.bs_app_method_args)a.bs_app_method_args_store_keys.includes(h)&&(new B({data:{identifier:"id",items:[a.bs_app_method_args[h]]}})).fetchItemByIdentity({identity:a.bs_app_method_args[h].id,
onItem:function(G){a.bs_app_method_args[h]=G}});var m=new buildspace.apps[a.bs_app_name](a.bs_app_name);m[a.bs_app_method].apply(m,Object.values(a.bs_app_method_args))}d&&buildspace.app.launch({__children:[],id:f,is_app:!0,level:0,sysname:g,title:l},k)}v.set(n.byId("preloaderContainer"),"");p.set(b,"display","none")}}).play()},u=function(a,c,b){a=x.getObject(a);if(dojo.isFunction(a[c]))a[c](b);else if(a.prototype&&dojo.isFunction(a.prototype[c]))a.prototype[c](b)};buildspace.truncateString=function(a,
c){a=a.toString();a.length>c&&(a=a.substring(0,c)+"...");return w.encode(a)};buildspace.toCamelCase=function(a){return a.replace(/([-_][a-z])/ig,function(c){return c.toUpperCase().replace("-","").replace("_","")})};buildspace.windowOpen=function(a,c,b,d){var f=document.getElementById("bs_window_open_form");f&&f.parentNode&&f.parentNode.removeChild(f);f=document.createElement("form");f.setAttribute("id","bs_window_open_form");f.action=c;f.method=a;f.target=d||"_self";if(b)for(var g in b)a=document.createElement("textarea"),
a.name=g,a.value="object"===typeof b[g]?JSON.stringify(b[g]):b[g],f.appendChild(a);f.style.display="none";document.body.appendChild(f);f.submit()};buildspace.temporaryArraySwap=function(a){var c=a.length;var b=0;for(--c;b<c;b+=1,--c){var d=a[b];a[b]=a[c];a[c]=d}return a};var D=function(a){dojo.forEach("dijit checkedMultiSelect theme window icons gantt".split(" "),function(c){var b=dojo.byId("desktop_theme_"+c);b&&b.parentNode.removeChild(b);b=document.createElement("link");b.rel="stylesheet";b.type=
"text/css";b.media="screen";b.href=require.toUrl("buildspace/resources/themes/"+a+"/"+c+".css");b.id="desktop_theme_"+c;document.getElementsByTagName("head")[0].appendChild(b)})};buildspace.addDojoCss=function(a){var c=dojo.baseUrl.substring(0,dojo.baseUrl.indexOf("/dojo/")).trim(),b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.media="screen";b.href=c+"/"+a;document.getElementsByTagName("head")[0].appendChild(b)};buildspace.roundingNumber=function(a,c){a=z.parse(a);switch(String(c)){case buildspace.constants.ROUNDING_TYPE_UPWARD:return isNaN(a)?
0:Math.ceil(a);case buildspace.constants.ROUNDING_TYPE_DOWNWARD:return isNaN(a)?0:Math.floor(a);case buildspace.constants.ROUNDING_TYPE_NEAREST_WHOLE_NUMBER:return isNaN(a)?0:Math.round(a);case buildspace.constants.ROUNDING_TYPE_NEAREST_TENTH:return isNaN(a)?0:Math.round(10*a)/10;default:return isNaN(a)?0:Math.round(100*a)/100}};buildspace.getBillTypeText=function(a){switch(parseInt(a)){case buildspace.constants.BILL_TYPE_PROVISIONAL:return buildspace.constants.BILL_TYPE_PROVISIONAL_TEXT;case buildspace.constants.BILL_TYPE_PRELIMINARY:return buildspace.constants.BILL_TYPE_PRELIMINARY_TEXT;
case buildspace.constants.BILL_TYPE_STANDARD:return buildspace.constants.BILL_TYPE_STANDARD_TEXT;case buildspace.constants.BILL_TYPE_PRIMECOST:return buildspace.constants.BILL_TYPE_PRIMECOST_TEXT;default:return""}};buildspace.getProjectScheduleTypeText=function(a){switch(parseInt(a)){case buildspace.constants.PROJECT_SCHEDULE_TYPE_PROJECT:return buildspace.constants.PROJECT_SCHEDULE_TYPE_PROJECT_TEXT;case buildspace.constants.PROJECT_SCHEDULE_TYPE_SUB_PACKAGE:return buildspace.constants.PROJECT_SCHEDULE_TYPE_SUB_PACKAGE_TEXT;
default:return""}};buildspace.constants={HIERARCHY_TYPE_HEADER:"1",HIERARCHY_TYPE_WORK_ITEM:"2",HIERARCHY_TYPE_NOID:"4",HIERARCHY_TYPE_ITEM_HTML_EDITOR:"8",HIERARCHY_TYPE_ITEM_PROVISIONAL:"16",HIERARCHY_TYPE_ITEM_RATE_ONLY:"32",HIERARCHY_TYPE_ITEM_NOT_LISTED:"64",HIERARCHY_TYPE_ITEM_PC_RATE:"128",HIERARCHY_TYPE_ITEM_LUMP_SUM:"256",HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT:"512",HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE:"1024",HIERARCHY_TYPE_HEADER_N:"2048",HIERARCHY_TYPE_HEADER_TEXT:"HEAD",HIERARCHY_TYPE_WORK_ITEM_TEXT:"ITEM",
HIERARCHY_TYPE_NOID_TEXT:"NOID",HIERARCHY_TYPE_ITEM_HTML_EDITOR_TEXT:"ITEM-HE",HIERARCHY_TYPE_ITEM_PROVISIONAL_TEXT:"ITEM-P",HIERARCHY_TYPE_ITEM_RATE_ONLY_TEXT:"ITEM-RO",HIERARCHY_TYPE_ITEM_NOT_LISTED_TEXT:"ITEM-NL",HIERARCHY_TYPE_ITEM_PC_RATE_TEXT:"ITEM-PC",HIERARCHY_TYPE_ITEM_LUMP_SUM_TEXT:"ITEM-LS",HIERARCHY_TYPE_ITEM_LUMP_SUM_PERCENT_TEXT:"ITEM-LS%",HIERARCHY_TYPE_ITEM_LUMP_SUM_EXCLUDE_TEXT:"ITEM-LSX",HIERARCHY_TYPE_HEADER_N_TEXT:"HEAD-N",QUANTITY_PER_UNIT_ORIGINAL:"1",QUANTITY_PER_UNIT_REMEASUREMENT:"2",
ROUNDING_TYPE_DISABLED:"1",ROUNDING_TYPE_UPWARD:"2",ROUNDING_TYPE_DOWNWARD:"4",ROUNDING_TYPE_NEAREST_WHOLE_NUMBER:"8",ROUNDING_TYPE_NEAREST_TENTH:"16",ROUNDING_TYPE_DISABLED_TEXT:e.roundingTypeDisabled,ROUNDING_TYPE_UPWARD_TEXT:e.roundingTypeUpward,ROUNDING_TYPE_DOWNWARD_TEXT:e.roundingTypeDownward,ROUNDING_TYPE_NEAREST_WHOLE_NUMBER_TEXT:e.roundingTypeNearestWholeNumber,ROUNDING_TYPE_NEAREST_TENTH_TEXT:e.roundingTypeNearestTenth,FILE_IMPORT_TYPE_BUILDSPACE:"1",FILE_IMPORT_TYPE_BUILDSOFT:"2",FILE_IMPORT_TYPE_NORMAL:"8",
FILE_IMPORT_TYPE_PRICELIST:"16",FILE_IMPORT_TYPE_EXCEL:"32",FILE_IMPORT_TYPE_BUILDSPACE_SOR:"64",EXCEL_TYPE_SINGLE:1,EXCEL_TYPE_MULTIPLE:2,SIGN_POSITIVE:"1",SIGN_NEGATIVE:"2",SIGN_POSITIVE_TEXT:"+",SIGN_NEGATIVE_TEXT:"-",STATUS_PRETENDER:1,STATUS_TENDERING:2,STATUS_POSTCONTRACT:4,STATUS_IMPORT:8,STATUS_IMPORT_SUB_PACKAGE:16,STATUS_POSTCONTRACT_SUB_PACKAGE:32,TENDER_TYPE_TENDERED:1,TENDER_TYPE_PARTICIPATED:2,POST_CONTRACT_TYPE_NORMAL:1,POST_CONTRACT_TYPE_NEW:2,NEW_POST_CONTRACT_FORM_TYPE_LETTER_OF_AWARD:1,
NEW_POST_CONTRACT_FORM_TYPE_WORK_ORDER:2,NEW_POST_CONTRACT_FORM_TYPE_CONTRACT_INFO:3,WAIVER_OPTION_TYPE_E_TENDER:1,WAIVER_OPTION_TYPE_E_AUCTION:2,E_TENDER_WAIVER_OPTION_SITE_URGENCY:1,E_TENDER_WAIVER_OPTION_INTER_COMPANY:2,E_TENDER_WAIVER_OPTION_OTHERS:4,E_AUCTION_WAIVER_OPTION_SITE_URGENCY:8,E_AUCTION_WAIVER_OPTION_INTER_COMPANY:16,E_AUCTION_WAIVER_OPTION_OTHERS:32,SUB_PACKAGE_WORKS_TYPE_1:1,SUB_PACKAGE_WORKS_TYPE_2:2,ARITHMETIC_OPERATOR_ADDITION:"+",ARITHMETIC_OPERATOR_SUBTRACTION:"-",ARITHMETIC_OPERATOR_MULTIPLICATION:"*",
ARITHMETIC_OPERATOR_DIVISION:"/",ARITHMETIC_OPERATOR_MODULUS:"%",MAX_CLAIM_REVISIONS:500,TYPE_ROOT:1,TYPE_LEVEL:2,TYPE_BILL:4,TYPE_SUPPLY_OF_MATERIAL_BILL:8,TYPE_SCHEDULE_OF_RATE_BILL:16,BILL_TYPE_STANDARD:1,BILL_TYPE_PROVISIONAL:2,BILL_TYPE_PRELIMINARY:4,BILL_TYPE_PRIMECOST:8,BILL_TYPE_STANDARD_TEXT:e.standard,BILL_TYPE_PROVISIONAL_TEXT:e.standardProvisional,BILL_TYPE_PRELIMINARY_TEXT:e.preliminary,BILL_TYPE_PRIMECOST_TEXT:e.primeCostProvisional,BILL_TYPE_STANDARD_DESCRIPTION:e.standardDescription,
BILL_TYPE_PROVISIONAL_DESCRIPTION:e.standardProvisionalDescription,BILL_TYPE_PRELIMINARY_DESCRIPTION:e.preliminaryDescription,BILL_TYPE_PRIMECOST_DESCRIPTION:e.primeCostProvisionalDescription,BILL_STATUS_OPEN:1,BILL_STATUS_CLOSED:2,BILL_STATUS_RESOURCE_ANALYSIS_RECALCULATE_ITEM:4,BILL_STATUS_RESOURCE_ANALYSIS_RECALCULATE_ELEMENT:8,BILL_STATUS_RESOURCE_ANALYSIS_RECALCULATE_BILL:16,BILL_STATUS_SCHEDULE_OF_RATE_ANALYSIS_RECALCULATE_ITEM:32,BILL_STATUS_SCHEDULE_OF_RATE_ANALYSIS_RECALCULATE_ELEMENT:64,
BILL_STATUS_SCHEDULE_OF_RATE_ANALYSIS_RECALCULATE_BILL:128,BILL_STATUS_SCHEDULE_OF_QUANTITY_RECALCULATE_ITEM:256,BILL_STATUS_SCHEDULE_OF_QUANTITY_RECALCULATE_ELEMENT:512,BILL_STATUS_SCHEDULE_OF_QUANTITY_RECALCULATE_BILL:1024,RFQ_TYPE_PROJECT:1,RFQ_TYPE_RESOURCE:2,RESOURCE_RATE_SORT_AVERAGE:1,RESOURCE_RATE_SORT_LOWEST:2,RESOURCE_RATE_SORT_MEDIAN:4,RESOURCE_RATE_SORT_HIGHEST:8,PROJECT_SCHEDULE_TYPE_PROJECT:1,PROJECT_SCHEDULE_TYPE_SUB_PACKAGE:2,PROJECT_SCHEDULE_TYPE_PROJECT_TEXT:"PROJECT",PROJECT_SCHEDULE_TYPE_SUB_PACKAGE_TEXT:"SUB-PACKAGE",
PROJECT_SCHEDULE_PRODUCTIVITY_TYPE_UNIT_PER_HOUR:1,PROJECT_SCHEDULE_PRODUCTIVITY_TYPE_UNIT_PER_HOUR_TEXT:e.unitPerHour,EVENT_TYPE_PUBLIC:1,EVENT_TYPE_STATE:2,EVENT_TYPE_OTHER:4,PREDEFINED_LOCATION_CODE_TRADE_LEVEL:0,PREDEFINED_LOCATION_CODE_ELEMENT_LEVEL:1,PREDEFINED_LOCATION_CODE_SUB_ELEMENT_LEVEL:2,PREDEFINED_LOCATION_CODE_TYPE_TRADE_TEXT:"TRADE",PREDEFINED_LOCATION_CODE_TYPE_ELEMENT_TEXT:"ELEMENT",PREDEFINED_LOCATION_CODE_TYPE_SUB_ELEMENT_TEXT:"SUB-ELEMENT",LOCATION_SEQUENCE_TYPE_TRADE:1,LOCATION_SEQUENCE_TYPE_LOCATION:2,
LOCATION_SEQUENCE_TYPE_COLUMN_TYPE:3,LOCATION_SEQUENCE_TYPE_COLUMN_UNIT:4,USER_PERMISSION_STATUS_PROJECT_BUILDER:1,USER_PERMISSION_STATUS_TENDERING:2,USER_PERMISSION_STATUS_POST_CONTRACT:4,USER_PERMISSION_STATUS_PROJECT_MANAGEMENT:8,PROJECT_SCHEDULE_PRINT_TYPE_PLAN:2,PROJECT_SCHEDULE_PRINT_TYPE_ACTUAL:4,CLAIM_CERTIFICATE_STATUS_IN_PROGRESS:1,CLAIM_CERTIFICATE_STATUS_PENDING_FOR_APPROVAL:2,CLAIM_CERTIFICATE_STATUS_APPROVED:4,CLAIM_CERTIFICATE_STATUS_REJECTED:128,VARIATION_ORDER_TYPE_STANDARD:1,VARIATION_ORDER_TYPE_BUDGETARY:2,
VARIATION_ORDER_TYPE_CLAIMABLE:4,VARIATION_ORDER_TYPE_NON_CLAIMABLE:8,VARIATION_ORDER_TYPE_STANDARD_TEXT:"STANDARD",VARIATION_ORDER_TYPE_BUDGETARY_TEXT:"BUDGETARY",VARIATION_ORDER_TYPE_CLAIMABLE_TEXT:"CLAIMABLE",VARIATION_ORDER_TYPE_NON_CLAIMABLE_TEXT:"NON CLAIMABLE",CERTIFICATE_INFO_FORMAT_STANDARD:1,CERTIFICATE_INFO_FORMAT_A:2,CERTIFICATE_INFO_FORMAT_B:3,CERTIFICATE_INFO_FORMAT_NSC:4,CERTIFICATE_INFO_FORMAT_STANDARD_TEXT:"STANDARD",CERTIFICATE_INFO_FORMAT_A_TEXT:"FORMAT A",CERTIFICATE_INFO_FORMAT_NSC_TEXT:"NSC",
GRID_LAST_ROW:"LAST_ROW"};buildspace.getRecalculateBillStatuses=function(){return[this.constants.BILL_STATUS_RESOURCE_ANALYSIS_RECALCULATE_ITEM,this.constants.BILL_STATUS_RESOURCE_ANALYSIS_RECALCULATE_ELEMENT,this.constants.BILL_STATUS_RESOURCE_ANALYSIS_RECALCULATE_BILL,this.constants.BILL_STATUS_SCHEDULE_OF_RATE_ANALYSIS_RECALCULATE_ITEM,this.constants.BILL_STATUS_SCHEDULE_OF_RATE_ANALYSIS_RECALCULATE_ELEMENT,this.constants.BILL_STATUS_SCHEDULE_OF_RATE_ANALYSIS_RECALCULATE_BILL,this.constants.BILL_STATUS_SCHEDULE_OF_QUANTITY_RECALCULATE_ITEM,
this.constants.BILL_STATUS_SCHEDULE_OF_QUANTITY_RECALCULATE_ELEMENT,this.constants.BILL_STATUS_SCHEDULE_OF_QUANTITY_RECALCULATE_BILL]};buildspace.isRecalculateBillStatus=function(a){return-1<this.getRecalculateBillStatuses().indexOf(parseInt(String(a)))};setCookie=function(a,c,b){var d="";b&&(d=new Date,d.setTime(d.getTime()+864E5*b),d="expires="+d.toUTCString());document.cookie=a+"="+c+";"+d+";path=/"};getCookie=function(a){a+="=";for(var c=decodeURIComponent(document.cookie).split(";"),b=0;b<c.length;b++){for(var d=
c[b];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""};getCookieBoolean=function(a){return["true","1"].includes(getCookie(a))}});
