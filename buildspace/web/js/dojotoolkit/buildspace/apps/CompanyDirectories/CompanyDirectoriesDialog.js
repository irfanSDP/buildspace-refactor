// Generated by CoffeeScript 1.9.0
(function() {
  define('buildspace/apps/CompanyDirectories/CompanyDirectoriesDialog', ['dojo/_base/declare', 'dojo/_base/lang', "dojo/_base/connect", "dojo/html", "dojo/dom", 'dojo/keys', "dojo/dom-style", 'dijit/layout/TabContainer', 'dijit/layout/ContentPane', 'dijit/layout/BorderContainer', 'dijit/Toolbar', 'dijit/form/Button', './CompanyInformation', './Branches/CompanyBranchContainer', './OtherInformation/CompanyOtherInformationContainer', 'dojo/i18n!../../nls/CompanyDirectories'], function(declare, lang, connect, html, dom, keys, domStyle, TabContainer, ContentPane, BorderContainer, Toolbar, Button, CompanyInformationForm, CompanyBranchContainer, CompanyOtherInformationContainer, nls) {
    var Dialog;
    return Dialog = declare('buildspace.apps.CompanyDirectories.CompanyDirectoriesDialog', dijit.Dialog, {
      companyId: -1,
      style: "padding:0px;margin:0px;",
      billId: null,
      data: null,
      companyDirectoriesGrid: null,
      editable: true,
      buildRendering: function() {
        var content;
        content = this.createContent();
        this.content = content;
        content.startup();
        return this.inherited(arguments);
      },
      postCreate: function() {
        domStyle.set(this.containerNode, {
          padding: "0px",
          margin: "0px"
        });
        this.closeButtonNode.style.display = "none";
        return this.inherited(arguments);
      },
      createContent: function() {
        var borderContainer, self, tc, toolbar;
        self = this;
        toolbar = new Toolbar({
          region: 'top',
          style: "outline:none!important;padding:2px;overflow:hidden;"
        });
        toolbar.addChild(new Button({
          label: nls.close,
          iconClass: "icon-16-container icon-16-close",
          onClick: function() {
            return self.hide();
          }
        }));
        tc = new TabContainer({
          style: "width:100%;height:100%;padding:0;margin:0;",
          region: "center"
        });
        tc.addChild(new CompanyInformationForm({
          companyId: self.companyId,
          dialogContainer: self,
          companyInfo: self.data.info,
          formInfo: self.data.form,
          companyDirectoriesGrid: self.companyDirectoriesGrid,
          editable: self.editable
        }));
        if (self.companyId > 0) {
          tc.addChild(new CompanyBranchContainer({
            companyId: self.companyId,
            dialogContainer: self,
            editable: self.editable
          }));
          tc.addChild(new CompanyOtherInformationContainer({
            companyId: self.companyId,
            dialogContainer: self,
            editable: self.editable
          }));
        }
        borderContainer = new BorderContainer({
          style: "width:650px;height:450px;padding:0;margin:0;",
          gutters: false
        });
        borderContainer.addChild(toolbar);
        borderContainer.addChild(tc);
        return borderContainer;
      },
      _onKey: function(e) {
        var key;
        key = e.keyCode;
        if (key === keys.ESCAPE) {
          return dojo.stopEvent(e);
        }
      },
      onHide: function() {
        return this.destroyRecursive();
      }
    });
  });

}).call(this);
