<?php

/**
 * TenderCompany
 *
 * This class has been auto-generated by the Doctrine ORM Framework
 *
 * @package    buildspace
 * @subpackage model
 * @author     1337 developers
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class TenderCompany extends BaseTenderCompany
{

    public function flushExistingRates()
    {
        TenderCompanyTable::flushBillElementRatesByTenderCompanyId($this->id);
        TenderCompanyTable::flushBillItemRatesByTenderCompanyId($this->id);
        TenderCompanyTable::flushBillItemNotListedByTenderCompanyId($this->id);

        TenderSupplyOfMaterialRateTable::flushItemRatesByTenderCompany($this);
        TenderScheduleOfRateTable::flushItemRatesByTenderCompany($this);

    }

    public function refreshContractorRates()
    {
        TenderCompanyTable::refreshBillItemRatesByTenderCompanyIdAndProjectId($this->project_structure_id, $this->id);
    }

    public function getBillItemRateByBillItemId($billItemId, $hydrate = null)
    {
        return TenderBillItemRateTable::getByTenderCompanyIdAndBillItemId($this->id, $billItemId, $hydrate);
    }

    public function getTenderSupplyOfMaterialRateByItemId($supplyOfMaterialItemId)
    {
        return TenderSupplyOfMaterialRateTable::getByTenderCompanyIdAndSupplyOfMaterialItemId($this->id, $supplyOfMaterialItemId);
    }

    public function getTenderScheduleOfRateByItemId($scheduleOfRateBillItemId)
    {
        return TenderScheduleOfRateTable::getByTenderCompanyIdAndScheduleOfRateBillItemId($this->id, $scheduleOfRateBillItemId);
    }
}