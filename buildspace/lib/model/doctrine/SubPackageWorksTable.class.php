<?php

/**
 * SubPackageWorksTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class SubPackageWorksTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object SubPackageWorksTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('SubPackageWorks');
    }

    public static function canBeDeletedById($id)
    {
        // New Post Contract Form Information check.
        $pdo  = self::getInstance()->getConnection()->getDbh();
        $stmt = $pdo->prepare("SELECT COUNT(id) FROM " . NewPostContractFormInformationSubPackageWorkTable::getInstance()->getTableName() . " WHERE sub_package_work_id = " . $id);
        $stmt->execute();

        $count = $stmt->fetch(PDO::FETCH_COLUMN, 0);

        if($count > 0) return false;

        return true;
    }
}