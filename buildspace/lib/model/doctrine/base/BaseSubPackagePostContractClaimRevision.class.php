<?php
// Connection Component Binding
Doctrine_Manager::getInstance()->bindComponent('SubPackagePostContractClaimRevision', 'main_conn');

/**
 * BaseSubPackagePostContractClaimRevision
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @property integer $sub_package_id
 * @property integer $version
 * @property boolean $current_selected_revision
 * @property boolean $locked_status
 * @property SubPackage $SubPackage
 * @property SubPackagePreliminariesClaim $SubPackagePreliminariesClaim
 * @property SubPackagePreliminariesInitialClaim $SubPackagePreliminariesInitialClaimRate
 * @property SubPackagePreliminariesTimeBasedClaim $SubPackagePreliminariesTimeBasedClaimRate
 * @property SubPackagePreliminariesWorkBasedClaim $SubPackagePreliminariesWorkBasedClaimRate
 * @property SubPackagePreliminariesFinalClaim $SubPackagePreliminariesFinalClaimRate
 * @property Doctrine_Collection $SubPackagePostContractStandardClaims
 * 
 * @method integer                               getSubPackageId()                              Returns the current record's "sub_package_id" value
 * @method integer                               getVersion()                                   Returns the current record's "version" value
 * @method boolean                               getCurrentSelectedRevision()                   Returns the current record's "current_selected_revision" value
 * @method boolean                               getLockedStatus()                              Returns the current record's "locked_status" value
 * @method SubPackage                            getSubPackage()                                Returns the current record's "SubPackage" value
 * @method SubPackagePreliminariesClaim          getSubPackagePreliminariesClaim()              Returns the current record's "SubPackagePreliminariesClaim" value
 * @method SubPackagePreliminariesInitialClaim   getSubPackagePreliminariesInitialClaimRate()   Returns the current record's "SubPackagePreliminariesInitialClaimRate" value
 * @method SubPackagePreliminariesTimeBasedClaim getSubPackagePreliminariesTimeBasedClaimRate() Returns the current record's "SubPackagePreliminariesTimeBasedClaimRate" value
 * @method SubPackagePreliminariesWorkBasedClaim getSubPackagePreliminariesWorkBasedClaimRate() Returns the current record's "SubPackagePreliminariesWorkBasedClaimRate" value
 * @method SubPackagePreliminariesFinalClaim     getSubPackagePreliminariesFinalClaimRate()     Returns the current record's "SubPackagePreliminariesFinalClaimRate" value
 * @method Doctrine_Collection                   getSubPackagePostContractStandardClaims()      Returns the current record's "SubPackagePostContractStandardClaims" collection
 * @method SubPackagePostContractClaimRevision   setSubPackageId()                              Sets the current record's "sub_package_id" value
 * @method SubPackagePostContractClaimRevision   setVersion()                                   Sets the current record's "version" value
 * @method SubPackagePostContractClaimRevision   setCurrentSelectedRevision()                   Sets the current record's "current_selected_revision" value
 * @method SubPackagePostContractClaimRevision   setLockedStatus()                              Sets the current record's "locked_status" value
 * @method SubPackagePostContractClaimRevision   setSubPackage()                                Sets the current record's "SubPackage" value
 * @method SubPackagePostContractClaimRevision   setSubPackagePreliminariesClaim()              Sets the current record's "SubPackagePreliminariesClaim" value
 * @method SubPackagePostContractClaimRevision   setSubPackagePreliminariesInitialClaimRate()   Sets the current record's "SubPackagePreliminariesInitialClaimRate" value
 * @method SubPackagePostContractClaimRevision   setSubPackagePreliminariesTimeBasedClaimRate() Sets the current record's "SubPackagePreliminariesTimeBasedClaimRate" value
 * @method SubPackagePostContractClaimRevision   setSubPackagePreliminariesWorkBasedClaimRate() Sets the current record's "SubPackagePreliminariesWorkBasedClaimRate" value
 * @method SubPackagePostContractClaimRevision   setSubPackagePreliminariesFinalClaimRate()     Sets the current record's "SubPackagePreliminariesFinalClaimRate" value
 * @method SubPackagePostContractClaimRevision   setSubPackagePostContractStandardClaims()      Sets the current record's "SubPackagePostContractStandardClaims" collection
 * 
 * @package    buildspace
 * @subpackage model
 * @author     1337 developers
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
abstract class BaseSubPackagePostContractClaimRevision extends sfDoctrineRecord
{
    public function setTableDefinition()
    {
        $this->setTableName('sub_package_post_contract_claim_revisions');
        $this->hasColumn('sub_package_id', 'integer', null, array(
             'type' => 'integer',
             'notnull' => true,
             ));
        $this->hasColumn('version', 'integer', 2, array(
             'type' => 'integer',
             'default' => 0,
             'unsigned' => true,
             'length' => 2,
             ));
        $this->hasColumn('current_selected_revision', 'boolean', null, array(
             'type' => 'boolean',
             'default' => false,
             ));
        $this->hasColumn('locked_status', 'boolean', null, array(
             'type' => 'boolean',
             'default' => false,
             ));


        $this->index('sub_package_post_contract_revision_version_idx', array(
             'fields' => 
             array(
              0 => 'sub_package_id',
              1 => 'version',
              2 => 'current_selected_revision',
             ),
             'type' => 'unique',
             ));
        $this->option('orderBy', 'id');
        $this->option('symfony', array(
             'filter' => false,
             ));
    }

    public function setUp()
    {
        parent::setUp();
        $this->hasOne('SubPackage', array(
             'local' => 'sub_package_id',
             'foreign' => 'id',
             'onDelete' => 'CASCADE'));

        $this->hasOne('SubPackagePreliminariesClaim', array(
             'local' => 'id',
             'foreign' => 'claim_at_revision_id'));

        $this->hasOne('SubPackagePreliminariesInitialClaim as SubPackagePreliminariesInitialClaimRate', array(
             'local' => 'id',
             'foreign' => 'revision_id'));

        $this->hasOne('SubPackagePreliminariesTimeBasedClaim as SubPackagePreliminariesTimeBasedClaimRate', array(
             'local' => 'id',
             'foreign' => 'revision_id'));

        $this->hasOne('SubPackagePreliminariesWorkBasedClaim as SubPackagePreliminariesWorkBasedClaimRate', array(
             'local' => 'id',
             'foreign' => 'revision_id'));

        $this->hasOne('SubPackagePreliminariesFinalClaim as SubPackagePreliminariesFinalClaimRate', array(
             'local' => 'id',
             'foreign' => 'revision_id'));

        $this->hasMany('SubPackagePostContractStandardClaim as SubPackagePostContractStandardClaims', array(
             'local' => 'id',
             'foreign' => 'revision_id'));

        $timestampable0 = new Doctrine_Template_Timestampable();
        $softdelete0 = new Doctrine_Template_SoftDelete();
        $signable0 = new Doctrine_Template_Signable();
        $this->actAs($timestampable0);
        $this->actAs($softdelete0);
        $this->actAs($signable0);
    }
}