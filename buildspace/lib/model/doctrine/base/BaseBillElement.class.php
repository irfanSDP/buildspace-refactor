<?php
// Connection Component Binding
Doctrine_Manager::getInstance()->bindComponent('BillElement', 'main_conn');

/**
 * BaseBillElement
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @property int                                                            $id                                                          Type: integer, primary key
 * @property string                                                         $description                                                 Type: string
 * @property string                                                         $note                                                        Type: string
 * @property int                                                            $project_structure_id                                        Type: integer
 * @property string                                                         $tender_origin_id                                            Type: string
 * @property int                                                            $priority                                                    Type: integer
 * @property int                                                            $project_revision_id                                         Type: integer
 * @property ProjectStructure                                               $ProjectStructure                                            
 * @property ProjectRevision                                                $ProjectRevision                                             
 * @property Doctrine_Collection|BillElementFormulatedColumn[]              $FormulatedColumns                                           
 * @property Doctrine_Collection|BillElementTypeReference[]                 $BillElementTypeReferences                                   
 * @property Doctrine_Collection|BillItem[]                                 $Items                                                       
 * @property Doctrine_Collection|BillCollectionPage[]                       $BillCollectionPages                                         
 * @property Doctrine_Collection|BillPage[]                                 $BillPages                                                   
 * @property Doctrine_Collection|TenderBillElementRationalizedGrandTotal[]  $TenderCompanyElementGrandTotals                             
 *  
 * @method int                                                              getId()                                                      Type: integer, primary key
 * @method string                                                           getDescription()                                             Type: string
 * @method string                                                           getNote()                                                    Type: string
 * @method int                                                              getProjectStructureId()                                      Type: integer
 * @method string                                                           getTenderOriginId()                                          Type: string
 * @method int                                                              getPriority()                                                Type: integer
 * @method int                                                              getProjectRevisionId()                                       Type: integer
 * @method ProjectStructure                                                 getProjectStructure()                                        
 * @method ProjectRevision                                                  getProjectRevision()                                         
 * @method Doctrine_Collection|BillElementFormulatedColumn[]                getFormulatedColumns()                                       
 * @method Doctrine_Collection|BillElementTypeReference[]                   getBillElementTypeReferences()                               
 * @method Doctrine_Collection|BillItem[]                                   getItems()                                                   
 * @method Doctrine_Collection|BillCollectionPage[]                         getBillCollectionPages()                                     
 * @method Doctrine_Collection|BillPage[]                                   getBillPages()                                               
 * @method Doctrine_Collection|TenderBillElementRationalizedGrandTotal[]    getTenderCompanyElementGrandTotals()                         
 *  
 * @method BillElement                                                      setId(int $val)                                              Type: integer, primary key
 * @method BillElement                                                      setDescription(string $val)                                  Type: string
 * @method BillElement                                                      setNote(string $val)                                         Type: string
 * @method BillElement                                                      setProjectStructureId(int $val)                              Type: integer
 * @method BillElement                                                      setTenderOriginId(string $val)                               Type: string
 * @method BillElement                                                      setPriority(int $val)                                        Type: integer
 * @method BillElement                                                      setProjectRevisionId(int $val)                               Type: integer
 * @method BillElement                                                      setProjectStructure(ProjectStructure $val)                   
 * @method BillElement                                                      setProjectRevision(ProjectRevision $val)                     
 * @method BillElement                                                      setFormulatedColumns(Doctrine_Collection $val)               
 * @method BillElement                                                      setBillElementTypeReferences(Doctrine_Collection $val)       
 * @method BillElement                                                      setItems(Doctrine_Collection $val)                           
 * @method BillElement                                                      setBillCollectionPages(Doctrine_Collection $val)             
 * @method BillElement                                                      setBillPages(Doctrine_Collection $val)                       
 * @method BillElement                                                      setTenderCompanyElementGrandTotals(Doctrine_Collection $val) 
 *  
 * @package    buildspace
 * @subpackage model
 * @author     1337 developers
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
abstract class BaseBillElement extends sfDoctrineRecord
{
    public function setTableDefinition()
    {
        $this->setTableName('bill_elements');
        $this->hasColumn('id', 'integer', null, array(
             'type' => 'integer',
             'primary' => true,
             'autoincrement' => true,
             ));
        $this->hasColumn('description', 'string', null, array(
             'type' => 'string',
             'notnull' => false,
             ));
        $this->hasColumn('note', 'string', null, array(
             'type' => 'string',
             'notnull' => false,
             ));
        $this->hasColumn('project_structure_id', 'integer', null, array(
             'type' => 'integer',
             'notnull' => true,
             ));
        $this->hasColumn('tender_origin_id', 'string', null, array(
             'type' => 'string',
             'notnull' => false,
             ));
        $this->hasColumn('priority', 'integer', null, array(
             'type' => 'integer',
             'notnull' => true,
             'default' => 0,
             ));
        $this->hasColumn('project_revision_id', 'integer', null, array(
             'type' => 'integer',
             'notnull' => false,
             ));


        $this->index('bill_elem_id_idx', array(
             'fields' => 
             array(
              0 => 'id',
              1 => 'project_structure_id',
             ),
             ));
        $this->index('bill_elem_priority_unique_idx', array(
             'fields' => 
             array(
              0 => 'priority',
              1 => 'project_structure_id',
              2 => 'deleted_at',
             ),
             'type' => 'unique',
             ));
        $this->option('symfony', array(
             'filter' => false,
             'form' => false,
             ));
    }

    public function setUp()
    {
        parent::setUp();
        $this->hasOne('ProjectStructure', array(
             'local' => 'project_structure_id',
             'foreign' => 'id',
             'onDelete' => 'CASCADE'));

        $this->hasOne('ProjectRevision', array(
             'local' => 'project_revision_id',
             'foreign' => 'id',
             'onDelete' => 'CASCADE'));

        $this->hasMany('BillElementFormulatedColumn as FormulatedColumns', array(
             'local' => 'id',
             'foreign' => 'relation_id'));

        $this->hasMany('BillElementTypeReference as BillElementTypeReferences', array(
             'local' => 'id',
             'foreign' => 'bill_element_id'));

        $this->hasMany('BillItem as Items', array(
             'local' => 'id',
             'foreign' => 'element_id'));

        $this->hasMany('BillCollectionPage as BillCollectionPages', array(
             'local' => 'id',
             'foreign' => 'element_id'));

        $this->hasMany('BillPage as BillPages', array(
             'local' => 'id',
             'foreign' => 'element_id'));

        $this->hasMany('TenderBillElementRationalizedGrandTotal as TenderCompanyElementGrandTotals', array(
             'local' => 'id',
             'foreign' => 'bill_element_id'));

        $timestampable0 = new Doctrine_Template_Timestampable(array(
             ));
        $signable0 = new Doctrine_Template_Signable(array(
             ));
        $softdelete0 = new Doctrine_Template_SoftDelete(array(
             ));
        $this->actAs($timestampable0);
        $this->actAs($signable0);
        $this->actAs($softdelete0);
    }
}