!function(k){function t(i,t){var n=0;"left"===t.series.bars.align?n=t.series.bars.barWidth/2:"right"===t.series.bars.align&&(n=-t.series.bars.barWidth/2);var r=t.series.bars.numbers;t.series.bars.horizontal?(r.xAlign=r.xAlign||function(i){return i/2},r.yAlign=r.yAlign||function(i){return i+n},r.horizontalShift=0):("center"===t.series.bars.align?r.xAlign=r.xAlign||function(i){return i}:r.xAlign=r.xAlign||function(i){return i+n/2},r.yAlign=r.yAlign||function(i){return i/2},r.horizontalShift=1)}function n(z,S){k.each(z.getData(),function(i,t){var n=t.bars.numbers.show;if(n){var r=jQuery.isFunction(n)?n:function(i){return i.toString(10)},e=t.datapoints.pointsize,s=t.datapoints.points,a=z.getPlotOffset();S.save(),S.textBaseline="middle",S.textAlign="center";var o=t.bars.numbers.font;if(o){o.color&&(S.fillStyle=o.color,S.strokeStyle=o.color);var l=o.size?o.size+"px":"";l=o.style?l+" "+o.style:l,l=o.weight?l+" "+o.weight:l,""!==(l=o.family?l+" "+o.family:l)&&(S.font=l)}for(var u=t.bars.numbers.xAlign,f=t.bars.numbers.yAlign,x={0:"x",1:"y"},b=t.bars.numbers.horizontalShift,g=0;g<s.length;g+=e){var c,m=g+b,h={x:u(s[g]),y:f(s[g+1])};if(null!=t.stack){var y=t.data[g/3][b];h[x[b]]=s[m]-y+(0==b?u:f)(y),c=y}else c=s[m];if(!(t.xaxis.min&&h.x<t.xaxis.min||t.xaxis.max&&h.x>t.xaxis.max||t.yaxis.min&&h.y<t.yaxis.min||t.yaxis.max&&h.y>t.yaxis.max)){var p=z.p2c(h),v=r(c);S.lineWidth=.2;function A(i,t,n){S.strokeText(i,t,n),null!=i&&S.fillText(i,t,n)}if(k.isNumeric(t.bars.numbers.rotate)){var d=t.bars.numbers.rotate;S.save(),S.translate(p.left+a.left,p.top+a.top+1),S.rotate(d*Math.PI/180),A(v,0,0),S.restore()}else A(v,p.left+a.left,p.top+a.top+1)}}S.restore()}})}k.plot.plugins.push({init:function(i){i.hooks.processOptions.push(t),i.hooks.draw.push(n)},options:{bars:{numbers:{}}},name:"barnumbers",version:"0.8"})}(jQuery);